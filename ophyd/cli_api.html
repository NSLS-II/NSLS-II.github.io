
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Command line interface to Ophyd &mdash; NSLS-II Controls Docs 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.2.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.2.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bnl-styles.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="NSLS-II Controls Docs 0.0.1 documentation" href="../index.html" />
    <link rel="next" title="Step Scan Interface to Ophyd" href="scan_api.html" />
    <link rel="prev" title="Quick Start" href="../quick-start.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          NSLS-II Controls Docs</a>
        <span class="navbar-text navbar-version pull-left"><b>0.0.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quick-start.html">Quick Start</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Command line interface to Ophyd</a></li>
<li class="toctree-l1"><a class="reference internal" href="scan_api.html">Step Scan Interface to Ophyd</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pyolog/pyolog.html">Simple Python Interface to The Olog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../broker/basics.html">DataBroker Basics</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../filestore/index.html">Introduction to File Store</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arch/arch.html">NSLS-II Beamline Controls Architecture</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Command line interface to Ophyd</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="../quick-start.html" title="Previous Chapter: Quick Start"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Quick Start</span>
    </a>
  </li>
  <li>
    <a href="scan_api.html" title="Next Chapter: Step Scan Interface to Ophyd"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Step Scan Interf... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/ophyd/cli_api.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="module-ophyd.userapi.cli_api">
<span id="command-line-interface-to-ophyd"></span><h1>Command line interface to Ophyd<a class="headerlink" href="#module-ophyd.userapi.cli_api" title="Permalink to this headline">¶</a></h1>
<p>Command Line Interface to opyd objects</p>
<dl class="function">
<dt id="ophyd.userapi.cli_api.mov">
<tt class="descclassname">ophyd.userapi.cli_api.</tt><tt class="descname">mov</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ophyd.userapi.cli_api.mov" title="Permalink to this definition">¶</a></dt>
<dd><p>Move positioners to given positions</p>
<p>Move positioners using the move method of the Positioner class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>positioner</strong> (<em>Positioner or list</em>) &#8211; Positioners to move</li>
<li><strong>position</strong> (<em>float or list of float</em>) &#8211; Values to move positioners to.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Move a single positioner <cite>slt1_xc</cite> to 10:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="go">&gt;&gt;&gt;mov(slt1_xc, 10)</span>
</pre></div>
</div>
<p>Move positioner <cite>slt1_xg</cite> and <cite>slt1_yg</cite> to 2 and 3 respectively:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="go">&gt;&gt;&gt;mov([slt1_xg, slt1_yg], [2, 3])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="ophyd.userapi.cli_api.movr">
<tt class="descclassname">ophyd.userapi.cli_api.</tt><tt class="descname">movr</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ophyd.userapi.cli_api.movr" title="Permalink to this definition">¶</a></dt>
<dd><p>Move positioners relative to their current positon.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ophyd.userapi.cli_api.mov" title="ophyd.userapi.cli_api.mov"><tt class="xref py py-func docutils literal"><span class="pre">mov()</span></tt></a></dt>
<dd>move positioners to an absolute position.</dd>
</dl>
</div>
</dd></dl>

<dl class="function">
<dt id="ophyd.userapi.cli_api.set_pos">
<tt class="descclassname">ophyd.userapi.cli_api.</tt><tt class="descname">set_pos</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ophyd.userapi.cli_api.set_pos" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the position of a positioner</p>
<p>Set the position of a positioner or positioners to the value position.
This function only works for EpicsMotors (Based on the EPICS Motor Record)
and uses the .OFF field to set the current position to the value passed to
the function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>positioner</strong> (<em>Positioner or list of positioners.</em>) &#8211; </li>
<li><strong>position</strong> (<em>float or list of floats.</em>) &#8211; New position of positioners</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><tt class="xref py py-exc docutils literal"><span class="pre">TypeError</span></tt> &#8211;
If positioner is not an instance of an EpicsMotor.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Set the position of motor m1 to 4:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="go">&gt;&gt;&gt;set_pos(m1, 4)</span>
</pre></div>
</div>
<p>Set the position of motors m1 and m2 to 1 and 2 respectively:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="go">&gt;&gt;&gt;set_pos([m1, m2], [1, 2])</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><tt class="xref py py-exc docutils literal"><span class="pre">TypeError</span></tt> &#8211; 
If positioner is not an instance of an EpicsMotor.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ophyd.userapi.cli_api.wh_pos">
<tt class="descclassname">ophyd.userapi.cli_api.</tt><tt class="descname">wh_pos</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ophyd.userapi.cli_api.wh_pos" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current position of Positioners and print to screen.</p>
<p>Print to the screen the position of the positioners in a formated table.
If positioners is None then get all registered positioners from the
session manager.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="#ophyd.userapi.cli_api.log_pos" title="ophyd.userapi.cli_api.log_pos"><tt class="xref py py-func docutils literal"><span class="pre">log_pos()</span></tt></a></dt>
<dd>Log positioner values to logbook</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>List all positioners:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="go">&gt;&gt;&gt;wh_pos()</span>
</pre></div>
</div>
<p>List positioners <cite>m1</cite>, <cite>m2</cite> and <cite>m3</cite>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="go">&gt;&gt;&gt;wh_pos([m1, m2, m3])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="ophyd.userapi.cli_api.set_lm">
<tt class="descclassname">ophyd.userapi.cli_api.</tt><tt class="descname">set_lm</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ophyd.userapi.cli_api.set_lm" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the limits of the positioner</p>
<p>Sets the limits of the positioner or list of positioners. For EpicsMotors
the fields .HLM and .LLM are set to the high and low limits respectively.
For PVPositioners the .DRVH and .DRVL fields are set on the setopoint
record. If neither method works then an IOError is raised.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>positioner</strong> (<em>positioner or list of positioners</em>) &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><tt class="xref py py-exc docutils literal"><span class="pre">IOError</span></tt> &#8211;
If the caput (EPICS put) fails then an IOError is raised.</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Set the limits of motor <cite>m1</cite> to (10, -10):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="go">&gt;&gt;&gt;set_lm(slt1_xc, (10, -10))</span>
</pre></div>
</div>
<p>Set the limits of motors <cite>m1</cite> and <cite>m2</cite> to (2, -2) and (3, -3)
respectively:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="go">&gt;&gt;&gt;set_lm([m1, m2], [[2,-2], [3, -3]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="ophyd.userapi.cli_api.log_pos">
<tt class="descclassname">ophyd.userapi.cli_api.</tt><tt class="descname">log_pos</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ophyd.userapi.cli_api.log_pos" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current position of Positioners and make a logbook entry.</p>
<p>Print to the screen the position of the positioners and make a logbook
text entry. If positioners is None then get all registered positioners
from the session manager. This routine also creates session information
in the logbook so positions can be recovered.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The ID of the logbook entry returned by the logbook.log method.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="ophyd.userapi.cli_api.log_pos_diff">
<tt class="descclassname">ophyd.userapi.cli_api.</tt><tt class="descname">log_pos_diff</tt><big>(</big><em>id=None</em>, <em>positioners=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ophyd.userapi.cli_api.log_pos_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Move to positions located in logboook</p>
<p>This function compares positions recorded in the experimental logbook
using the <a class="reference internal" href="#ophyd.userapi.cli_api.log_pos" title="ophyd.userapi.cli_api.log_pos"><tt class="xref py py-func docutils literal"><span class="pre">log_pos()</span></tt></a> function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>id</strong> (<em>integer</em>) &#8211; ID of logbook entry to search for and move positions to.</li>
<li><strong>positioners</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; List of string names of positioners to compare. Other positioners
in the log entry will be ignored.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2015, Stuart B. Wilkins.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>