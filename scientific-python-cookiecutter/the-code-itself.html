<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Code Itself &mdash; Scientific Python Cookiecutter 0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Guiding Design Principles" href="guiding-design-principles.html" />
    <link rel="prev" title="Getting Started" href="preliminaries.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Scientific Python Cookiecutter
          </a>
              <div class="version">
                0.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="philosophy.html">Philosophy of this Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="preliminaries.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">The Code Itself</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#a-simple-function-with-inline-documentation">A simple function with inline documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#update-requirements">Update Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#try-it">Try it</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-the-tests">Run the Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#write-a-test">Write a Test</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lint-check-for-suspicious-looking-code">“Lint”: Check for suspicious-looking code</a></li>
<li class="toctree-l2"><a class="reference internal" href="#commit-and-push-changes">Commit and Push Changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multiple-modules">Multiple modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="guiding-design-principles.html">Guiding Design Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="ci.html">Continous Integration Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="pre-commit.html">Git hooks and pre-commit</a></li>
<li class="toctree-l1"><a class="reference internal" href="writing-docs.html">Writing Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="including-data-files.html">Including Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="publishing-docs.html">Publishing the Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="publishing-releases.html">Publishing Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced-testing.html">Common Patterns for Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="environments.html">Environments and Package Managers</a></li>
<li class="toctree-l1"><a class="reference internal" href="further-reading.html">Futher Reading</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Scientific Python Cookiecutter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">The Code Itself</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/the-code-itself.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="the-code-itself">
<h1>The Code Itself<a class="headerlink" href="#the-code-itself" title="Permalink to this heading">¶</a></h1>
<p>In this section you will:</p>
<ul class="simple">
<li><p>Put some scientific code in your new Python package.</p></li>
<li><p>Update your package’s list of dependencies in <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code>.</p></li>
<li><p>Write a test and run the test suite.</p></li>
<li><p>Use a “linter” and style-checker.</p></li>
<li><p>Commit your changes to git and sync your changes with GitHub.</p></li>
</ul>
<section id="a-simple-function-with-inline-documentation">
<h2>A simple function with inline documentation<a class="headerlink" href="#a-simple-function-with-inline-documentation" title="Permalink to this heading">¶</a></h2>
<p>Let’s write a simple function that encodes
<a class="reference external" href="https://en.wikipedia.org/wiki/Snell%27s_law">Snell’s Law</a> and include it in
our Python package.</p>
<p>Look again at the directory structure.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>example/
├── .flake8
├── .gitattributes
├── .gitignore
├── .travis.yml
├── AUTHORS.rst
├── CONTRIBUTING.rst
├── LICENSE
├── MANIFEST.in
├── README.rst
├── docs
│   ├── Makefile
│   ├── build
│   ├── make.bat
│   └── source
│       ├── _static
│       │   └── .placeholder
│       ├── _templates
│       ├── conf.py
│       ├── index.rst
│       ├── installation.rst
│       ├── release-history.rst
│       └── usage.rst
├── example
│   ├── __init__.py
│   ├── _version.py
│   └── tests
│       └── test_examples.py
├── requirements-dev.txt
├── requirements.txt
├── setup.cfg
├── setup.py
└── versioneer.py
</pre></div>
</div>
<p>Our scientific code should go in the <code class="docutils literal notranslate"><span class="pre">example/</span></code> subdirectory, next to
<code class="docutils literal notranslate"><span class="pre">__init__.py</span></code>. Let’s make a new file in that directory named
<code class="docutils literal notranslate"><span class="pre">refraction.py</span></code>, meaning our new layout will be:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>├── example
│   ├── __init__.py
│   ├── _version.py
│   ├── refraction.py
│   └── tests
│       └── test_examples.py
</pre></div>
</div>
<p>This is our new file. You may follow along exactly or, instead, make a file
with a different name and your own scientific function.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># example/refraction.py</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>


<span class="k">def</span> <span class="nf">snell</span><span class="p">(</span><span class="n">theta_inc</span><span class="p">,</span> <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute the refraction angle using Snell&#39;s Law.</span>

<span class="sd">    See https://en.wikipedia.org/wiki/Snell%27s_law</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    theta_inc : float</span>
<span class="sd">        Incident angle in radians.</span>
<span class="sd">    n1, n2 : float</span>
<span class="sd">        The refractive index of medium of origin and destination medium.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    theta : float</span>
<span class="sd">        refraction angle</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    A ray enters an air--water boundary at pi/4 radians (45 degrees).</span>
<span class="sd">    Compute exit angle.</span>

<span class="sd">    &gt;&gt;&gt; snell(np.pi/4, 1.00, 1.33)</span>
<span class="sd">    0.5605584137424605</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">arcsin</span><span class="p">(</span><span class="n">n1</span> <span class="o">/</span> <span class="n">n2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta_inc</span><span class="p">))</span>
</pre></div>
</div>
<p>Notice that this example includes inline documentation — a “docstring”. This
is extremely useful for collaborators, and the most common collaborator is
Future You!</p>
<p>Further, by following the
<a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html">numpydoc standard</a>,
we will be able to automatically generate nice-looking HTML documentation
later. Notable features:</p>
<ul>
<li><p>There is a succinct, one-line summary of the function’s purpose. It must one
line.</p></li>
<li><p>(Optional) There is an paragraph elaborating on that summary.</p></li>
<li><p>There is a section listing input parameters, with the structure</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>parameter_name : parameter_type
    optional description
</pre></div>
</div>
<p>Note that space before the <code class="docutils literal notranslate"><span class="pre">:</span></code>. That is part of the standard.</p>
</li>
<li><p>Similar parameters may be combined into one entry for brevity’s sake, as we
have done for <code class="docutils literal notranslate"><span class="pre">n1,</span> <span class="pre">n2</span></code> here.</p></li>
<li><p>There is a section describing what the function returns.</p></li>
<li><p>(Optional) There is a section of one or more examples.</p></li>
</ul>
<p>We will revisit docstrings in the section on <a class="reference internal" href="writing-docs.html"><span class="doc">Writing Documentation</span></a>.</p>
</section>
<section id="update-requirements">
<h2>Update Requirements<a class="headerlink" href="#update-requirements" title="Permalink to this heading">¶</a></h2>
<p>Notice that our package has a third-party dependency, numpy. We should
update our package’s <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span># requirements.txt

# List required packages in this file, one per line.
numpy
</pre></div>
</div>
<p>Our cookiecutter configured <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> to read this file. It will ensure that
numpy is installed when our package is installed.</p>
<p>We can test it by reinstalling the package.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
</pre></div>
</div>
</section>
<section id="try-it">
<h2>Try it<a class="headerlink" href="#try-it" title="Permalink to this heading">¶</a></h2>
<p>Try importing and using the function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">example.refraction</span> <span class="kn">import</span> <span class="n">snell</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">snell</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="mf">1.00</span><span class="p">,</span> <span class="mf">1.33</span><span class="p">)</span>
<span class="go">1.2239576240104186</span>
</pre></div>
</div>
<p>The docstring can be viewed with <a class="reference external" href="https://docs.python.org/3/library/functions.html#help" title="(in Python v3.11)"><code class="xref py py-func docutils literal notranslate"><span class="pre">help()</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">snell</span><span class="p">)</span>
</pre></div>
</div>
<p>Or, as a shortcut, use <code class="docutils literal notranslate"><span class="pre">?</span></code> in IPython/Jupyter.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span>snell<span class="o">?</span>
</pre></div>
</div>
</section>
<section id="run-the-tests">
<h2>Run the Tests<a class="headerlink" href="#run-the-tests" title="Permalink to this heading">¶</a></h2>
<p>You should add a test right away while the details are still fresh in mind.
Writing tests encourages you to write modular, reusable code, which is easier
to test.</p>
<p>The cookiecutter template included an example test suite with one test:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># example/tests/test_examples.py</span>

<span class="k">def</span> <span class="nf">test_one_plus_one_is_two</span><span class="p">():</span>
    <span class="k">assert</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">==</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Before writing our own test, let’s practice running that test to check that
everything is working.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>We assume you have installed the “development requirements,” as covered
in <a class="reference internal" href="preliminaries.html"><span class="doc">Getting Started</span></a>. If you are not sure whether you have, there is no
harm in running this a second time:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>-r<span class="w"> </span>requirements-dev.txt
</pre></div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>pytest
</pre></div>
</div>
<p>This walks through all the directories and files in our package that start with
the word ‘test’ and collects all the functions whose name also starts with
<code class="docutils literal notranslate"><span class="pre">test</span></code>. Currently, there is just one, <code class="docutils literal notranslate"><span class="pre">test_one_plus_one_is_two</span></code>.
<code class="docutils literal notranslate"><span class="pre">pytest</span></code> runs that function. If no exceptions are raised, the test passes.</p>
<p>The output should look something like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">========================================</span><span class="w"> </span><span class="nb">test</span><span class="w"> </span>session<span class="w"> </span><span class="nv">starts</span><span class="w"> </span><span class="o">========================================</span>
platform<span class="w"> </span>darwin<span class="w"> </span>--<span class="w"> </span>Python<span class="w"> </span><span class="m">3</span>.6.4,<span class="w"> </span>pytest-3.6.2,<span class="w"> </span>py-1.5.4,<span class="w"> </span>pluggy-0.6.0
benchmark:<span class="w"> </span><span class="m">3</span>.1.1<span class="w"> </span><span class="o">(</span>defaults:<span class="w"> </span><span class="nv">timer</span><span class="o">=</span>time.perf_counter<span class="w"> </span><span class="nv">disable_gc</span><span class="o">=</span>False<span class="w"> </span><span class="nv">min_rounds</span><span class="o">=</span><span class="m">5</span><span class="w"> </span><span class="nv">min_time</span><span class="o">=</span><span class="m">0</span>.000005<span class="w"> </span><span class="nv">max_time</span><span class="o">=</span><span class="m">1</span>.0<span class="w"> </span><span class="nv">calibration_precision</span><span class="o">=</span><span class="m">10</span><span class="w"> </span><span class="nv">warmup</span><span class="o">=</span>False<span class="w"> </span><span class="nv">warmup_iterations</span><span class="o">=</span><span class="m">100000</span><span class="o">)</span>
rootdir:<span class="w"> </span>/private/tmp/test11/example,<span class="w"> </span>inifile:
plugins:<span class="w"> </span>xdist-1.22.2,<span class="w"> </span>timeout-1.2.1,<span class="w"> </span>rerunfailures-4.0,<span class="w"> </span>pep8-1.0.6,<span class="w"> </span>lazy-fixture-0.3.0,<span class="w"> </span>forked-0.2,<span class="w"> </span>benchmark-3.1.1
collected<span class="w"> </span><span class="m">1</span><span class="w"> </span>item

example/tests/test_examples.py<span class="w"> </span>.<span class="w">                                                              </span><span class="o">[</span><span class="m">100</span>%<span class="o">]</span>

<span class="o">=====================================</span><span class="w"> </span><span class="m">1</span><span class="w"> </span>passed<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0</span>.02<span class="w"> </span><span class="nv">seconds</span><span class="w"> </span><span class="o">======================================</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The output of <code class="docutils literal notranslate"><span class="pre">pytest</span></code> is customizable. Commonly useful command-line
arguments include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-v</span></code> verbose</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-s</span></code> Do not capture stdout/err per test.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-k</span> <span class="pre">EXPRESSION</span></code> Filter tests by pattern-matching test name.</p></li>
</ul>
<p>Consult the <a class="reference external" href="https://docs.pytest.org/en/latest/">pytest documentation</a>
for more.</p>
</div>
</section>
<section id="write-a-test">
<h2>Write a Test<a class="headerlink" href="#write-a-test" title="Permalink to this heading">¶</a></h2>
<p>Let’s add a test to <code class="docutils literal notranslate"><span class="pre">test_examples.py</span></code> that exercises our <code class="docutils literal notranslate"><span class="pre">snell</span></code> function.
We can delete <code class="docutils literal notranslate"><span class="pre">test_one_plus_one_is_two</span></code> now.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># example/tests/test_examples.py</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">..refraction</span> <span class="kn">import</span> <span class="n">snell</span>
<span class="c1"># (The above is equivalent to `from example.refraction import snell`.</span>
<span class="c1"># Read on for why.)</span>


<span class="k">def</span> <span class="nf">test_perpendicular</span><span class="p">():</span>
    <span class="c1"># For any indexes, a ray normal to the surface should not bend.</span>
    <span class="c1"># We&#39;ll try a couple different combinations of indexes....</span>

    <span class="n">actual</span> <span class="o">=</span> <span class="n">snell</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">2.00</span><span class="p">,</span> <span class="mf">3.00</span><span class="p">)</span>
    <span class="n">expected</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">assert</span> <span class="n">actual</span> <span class="o">==</span> <span class="n">expected</span>

    <span class="n">actual</span> <span class="o">=</span> <span class="n">snell</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">3.00</span><span class="p">,</span> <span class="mf">2.00</span><span class="p">)</span>
    <span class="n">expected</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">assert</span> <span class="n">actual</span> <span class="o">==</span> <span class="n">expected</span>


<span class="k">def</span> <span class="nf">test_air_water</span><span class="p">():</span>
    <span class="n">n_air</span><span class="p">,</span> <span class="n">n_water</span> <span class="o">=</span> <span class="mf">1.00</span><span class="p">,</span> <span class="mf">1.33</span>
    <span class="n">actual</span> <span class="o">=</span> <span class="n">snell</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="n">n_air</span><span class="p">,</span> <span class="n">n_water</span><span class="p">)</span>
    <span class="n">expected</span> <span class="o">=</span> <span class="mf">0.5605584137424605</span>
    <span class="k">assert</span> <span class="n">np</span><span class="o">.</span><span class="n">allclose</span><span class="p">(</span><span class="n">actual</span><span class="p">,</span> <span class="n">expected</span><span class="p">)</span>
</pre></div>
</div>
<p>Things to notice:</p>
<ul class="simple">
<li><p>It is sometime useful to put multiple <code class="docutils literal notranslate"><span class="pre">assert</span></code> statements in one test. You
should make a separate test for each <em>behavior</em> that you are checking. When a
monolithic, multi-step tests fails, it’s difficult to figure out why.</p></li>
<li><p>When comparing floating-point numbers (as opposed to integers) you should not
test for exact equality. Use <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.allclose.html#numpy.allclose" title="(in NumPy v1.25)"><code class="xref py py-func docutils literal notranslate"><span class="pre">numpy.allclose()</span></code></a>, which checks for
equality within a (configurable) tolerance. Numpy provides several
<a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/routines.testing.html">testing utilities</a>,
which should always be used when testing numpy arrays.</p></li>
<li><p>Remember that the names of all test modules and functions must begin with
<code class="docutils literal notranslate"><span class="pre">test</span></code> or they will not be picked up by pytest!</p></li>
</ul>
<p>See <a class="reference internal" href="advanced-testing.html"><span class="doc">Common Patterns for Tests</span></a> for more.</p>
</section>
<section id="lint-check-for-suspicious-looking-code">
<h2>“Lint”: Check for suspicious-looking code<a class="headerlink" href="#lint-check-for-suspicious-looking-code" title="Permalink to this heading">¶</a></h2>
<p>A <a class="reference external" href="https://en.wikipedia.org/wiki/Lint_(software)">linter</a> is a tool that
analyzes code to flag potential errors. For example, it can catch variables you
defined by never used, which is likely a spelling error.</p>
<p>The cookiecutter configured <code class="docutils literal notranslate"><span class="pre">flake8</span></code> for this purpose. Flake8 checks for
“lint” and also enforces the standard Python coding style,
<a class="reference external" href="https://www.python.org/dev/peps/pep-0008/?#introduction">PEP8</a>. Enforcing
consistent style helps projects stay easy to read and maintain as they grow.
While not all projects strictly enfore PEP8, we generally recommend it.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>We assume you have installed the “development requirements,” as covered
in <a class="reference internal" href="preliminaries.html"><span class="doc">Getting Started</span></a>. If you are not sure whether you have, there is no
harm in running this a second time:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>-r<span class="w"> </span>requirements-dev.txt
</pre></div>
</div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>flake8
</pre></div>
</div>
<p>This will list linting or stylistic errors. If there is no output, all is well.
See the <a class="reference external" href="http://flake8.pycqa.org/en/latest/">flake8 documentation</a> for more.</p>
</section>
<section id="commit-and-push-changes">
<h2>Commit and Push Changes<a class="headerlink" href="#commit-and-push-changes" title="Permalink to this heading">¶</a></h2>
<p>Remember to commit your changes to version control and push them up to GitHub.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The following is a quick reference that makes some assumptions about your
local configuration and workflow.</p>
<p>This usage is part of a workflow named <em>GitHub flow</em>. See
<a class="reference external" href="https://guides.github.com/introduction/flow/">this guide</a> for more.</p>
</div>
<p>Remember that at any time you may use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> to check which branch
you are currently on and which files have uncommitted changes. Use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code>
to review the content of those changes.</p>
<ol class="arabic">
<li><p>If you have not already done so, create a new “feature branch” for this work
with some descriptive name.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>master<span class="w">  </span><span class="c1"># Starting from the master branch...</span>
git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span>add-snell-function<span class="w">  </span><span class="c1"># ...make a new branch.</span>
</pre></div>
</div>
</li>
<li><p>Stage changes to be committed. In our example, we have created one new file
and changed an existing one. We <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> both.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>example/refraction.py
git<span class="w"> </span>add<span class="w"> </span>example/tests/test_examples.py
</pre></div>
</div>
</li>
<li><p>Commit changes.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;Add snell function and tests.&quot;</span>
</pre></div>
</div>
</li>
<li><p>Push changes to remote repository on GitHub.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>add-snell-function
</pre></div>
</div>
</li>
<li><p>Repeat steps 2-4 until you are happy with this feature.</p></li>
<li><p>Create a Pull Request — or merge to master.</p>
<p>When you are ready for collaborators to review your work and consider merging
the <code class="docutils literal notranslate"><span class="pre">add-snell-function</span></code> branch into the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch,
<a class="reference external" href="https://help.github.com/articles/creating-a-pull-request">create a pull request</a>.
Even if you presently have no collaborators, going through this process is a
useful way to document the history of changes to the project for any <em>future</em>
collaborators (and Future You).</p>
<p>However, if you are in the early stages of just getting a project up and you
are the only developer, you might skip the pull request step and merge the
changes yourself.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>checkout<span class="w"> </span>master
<span class="c1"># Ensure local master branch is up to date with remote master branch.</span>
git<span class="w"> </span>pull<span class="w"> </span>--ff-only<span class="w"> </span>origin<span class="w"> </span>master
<span class="c1"># Merge the commits from add-snell-function into master.</span>
git<span class="w"> </span>merge<span class="w"> </span>add-snell-function
<span class="c1"># Update the remote master branch.</span>
git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>master
</pre></div>
</div>
</li>
</ol>
</section>
<section id="multiple-modules">
<h2>Multiple modules<a class="headerlink" href="#multiple-modules" title="Permalink to this heading">¶</a></h2>
<p>We created just one module, <code class="docutils literal notranslate"><span class="pre">example.refraction</span></code>. We might eventually grow a
second module — say, <code class="docutils literal notranslate"><span class="pre">example.utils</span></code>. Some brief advice:</p>
<ul>
<li><p>When in doubt, resist the temptation to grow deep taxonomies of modules and
sub-packages, lest it become difficult for users and collaborators to
remember where everything is. The Python built-in libraries are generally
flat.</p></li>
<li><p>When making intra-package imports, we recommend relative imports.</p>
<p>This works:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># example/refraction.py</span>

from<span class="w"> </span>example<span class="w"> </span>import<span class="w"> </span>utils
from<span class="w"> </span>example.utils<span class="w"> </span>import<span class="w"> </span>some_function
</pre></div>
</div>
<p>but this is equivalent, and preferred:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># example/refraction.py</span>

from<span class="w"> </span>.<span class="w"> </span>import<span class="w"> </span>utils
from<span class="w"> </span>.utils<span class="w"> </span>import<span class="w"> </span>some_function
</pre></div>
</div>
<p>For one thing, if you change the name of the package in the future, you won’t
need to update this file.</p>
</li>
<li><p>Take care to avoid circular imports, wherein two modules each import the
other.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="preliminaries.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="guiding-design-principles.html" class="btn btn-neutral float-right" title="Guiding Design Principles" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018, Contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>