

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Release History &mdash; Bluesky Event Model 1.15.2.post23+g91d0b1c documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="External Assets" href="external.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Bluesky Event Model
          

          
          </a>

          
            
            
              <div class="version">
                1.15.2.post23+g91d0b1c
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-model.html">Data Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="external.html">External Assets</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Release History</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#v1-15-2-2020-06-12">v1.15.2 (2020-06-12)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#added">Added</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-15-1-2020-05-01">v1.15.1 (2020-05-01)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fixed">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-15-0-2020-04-27">v1.15.0 (2020-04-27)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Fixed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changed">Changed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-14-1-2020-04-06">v1.14.1 (2020-04-06)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-14-0-2020-03-11">v1.14.0 (2020-03-11)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id3">Fixed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">Changed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-13-3-2020-03-05">v1.13.3 (2020-03-05)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">Fixed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Changed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-13-2-2020-01-31">v1.13.2 (2020-01-31)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-13-1-2020-01-28">v1.13.1 (2020-01-28)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id8">Changed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-13-0-2020-01-21">v1.13.0 (2020-01-21)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id9">Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id10">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deprecated">Deprecated</a></li>
<li class="toctree-l3"><a class="reference internal" href="#internal-changes">Internal Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-12-0-2019-10-11">v1.12.0 (2019-10-11)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id11">Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id13">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-11-2-2019-09-03">v1.11.2 (2019-09-03)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id14">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-11-1-2019-08-09">v1.11.1 (2019-08-09)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id15">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-11-0-2019-06-27">v1.11.0 (2019-06-27)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id16">Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id17">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-10-0-2019-05-24">v1.10.0 (2019-05-24)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id18">Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-9-0-2019-05-01">v1.9.0 (2019-05-01)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id19">Added</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-8-3-2019-03-28">v1.8.3 (2019-03-28)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id21">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-8-2-2019-03-08">v1.8.2 (2019-03-08)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#v1-8-0-2019-03-05">v1.8.0 (2019-03-05)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id22">Added</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#v1-7-0-2019-01-03">v1.7.0 (2019-01-03)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id23">Added</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Bluesky Event Model</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Release History</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/release-history.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="release-history">
<h1>Release History<a class="headerlink" href="#release-history" title="Permalink to this headline">¶</a></h1>
<div class="section" id="v1-15-2-2020-06-12">
<h2>v1.15.2 (2020-06-12)<a class="headerlink" href="#v1-15-2-2020-06-12" title="Permalink to this headline">¶</a></h2>
<div class="section" id="added">
<h3>Added<a class="headerlink" href="#added" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Various documentation additions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jsonschema</span> <span class="pre">2.x</span></code> compatibility.</p></li>
<li><p>Better naming for handler subclasses.</p></li>
</ul>
</div>
</div>
<div class="section" id="v1-15-1-2020-05-01">
<h2>v1.15.1 (2020-05-01)<a class="headerlink" href="#v1-15-1-2020-05-01" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fixed">
<h3>Fixed<a class="headerlink" href="#fixed" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>A bug was fixed in <a class="reference internal" href="api.html#event_model.RunRouter" title="event_model.RunRouter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunRouter</span></code></a> which caused descriptor
documents to be sent to subfactory callback start methods.</p></li>
</ul>
</div>
</div>
<div class="section" id="v1-15-0-2020-04-27">
<h2>v1.15.0 (2020-04-27)<a class="headerlink" href="#v1-15-0-2020-04-27" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Fixed<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>In the data model documentation an erroneous link to the RunStart schema
was corrected to a link to the EventDescriptor schema.</p></li>
</ul>
</div>
<div class="section" id="changed">
<h3>Changed<a class="headerlink" href="#changed" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="api.html#event_model.SingleRunDocumentRouter" title="event_model.SingleRunDocumentRouter"><code class="xref py py-class docutils literal notranslate"><span class="pre">SingleRunDocumentRouter</span></code></a> was added with convenience
methods for getting the start document, the descriptor document for an event
document, and the stream name for an event document.</p></li>
<li><p>In v1.14.0, <a class="reference internal" href="api.html#event_model.RunRouter" title="event_model.RunRouter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunRouter</span></code></a> was changed to pass the
RunStart document directly to its callbacks. To smooth the transition, any
<code class="docutils literal notranslate"><span class="pre">Exception</span></code> raised by the callbacks was squashed and a warning printed. With
v1.15.0 these Exceptions are allowed to propagate. The warning is still
printed.</p></li>
</ul>
</div>
</div>
<div class="section" id="v1-14-1-2020-04-06">
<h2>v1.14.1 (2020-04-06)<a class="headerlink" href="#v1-14-1-2020-04-06" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3>Fixed<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>In v1.13.0, the <a class="reference internal" href="api.html#event_model.Filler" title="event_model.Filler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filler</span></code></a> object was unintentionally made
un-pickleable. It can now be pickled.</p></li>
<li><p>For validation purposes, we accept numpy arrays as “array”-like.</p></li>
</ul>
</div>
</div>
<div class="section" id="v1-14-0-2020-03-11">
<h2>v1.14.0 (2020-03-11)<a class="headerlink" href="#v1-14-0-2020-03-11" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id3">
<h3>Fixed<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Let <a class="reference internal" href="api.html#event_model.register_coersion" title="event_model.register_coersion"><code class="xref py py-func docutils literal notranslate"><span class="pre">register_coersion()</span></code></a> tolerate duplicate registration of
the same coersion as the long the duplicate is identical with the original
(i.e. <cite>func is original_func</cite>). This is now consistent with how handler
registration works.</p></li>
<li><p>Fix a critical typo in an error message codepath in
<a class="reference internal" href="api.html#event_model.register_coersion" title="event_model.register_coersion"><code class="xref py py-func docutils literal notranslate"><span class="pre">register_coersion()</span></code></a>.</p></li>
</ul>
</div>
<div class="section" id="id4">
<h3>Changed<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The <a class="reference internal" href="api.html#event_model.RunRouter" title="event_model.RunRouter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunRouter</span></code></a> hands RunStart documents to its factory
functions so they can decide which if any callbacks to subscribe for that
run. Formerly, the <a class="reference internal" href="api.html#event_model.RunRouter" title="event_model.RunRouter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunRouter</span></code></a> left it up to the factory
functions to pass the RunStart document through to any callbacks the factory
function returned. Now, the <a class="reference internal" href="api.html#event_model.RunRouter" title="event_model.RunRouter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunRouter</span></code></a> passes the
RunStart document to the callbacks directly, removing that responsibility
from the factory.  To smooth this transition, it does so inside a
<code class="docutils literal notranslate"><span class="pre">try...except</span></code> block and warns if any <code class="docutils literal notranslate"><span class="pre">Exception</span></code> is raised. This is a best
effort at backward-compatibility with factories that are currently passing
the RunStart document in, though it may not work in every case depending on
the details of the callback. Likewise for subfactories: the callbacks that
they return will be given the RunStart document and the relevant
EventDescriptor document inside a <code class="docutils literal notranslate"><span class="pre">try...except</span></code> block.</p></li>
</ul>
</div>
</div>
<div class="section" id="v1-13-3-2020-03-05">
<h2>v1.13.3 (2020-03-05)<a class="headerlink" href="#v1-13-3-2020-03-05" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id5">
<h3>Fixed<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Make <a class="reference internal" href="api.html#event_model.unpack_event_page" title="event_model.unpack_event_page"><code class="xref py py-func docutils literal notranslate"><span class="pre">unpack_event_page()</span></code></a> tolerant of Event Pages with
empty <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id6">
<h3>Changed<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Raise a more specific error when <a class="reference internal" href="api.html#event_model.Filler" title="event_model.Filler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filler</span></code></a> encounters
an error due to a malformed document.</p></li>
</ul>
<p>See the
<a class="reference external" href="https://github.com/bluesky/event-model/milestone/6">GitHub v1.13.3 milestone</a>
for a complete list of changes in this release.</p>
</div>
</div>
<div class="section" id="v1-13-2-2020-01-31">
<h2>v1.13.2 (2020-01-31)<a class="headerlink" href="#v1-13-2-2020-01-31" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id7">
<h3>Fixed<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>A bug in the new dispatch logic in <a class="reference internal" href="api.html#event_model.DocumentRouter" title="event_model.DocumentRouter"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentRouter</span></code></a>
introduced in v1.13.1 caused the dispatcher to sometimes return
<code class="docutils literal notranslate"><span class="pre">NotImplemented</span></code>. Now it always falls back to returning the original document
if the subclass returns <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">NotImplemented</span></code>.</p>
</div>
</div>
<div class="section" id="v1-13-1-2020-01-28">
<h2>v1.13.1 (2020-01-28)<a class="headerlink" href="#v1-13-1-2020-01-28" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id8">
<h3>Changed<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The <a class="reference internal" href="api.html#event_model.DocumentRouter" title="event_model.DocumentRouter"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentRouter</span></code></a> converts and routes Event and
EventPage documents correctly if either one or both of the methods
<code class="docutils literal notranslate"><span class="pre">event</span></code> or <code class="docutils literal notranslate"><span class="pre">event_page</span></code> is overridden in the subclass. Likewise for Datum
and DatumPage and the methods <code class="docutils literal notranslate"><span class="pre">datum</span></code> and <code class="docutils literal notranslate"><span class="pre">datum_page</span></code>. The base class
implementations all document-type methods now return the Python built-in
sentinel <code class="docutils literal notranslate"><span class="pre">NotImplemented</span></code> (not to be confused with the exception
<code class="docutils literal notranslate"><span class="pre">NotImplementedError</span></code>).</p></li>
<li><p>This retry-with-backoff loop in <a class="reference internal" href="api.html#event_model.Filler" title="event_model.Filler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filler</span></code></a> is now applied
to handler instantiation as well as handler calls. Either can involve I/O
with a filesystem that may lag slightly behind the availability of the
documents.</p></li>
</ul>
</div>
</div>
<div class="section" id="v1-13-0-2020-01-21">
<h2>v1.13.0 (2020-01-21)<a class="headerlink" href="#v1-13-0-2020-01-21" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id9">
<h3>Added<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The <a class="reference internal" href="api.html#event_model.Filler" title="event_model.Filler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filler</span></code></a> accepts an optional parameter <code class="docutils literal notranslate"><span class="pre">coerce</span></code> that
can be used to change the behavior of the handlers. This is useful for
forcing the filled data to be an in-memory numpy array or a dask array, for
example. The options accepted by <code class="docutils literal notranslate"><span class="pre">coerce</span></code> can be configured at runtime
using the new function <a class="reference internal" href="api.html#event_model.register_coersion" title="event_model.register_coersion"><code class="xref py py-func docutils literal notranslate"><span class="pre">register_coersion()</span></code></a>. The coersions
registered by default are <a class="reference internal" href="api.html#event_model.as_is" title="event_model.as_is"><code class="xref py py-func docutils literal notranslate"><span class="pre">as_is()</span></code></a> and
<a class="reference internal" href="api.html#event_model.force_numpy" title="event_model.force_numpy"><code class="xref py py-func docutils literal notranslate"><span class="pre">force_numpy()</span></code></a>.</p></li>
<li><p>The <a class="reference internal" href="api.html#event_model.NoFiller" title="event_model.NoFiller"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoFiller</span></code></a> has been added. It has the same interface
as <a class="reference internal" href="api.html#event_model.Filler" title="event_model.Filler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filler</span></code></a> but it merely <em>validates</em> the filling-related
documents rather than actually filling in the data. This is useful if the
filling may be done later as a delayed computation but we want to know
immediately that we have all the information we need to perform that
computation.</p></li>
<li><p>It is sometimes convenient to make an instance of
<a class="reference internal" href="api.html#event_model.Filler" title="event_model.Filler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filler</span></code></a> based on an existing instance but perhaps
setting some options differently. The new method
<a class="reference internal" href="api.html#event_model.Filler.clone" title="event_model.Filler.clone"><code class="xref py py-meth docutils literal notranslate"><span class="pre">clone()</span></code></a> takes all the same parameters as Filler
instantiation. If called with no arguments, it will make a “clone” with all
the same options. Pass in arguments to override certain options.</p></li>
</ul>
</div>
<div class="section" id="id10">
<h3>Changed<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The <a class="reference internal" href="api.html#event_model.NumpyEncoder" title="event_model.NumpyEncoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumpyEncoder</span></code></a> special-cases dask arrays.</p></li>
<li><p>Several error messages have been made more specific and useful.</p></li>
</ul>
</div>
<div class="section" id="deprecated">
<h3>Deprecated<a class="headerlink" href="#deprecated" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Field-level filtering in <a class="reference internal" href="api.html#event_model.Filler" title="event_model.Filler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filler</span></code></a> via the parameters
<code class="docutils literal notranslate"><span class="pre">include</span></code> and <code class="docutils literal notranslate"><span class="pre">exclude</span></code> is deprecated.</p></li>
</ul>
</div>
<div class="section" id="internal-changes">
<h3>Internal Changes<a class="headerlink" href="#internal-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The code in <a class="reference internal" href="api.html#event_model.DocumentRouter" title="event_model.DocumentRouter"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentRouter</span></code></a> that dispatches based on
document type has been factored out of <code class="docutils literal notranslate"><span class="pre">__call__</span></code> into a new internal
method, <code class="docutils literal notranslate"><span class="pre">_dispatch</span></code>, which makes it easier for subclasses to modify
<code class="docutils literal notranslate"><span class="pre">__call__</span></code> but reuse the dispatch logic.</p></li>
</ul>
<p>See the
<a class="reference external" href="https://github.com/bluesky/event-model/milestone/3">GitHub v1.13.0 milestone</a>
for a complete list of changes in this release.</p>
</div>
</div>
<div class="section" id="v1-12-0-2019-10-11">
<h2>v1.12.0 (2019-10-11)<a class="headerlink" href="#v1-12-0-2019-10-11" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id11">
<h3>Added<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The <a class="reference internal" href="api.html#event_model.RunRouter" title="event_model.RunRouter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunRouter</span></code></a> can now “fill” documents that reference
externally stored data. It accepts an optional <code class="docutils literal notranslate"><span class="pre">handler_registry</span></code> and
<code class="docutils literal notranslate"><span class="pre">root_map</span></code> which it uses to create instances of
<a class="reference internal" href="api.html#event_model.Filler" title="event_model.Filler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filler</span></code></a> internally. The default behavior of
<a class="reference internal" href="api.html#event_model.RunRouter" title="event_model.RunRouter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunRouter</span></code></a> has not changed because it defaults to
<code class="docutils literal notranslate"><span class="pre">handler_registry={}</span></code> and <code class="docutils literal notranslate"><span class="pre">fill_or_fail=False</span></code>, meaning that any external
reference not found in <code class="docutils literal notranslate"><span class="pre">handler_registry</span></code> will be passed through unfilled.
For advanced customizations—such as custom cache management—use the
parameter <code class="docutils literal notranslate"><span class="pre">filler_class</span></code> to specifiy an API-compatible alternative to
<a class="reference internal" href="api.html#event_model.Filler" title="event_model.Filler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filler</span></code></a>.</p></li>
</ul>
</div>
<div class="section" id="id12">
<h3>Changed<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">handler_registry</span></code> attribute of <a class="reference internal" href="api.html#event_model.Filler" title="event_model.Filler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filler</span></code></a> is now a
read-only view. It cannot be directly mutated. Instead, use the new methods
<code class="xref py py-meth docutils literal notranslate"><span class="pre">register_handler()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">deregister_handler()</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id13">
<h3>Fixed<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fix cache management in <a class="reference internal" href="api.html#event_model.Filler" title="event_model.Filler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filler</span></code></a> such that registering a
new handler for a given spec clears all cached instances of the previously
registered handler.</p></li>
<li><p>Fix the validation feature in <a class="reference internal" href="api.html#event_model.DocumentRouter" title="event_model.DocumentRouter"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentRouter</span></code></a>, which
previously raised an error if used.</p></li>
</ul>
</div>
</div>
<div class="section" id="v1-11-2-2019-09-03">
<h2>v1.11.2 (2019-09-03)<a class="headerlink" href="#v1-11-2-2019-09-03" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id14">
<h3>Fixed<a class="headerlink" href="#id14" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Include <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> in source distribution.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">UnresolveableForeignKeyError</span></code> is raised, it always includes a <code class="docutils literal notranslate"><span class="pre">key</span></code>
attribute with the key in question.</p></li>
</ul>
</div>
</div>
<div class="section" id="v1-11-1-2019-08-09">
<h2>v1.11.1 (2019-08-09)<a class="headerlink" href="#v1-11-1-2019-08-09" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id15">
<h3>Fixed<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Fix some inconsistent behavior in the <a class="reference internal" href="api.html#event_model.Filler" title="event_model.Filler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filler</span></code></a> <code class="docutils literal notranslate"><span class="pre">inplace</span></code>
parameter, and test it better.</p></li>
</ul>
</div>
</div>
<div class="section" id="v1-11-0-2019-06-27">
<h2>v1.11.0 (2019-06-27)<a class="headerlink" href="#v1-11-0-2019-06-27" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id16">
<h3>Added<a class="headerlink" href="#id16" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added new optional parameter <code class="docutils literal notranslate"><span class="pre">inplace</span></code> to <a class="reference internal" href="api.html#event_model.Filler" title="event_model.Filler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filler</span></code></a>.</p></li>
<li><p>Added new methods <code class="xref py py-meth docutils literal notranslate"><span class="pre">fill_event()</span></code> and
<code class="xref py py-meth docutils literal notranslate"><span class="pre">fill_event_page()</span></code>.</p></li>
<li><p>Added <code class="xref py py-func docutils literal notranslate"><span class="pre">rechunk_event_pages()</span></code>.</p></li>
</ul>
</div>
<div class="section" id="id17">
<h3>Fixed<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Consult the Event Descriptor document to infer which columns need to be
filled if there is no explicit <code class="docutils literal notranslate"><span class="pre">'filled'</span></code> key in the Event document.</p></li>
</ul>
</div>
</div>
<div class="section" id="v1-10-0-2019-05-24">
<h2>v1.10.0 (2019-05-24)<a class="headerlink" href="#v1-10-0-2019-05-24" title="Permalink to this headline">¶</a></h2>
<p>This release requires <code class="docutils literal notranslate"><span class="pre">jsonschema&gt;3</span></code>. Previous releases required
<code class="docutils literal notranslate"><span class="pre">jsonschema&lt;3</span></code>.</p>
<div class="section" id="id18">
<h3>Added<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Added <code class="xref py py-data docutils literal notranslate"><span class="pre">schema_validators</span></code> using the new interface in
jsonschema 3.0.</p></li>
</ul>
</div>
<div class="section" id="fixes">
<h3>Fixes<a class="headerlink" href="#fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The counters in <code class="docutils literal notranslate"><span class="pre">num_events</span></code> in the RunStop document were off by one.</p></li>
</ul>
</div>
</div>
<div class="section" id="v1-9-0-2019-05-01">
<h2>v1.9.0 (2019-05-01)<a class="headerlink" href="#v1-9-0-2019-05-01" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id19">
<h3>Added<a class="headerlink" href="#id19" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Add experimental <a class="reference internal" href="api.html#event_model.RunRouter" title="event_model.RunRouter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunRouter</span></code></a>.</p></li>
</ul>
</div>
<div class="section" id="id20">
<h3>Fixes<a class="headerlink" href="#id20" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="api.html#event_model.unpack_datum_page" title="event_model.unpack_datum_page"><code class="xref py py-func docutils literal notranslate"><span class="pre">unpack_datum_page()</span></code></a> errored when <code class="docutils literal notranslate"><span class="pre">datum_kwargs</span></code> were
empty.</p></li>
<li><p>Fill EventPages in place, as Events are filled in place.</p></li>
<li><p>Do not assume Events and EventPages have a <code class="docutils literal notranslate"><span class="pre">filled</span></code> key; it is optional.</p></li>
</ul>
</div>
</div>
<div class="section" id="v1-8-3-2019-03-28">
<h2>v1.8.3 (2019-03-28)<a class="headerlink" href="#v1-8-3-2019-03-28" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id21">
<h3>Fixes<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">'configuration'</span></code> to <a class="reference internal" href="data-model.html#descriptor"><span class="std std-ref">EventDescriptor</span></a> schema.</p></li>
<li><p>Fix path semantics and be robust against empty <code class="docutils literal notranslate"><span class="pre">'filled'</span></code>.</p></li>
<li><p>Fix sequence numbers in <a class="reference internal" href="api.html#event_model.compose_descriptor" title="event_model.compose_descriptor"><code class="xref py py-func docutils literal notranslate"><span class="pre">compose_descriptor()</span></code></a>.</p></li>
<li><p>Fix a typo which made <code class="docutils literal notranslate"><span class="pre">'num_events'</span></code> always empty.</p></li>
</ul>
</div>
</div>
<div class="section" id="v1-8-2-2019-03-08">
<h2>v1.8.2 (2019-03-08)<a class="headerlink" href="#v1-8-2-2019-03-08" title="Permalink to this headline">¶</a></h2>
<p>Fix setup.py meta-data to include <code class="docutils literal notranslate"><span class="pre">python_requires</span></code>.  This prevents
the wheels from being installed on python &lt; 3.6.</p>
</div>
<div class="section" id="v1-8-0-2019-03-05">
<h2>v1.8.0 (2019-03-05)<a class="headerlink" href="#v1-8-0-2019-03-05" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id22">
<h3>Added<a class="headerlink" href="#id22" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>This documentation!</p></li>
<li><p>Schemas for <a class="reference internal" href="data-model.html#event-page"><span class="std std-ref">EventPage</span></a> and <a class="reference internal" href="data-model.html#datum-page"><span class="std std-ref">DatumPage</span></a></p></li>
<li><p><a class="reference internal" href="api.html#event_model.DocumentRouter" title="event_model.DocumentRouter"><code class="xref py py-class docutils literal notranslate"><span class="pre">DocumentRouter</span></code></a>, a useful utility adapted from bluesky’s
<code class="xref py py-class docutils literal notranslate"><span class="pre">CallbackBase</span></code></p></li>
<li><p><a class="reference internal" href="api.html#event_model.Filler" title="event_model.Filler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Filler</span></code></a></p></li>
<li><p><a class="reference internal" href="api.html#event_model.verify_filled" title="event_model.verify_filled"><code class="xref py py-func docutils literal notranslate"><span class="pre">verify_filled()</span></code></a></p></li>
<li><p><a class="reference internal" href="api.html#event_model.sanitize_doc" title="event_model.sanitize_doc"><code class="xref py py-func docutils literal notranslate"><span class="pre">sanitize_doc()</span></code></a> and <a class="reference internal" href="api.html#event_model.NumpyEncoder" title="event_model.NumpyEncoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumpyEncoder</span></code></a></p></li>
</ul>
</div>
</div>
<div class="section" id="v1-7-0-2019-01-03">
<h2>v1.7.0 (2019-01-03)<a class="headerlink" href="#v1-7-0-2019-01-03" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id23">
<h3>Added<a class="headerlink" href="#id23" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The DataKey in an EventDescriptors may contain a ‘dims’ key, providing names
for each dimension of the data.</p></li>
<li><p>Convenience functions for composing valid documents have been added. These
are experimental and may change in a future release in a
non-backward-compatible way.</p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="external.html" class="btn btn-neutral float-left" title="External Assets" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2019, Brookhaven National Lab

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>