


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Overview &mdash; databroker 1.0.0b8.post33+ge8f8341 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="installation.html" />
    <link rel="prev" title="DataBroker" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> databroker
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0b8.post33+ge8f8341
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#transition-plan">Transition Plan</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#databroker-1-0-pre-released">DataBroker 1.0 (Pre-released)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#roadmap-beyond-1-0">Roadmap Beyond 1.0</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="v2/index.html">Version 2 Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="v1/index.html">Version 1 Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="whats_new.html">Release History</a></li>
<li class="toctree-l1"><a class="reference internal" href="DBEP/index.html">Databroker Enhancement Proposals</a></li>
</ul>
<p class="caption"><span class="caption-text">Bluesky Project</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://blueskyproject.io">Homepage</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/bluesky">GitHub</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Help</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://gitter.im/NSLS-II/DAMA">Gitter</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">databroker</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/overview.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<p>DataBroker provides access to saved data from Bluesky. It does this by applying
Intake to Bluesky.</p>
<p><a class="reference external" href="https://intake.readthedocs.io">Intake</a> takes the pain out of data access.
It loads data from a growing variety of formats into familiar Scipy/PyData data
structures.</p>
<p><a class="reference external" href="https://blueskyproject.io">Bluesky</a> is a suite of co-developed
Python packages for data acquisition and management designed to drive
experiments and capture data and metadata from experiments and simulations in a
way that interfaces naturally with open-source software in general and the
scientific Python ecosystem in particular.</p>
<div class="section" id="transition-plan">
<span id="id1"></span><h2>Transition Plan<a class="headerlink" href="#transition-plan" title="Permalink to this headline">¶</a></h2>
<p>DataBroker began development in 2015, before Intake. Intake has goals closely
aligned with DataBroker’s and a growing community of users from diverse
scientific fields. Starting with DataBroker’s 1.0 release, DataBroker is
pivoting to become a distribution of Intake plugins.</p>
<p>This change will proceed in a way that provides a slow and smooth transition
for existing DataBroker users.</p>
<div class="section" id="databroker-1-0-pre-released">
<h3>DataBroker 1.0 (Pre-released)<a class="headerlink" href="#databroker-1-0-pre-released" title="Permalink to this headline">¶</a></h3>
<p>The 1.0 release of DataBroker supports multiple usages to enable a smooth
transition for users.</p>
<ul class="simple">
<li><p>The module <code class="docutils literal notranslate"><span class="pre">databroker.v0</span></code> provides the databroker code exactly as it was
in previous pre-1.0 releases. This is available as fallback in case of bugs
in v1.</p></li>
<li><p>The module <code class="docutils literal notranslate"><span class="pre">databroker.v1</span></code> provides the same user interface as v0, but
built on top of intake instead of databroker’s own implementation. With only
narrow exceptions, code that worked on pre-1.0 releases should work on
<code class="docutils literal notranslate"><span class="pre">databroker.v1</span></code>. This is the “default” interface in DataBroker 1.0;
importing <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">databroker</span> <span class="pre">...</span></code> is an alias for
<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">databroker.v1</span> <span class="pre">...</span></code>.</p></li>
<li><p>The module <code class="docutils literal notranslate"><span class="pre">databroker.v2</span></code> is a <em>very</em> thin shim around intake.</p></li>
</ul>
<p>The <a class="reference internal" href="v1/index.html"><span class="doc">Version 1 Interface</span></a> documentation applies to <code class="docutils literal notranslate"><span class="pre">databroker.v0</span></code> and
<code class="docutils literal notranslate"><span class="pre">databroker.v1</span></code>. The <a class="reference internal" href="v2/index.html"><span class="doc">Version 2 Interface</span></a> documentation applies to
<code class="docutils literal notranslate"><span class="pre">databroker.v2</span></code>.</p>
<p>Both <code class="docutils literal notranslate"><span class="pre">databroker.v1.Broker</span></code> and <code class="docutils literal notranslate"><span class="pre">databroker.v2.Broker</span></code> have accessor
attributes, <code class="docutils literal notranslate"><span class="pre">v1</span></code> and <code class="docutils literal notranslate"><span class="pre">v2</span></code>, that support usage of the other’s interface,
making it easy to switch between them.</p>
<p>Here we make a v1-style Broker but the <code class="docutils literal notranslate"><span class="pre">v2</span></code> accessor to try v2-style
features.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">databroker</span> <span class="kn">import</span> <span class="n">Broker</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">Broker</span><span class="o">.</span><span class="n">named</span><span class="p">(</span><span class="s1">&#39;MY_CATALOG&#39;</span><span class="p">)</span>  <span class="c1"># a databroker.v1.Broker instance</span>
<span class="n">query</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">plan_name</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="n">db</span><span class="p">(</span><span class="o">**</span><span class="n">query</span><span class="p">)</span>  <span class="c1"># v1-style search</span>
<span class="n">db</span><span class="o">.</span><span class="n">v1</span><span class="p">(</span><span class="o">**</span><span class="n">query</span><span class="p">)</span>  <span class="c1"># a synonym for the above</span>
<span class="n">db</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>  <span class="c1"># v2-style search</span>
</pre></div>
</div>
<p>Here we make a v2-style Broker but the <code class="docutils literal notranslate"><span class="pre">v1</span></code> accessor to fall back to v1-style
usage.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">databroker</span> <span class="kn">import</span> <span class="n">catalog</span>
<span class="n">db</span> <span class="o">=</span> <span class="n">catalog</span><span class="o">.</span><span class="n">SOMETHING</span><span class="p">()</span>  <span class="c1"># a databroker.v2.Broker instance</span>
<span class="n">query</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">plan_name</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="n">db</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>  <span class="c1"># v2-style search</span>
<span class="n">db</span><span class="o">.</span><span class="n">v2</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>  <span class="c1"># a synonym for the above</span>
<span class="n">db</span><span class="o">.</span><span class="n">v1</span><span class="p">(</span><span class="o">**</span><span class="n">query</span><span class="p">)</span>  <span class="c1"># v1-style search</span>
</pre></div>
</div>
</div>
<div class="section" id="roadmap-beyond-1-0">
<h3>Roadmap Beyond 1.0<a class="headerlink" href="#roadmap-beyond-1-0" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>When the v1 implementation is proven reliable, v0 will be removed, greatly
reducing the amount of code in databroker. This should not have an effect on
users, as v1 provides the same interface as v0. The only differences are
internal: v1 uses intake internally instead of its own separate
implementation to achieve the same end.</p></li>
<li><p>If and when the v2 interface is shown to meet users’ needs as well or better
than v1, it will become the default. To support existing user code, the v1
interface will continue to be available in <code class="docutils literal notranslate"><span class="pre">databroker.v1</span></code>.</p></li>
<li><p>After several years of maintaining both v1 and v2, when all critical user
code has been migrated to v2, v1 may be deprecated and eventually removed. At
that point, DataBroker will be just a distribution of intake plugins.</p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="installation.html" class="btn btn-neutral float-right" title="Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="DataBroker" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015 Brookhaven National Lab

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>