


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Reference &mdash; databroker 1.0.0b4.post12+gaee9313 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Version 1 Interface" href="../../v1/index.html" />
    <link rel="prev" title="Developer Documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> databroker
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0b4.post12+gaee9313
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Version 2 Interface</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../user/index.html">User Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../administrator/index.html">Administrator Documentation</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Developer Documentation</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html#design">Design</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="index.html#intake-concepts">Intake Concepts</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#databroker-concepts">DataBroker Concepts</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html#scaling-intake-catalogs">Scaling Intake Catalogs</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../v1/index.html">Version 1 Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../whats_new.html">Release History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DBEP/index.html">Databroker Enhancement Proposals</a></li>
</ul>
<p class="caption"><span class="caption-text">Bluesky Project</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://blueskyproject.io">Homepage</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/bluesky">GitHub</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Help</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://gitter.im/NSLS-II/DAMA">Gitter</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">databroker</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Version 2 Interface</a> &raquo;</li>
        
          <li><a href="index.html">Developer Documentation</a> &raquo;</li>
        
      <li>API Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/v2/developer/reference.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="core">
<h2>Core<a class="headerlink" href="#core" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="databroker.core.BlueskyRun">
<em class="property">class </em><code class="sig-prename descclassname">databroker.core.</code><code class="sig-name descname">BlueskyRun</code><span class="sig-paren">(</span><em class="sig-param">get_run_start</em>, <em class="sig-param">get_run_stop</em>, <em class="sig-param">get_event_descriptors</em>, <em class="sig-param">get_event_pages</em>, <em class="sig-param">get_event_count</em>, <em class="sig-param">get_resource</em>, <em class="sig-param">get_resources</em>, <em class="sig-param">lookup_resource_for_datum</em>, <em class="sig-param">get_datum_pages</em>, <em class="sig-param">get_filler</em>, <em class="sig-param">entry</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/core.html#BlueskyRun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.core.BlueskyRun" title="Permalink to this definition">¶</a></dt>
<dd><p>Catalog representing one Run.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>get_run_start: callable</strong></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_run_start()</span> <span class="pre">-&gt;</span> <span class="pre">RunStart</span></code></p>
</dd>
<dt><strong>get_run_stop</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_run_stop()</span> <span class="pre">-&gt;</span> <span class="pre">RunStop</span></code></p>
</dd>
<dt><strong>get_event_descriptors</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_event_descriptors()</span> <span class="pre">-&gt;</span> <span class="pre">List[EventDescriptors]</span></code></p>
</dd>
<dt><strong>get_event_pages</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_event_pages(descriptor_uid)</span> <span class="pre">-&gt;</span> <span class="pre">generator</span></code>
where <code class="docutils literal notranslate"><span class="pre">generator</span></code> yields Event documents</p>
</dd>
<dt><strong>get_event_count</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_event_count(descriptor_uid)</span> <span class="pre">-&gt;</span> <span class="pre">int</span></code></p>
</dd>
<dt><strong>get_resource</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_resource(resource_uid)</span> <span class="pre">-&gt;</span> <span class="pre">Resource</span></code></p>
</dd>
<dt><strong>get_resources: callable</strong></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_resources()</span> <span class="pre">-&gt;</span> <span class="pre">Resources</span></code></p>
</dd>
<dt><strong>lookup_resource_for_datum</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">lookup_resource_for_datum(datum_id)</span> <span class="pre">-&gt;</span> <span class="pre">resource_uid</span></code></p>
</dd>
<dt><strong>get_datum_pages</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_datum_pages(resource_uid)</span> <span class="pre">-&gt;</span> <span class="pre">generator</span></code>
where <code class="docutils literal notranslate"><span class="pre">generator</span></code> yields Datum documents</p>
</dd>
<dt><strong>**kwargs :</strong></dt><dd><p>Additional keyword arguments are passed through to the base class,
Catalog.</p>
</dd>
<dt><strong>handler_registry</strong><span class="classifier">dict, optional</span></dt><dd><p>This is passed to the Filler or whatever class is given in the
filler_class parametr below.</p>
<p>Maps each ‘spec’ (a string identifying a given type or external
resource) to a handler class.</p>
<p>A ‘handler class’ may be any callable with the signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">handler_class</span><span class="p">(</span><span class="n">resource_path</span><span class="p">,</span> <span class="n">root</span><span class="p">,</span> <span class="o">**</span><span class="n">resource_kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>It is expected to return an object, a ‘handler instance’, which is also
callable and has the following signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">handler_instance</span><span class="p">(</span><span class="o">**</span><span class="n">datum_kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>As the names ‘handler class’ and ‘handler instance’ suggest, this is
typically implemented using a class that implements <code class="docutils literal notranslate"><span class="pre">__init__</span></code> and
<code class="docutils literal notranslate"><span class="pre">__call__</span></code>, with the respective signatures. But in general it may be
any callable-that-returns-a-callable.</p>
</dd>
<dt><strong>root_map: dict, optional</strong></dt><dd><p>This is passed to Filler or whatever class is given in the filler_class
parameter below.</p>
<p>str -&gt; str mapping to account for temporarily moved/copied/remounted
files.  Any resources which have a <code class="docutils literal notranslate"><span class="pre">root</span></code> in <code class="docutils literal notranslate"><span class="pre">root_map</span></code> will be
loaded using the mapped <code class="docutils literal notranslate"><span class="pre">root</span></code>.</p>
</dd>
<dt><strong>filler_class: type</strong></dt><dd><p>This is Filler by default. It can be a Filler subclass,
<code class="docutils literal notranslate"><span class="pre">functools.partial(Filler,</span> <span class="pre">...)</span></code>, or any class that provides the same
methods as <code class="docutils literal notranslate"><span class="pre">DocumentRouter</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="databroker.core.BlueskyRun.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/core.html#BlueskyRun.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.core.BlueskyRun.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Return self or, if args are provided, some new instance of type(self).</p>
<p>This is here so that the user does not have to remember whether a given
variable is a BlueskyRun or an <em>Entry</em> with a Bluesky Run. In either
case, <code class="docutils literal notranslate"><span class="pre">obj.get()</span></code> will return a BlueskyRun.</p>
</dd></dl>

<dl class="method">
<dt id="databroker.core.BlueskyRun.get_file_list">
<code class="sig-name descname">get_file_list</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">resource</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/core.html#BlueskyRun.get_file_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.core.BlueskyRun.get_file_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch filepaths of external files associated with this Run.</p>
<p>This method is not defined on RemoteBlueskyRun because the filepaths
may not be meaningful on a remote machine.</p>
<p>This method should be considered experimental. It may be changed or
removed in a future release.</p>
</dd></dl>

<dl class="method">
<dt id="databroker.core.BlueskyRun.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/core.html#BlueskyRun.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.core.BlueskyRun.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Load entire dataset into a container and return it</p>
</dd></dl>

<dl class="method">
<dt id="databroker.core.BlueskyRun.to_dask">
<code class="sig-name descname">to_dask</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/core.html#BlueskyRun.to_dask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.core.BlueskyRun.to_dask" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dask container for this data source</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="databroker.core.RemoteBlueskyRun">
<em class="property">class </em><code class="sig-prename descclassname">databroker.core.</code><code class="sig-name descname">RemoteBlueskyRun</code><span class="sig-paren">(</span><em class="sig-param">url</em>, <em class="sig-param">http_args</em>, <em class="sig-param">name</em>, <em class="sig-param">parameters</em>, <em class="sig-param">metadata=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/core.html#RemoteBlueskyRun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.core.RemoteBlueskyRun" title="Permalink to this definition">¶</a></dt>
<dd><p>Catalog representing one Run.</p>
<p>This is a client-side proxy to a BlueskyRun stored on a remote server.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>url: str</strong></dt><dd><p>Address of the server</p>
</dd>
<dt><strong>headers: dict</strong></dt><dd><p>HTTP headers to sue in calls</p>
</dd>
<dt><strong>name: str</strong></dt><dd><p>handle to reference this data</p>
</dd>
<dt><strong>parameters: dict</strong></dt><dd><p>To pass to the server when it instantiates the data source</p>
</dd>
<dt><strong>metadata: dict</strong></dt><dd><p>Additional info</p>
</dd>
<dt><strong>kwargs: ignored</strong></dt><dd></dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="databroker.core.RemoteBlueskyRun.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/core.html#RemoteBlueskyRun.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.core.RemoteBlueskyRun.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Load entire dataset into a container and return it</p>
</dd></dl>

<dl class="method">
<dt id="databroker.core.RemoteBlueskyRun.to_dask">
<code class="sig-name descname">to_dask</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/core.html#RemoteBlueskyRun.to_dask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.core.RemoteBlueskyRun.to_dask" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dask container for this data source</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="databroker.core.BlueskyEventStream">
<em class="property">class </em><code class="sig-prename descclassname">databroker.core.</code><code class="sig-name descname">BlueskyEventStream</code><span class="sig-paren">(</span><em class="sig-param">get_run_start</em>, <em class="sig-param">stream_name</em>, <em class="sig-param">get_run_stop</em>, <em class="sig-param">get_event_descriptors</em>, <em class="sig-param">get_event_pages</em>, <em class="sig-param">get_event_count</em>, <em class="sig-param">get_resource</em>, <em class="sig-param">lookup_resource_for_datum</em>, <em class="sig-param">get_datum_pages</em>, <em class="sig-param">fillers</em>, <em class="sig-param">metadata</em>, <em class="sig-param">include=None</em>, <em class="sig-param">exclude=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/core.html#BlueskyEventStream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.core.BlueskyEventStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Catalog representing one Event Stream from one Run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>get_run_start: callable</strong></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_run_start()</span> <span class="pre">-&gt;</span> <span class="pre">RunStart</span></code></p>
</dd>
<dt><strong>stream_name</strong><span class="classifier">string</span></dt><dd><p>Stream name, such as ‘primary’.</p>
</dd>
<dt><strong>get_run_stop</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_run_stop()</span> <span class="pre">-&gt;</span> <span class="pre">RunStop</span></code></p>
</dd>
<dt><strong>get_event_descriptors</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_event_descriptors()</span> <span class="pre">-&gt;</span> <span class="pre">List[EventDescriptors]</span></code></p>
</dd>
<dt><strong>get_event_pages</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_event_pages(descriptor_uid)</span> <span class="pre">-&gt;</span> <span class="pre">generator</span></code>
where <code class="docutils literal notranslate"><span class="pre">generator</span></code> yields event_page documents</p>
</dd>
<dt><strong>get_event_count</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_event_count(descriptor_uid)</span> <span class="pre">-&gt;</span> <span class="pre">int</span></code></p>
</dd>
<dt><strong>get_resource</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_resource(resource_uid)</span> <span class="pre">-&gt;</span> <span class="pre">Resource</span></code></p>
</dd>
<dt><strong>lookup_resource_for_datum</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">lookup_resource_for_datum(datum_id)</span> <span class="pre">-&gt;</span> <span class="pre">resource_uid</span></code></p>
</dd>
<dt><strong>get_datum_pages</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_datum_pages(resource_uid)</span> <span class="pre">-&gt;</span> <span class="pre">generator</span></code>
where <code class="docutils literal notranslate"><span class="pre">generator</span></code> yields datum_page documents</p>
</dd>
<dt><strong>fillers</strong><span class="classifier">dict of Fillers</span></dt><dd></dd>
<dt><strong>metadata</strong><span class="classifier">dict</span></dt><dd><p>passed through to base class</p>
</dd>
<dt><strong>include</strong><span class="classifier">list, optional</span></dt><dd><p>Fields (‘data keys’) to include. By default all are included. This
parameter is mutually exclusive with <code class="docutils literal notranslate"><span class="pre">exclude</span></code>.</p>
</dd>
<dt><strong>exclude</strong><span class="classifier">list, optional</span></dt><dd><p>Fields (‘data keys’) to exclude. By default none are excluded. This
parameter is mutually exclusive with <code class="docutils literal notranslate"><span class="pre">include</span></code>.</p>
</dd>
<dt><strong>**kwargs :</strong></dt><dd><p>Additional keyword arguments are passed through to the base class.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="method">
<dt id="databroker.core.BlueskyEventStream.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/core.html#BlueskyEventStream.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.core.BlueskyEventStream.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Return data from this Event Stream as an xarray.Dataset.</p>
<p>This loads all of the data into memory. For delayed (“lazy”), chunked
access to the data, see <a class="reference internal" href="#databroker.core.BlueskyEventStream.to_dask" title="databroker.core.BlueskyEventStream.to_dask"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_dask()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="databroker.core.BlueskyEventStream.read_partition">
<code class="sig-name descname">read_partition</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">partition</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/core.html#BlueskyEventStream.read_partition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.core.BlueskyEventStream.read_partition" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch one chunk of documents.</p>
</dd></dl>

<dl class="method">
<dt id="databroker.core.BlueskyEventStream.to_dask">
<code class="sig-name descname">to_dask</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/core.html#BlueskyEventStream.to_dask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.core.BlueskyEventStream.to_dask" title="Permalink to this definition">¶</a></dt>
<dd><p>Return data from this Event Stream as an xarray.Dataset backed by dask.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="databroker.core.documents_to_xarray">
<code class="sig-prename descclassname">databroker.core.</code><code class="sig-name descname">documents_to_xarray</code><span class="sig-paren">(</span><em class="sig-param">*</em>, <em class="sig-param">start_doc</em>, <em class="sig-param">stop_doc</em>, <em class="sig-param">descriptor_docs</em>, <em class="sig-param">get_event_pages</em>, <em class="sig-param">filler</em>, <em class="sig-param">get_resource</em>, <em class="sig-param">lookup_resource_for_datum</em>, <em class="sig-param">get_datum_pages</em>, <em class="sig-param">include=None</em>, <em class="sig-param">exclude=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/core.html#documents_to_xarray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.core.documents_to_xarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent the data in one Event stream as an xarray.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>start_doc: dict</strong></dt><dd><p>RunStart Document</p>
</dd>
<dt><strong>stop_doc</strong><span class="classifier">dict</span></dt><dd><p>RunStop Document</p>
</dd>
<dt><strong>descriptor_docs</strong><span class="classifier">list</span></dt><dd><p>EventDescriptor Documents</p>
</dd>
<dt><strong>filler</strong><span class="classifier">event_model.Filler</span></dt><dd></dd>
<dt><strong>get_resource</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_resource(resource_uid)</span> <span class="pre">-&gt;</span> <span class="pre">Resource</span></code></p>
</dd>
<dt><strong>lookup_resource_for_datum</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">lookup_resource_for_datum(datum_id)</span> <span class="pre">-&gt;</span> <span class="pre">resource_uid</span></code></p>
</dd>
<dt><strong>get_datum_pages</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_datum_pages(resource_uid)</span> <span class="pre">-&gt;</span> <span class="pre">generator</span></code>
where <code class="docutils literal notranslate"><span class="pre">generator</span></code> yields datum_page documents</p>
</dd>
<dt><strong>get_event_pages</strong><span class="classifier">callable</span></dt><dd><p>Expected signature <code class="docutils literal notranslate"><span class="pre">get_event_pages(descriptor_uid)</span> <span class="pre">-&gt;</span> <span class="pre">generator</span></code>
where <code class="docutils literal notranslate"><span class="pre">generator</span></code> yields event_page documents</p>
</dd>
<dt><strong>include</strong><span class="classifier">list, optional</span></dt><dd><p>Fields (‘data keys’) to include. By default all are included. This
parameter is mutually exclusive with <code class="docutils literal notranslate"><span class="pre">exclude</span></code>.</p>
</dd>
<dt><strong>exclude</strong><span class="classifier">list, optional</span></dt><dd><p>Fields (‘data keys’) to exclude. By default none are excluded. This
parameter is mutually exclusive with <code class="docutils literal notranslate"><span class="pre">include</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>dataset</strong><span class="classifier">xarray.Dataset</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="databroker.core.parse_handler_registry">
<code class="sig-prename descclassname">databroker.core.</code><code class="sig-name descname">parse_handler_registry</code><span class="sig-paren">(</span><em class="sig-param">handler_registry</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/core.html#parse_handler_registry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.core.parse_handler_registry" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse mapping of spec name to ‘import path’ into mapping to class itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>handler_registry</strong><span class="classifier">dict</span></dt><dd><p>Values may be string ‘import paths’ to classes or actual classes.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Pass in name; get back actual class.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parse_handler_registry</span><span class="p">({</span><span class="s1">&#39;my_spec&#39;</span><span class="p">:</span> <span class="s1">&#39;package.module.ClassName&#39;</span><span class="p">})</span>
<span class="go">{&#39;my_spec&#39;: &lt;package.module.ClassName&gt;}</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="utils">
<h2>Utils<a class="headerlink" href="#utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="databroker.utils.catalog_search_path">
<code class="sig-prename descclassname">databroker.utils.</code><code class="sig-name descname">catalog_search_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/utils.html#catalog_search_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.utils.catalog_search_path" title="Permalink to this definition">¶</a></dt>
<dd><p>List directories that will be searched for catalog YAML files.</p>
<p>This is a convenience wrapper around functions used by intake to determine
its search path.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>directories: tuple</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="databroker.v2.temp">
<code class="sig-prename descclassname">databroker.v2.</code><code class="sig-name descname">temp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/v2.html#temp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.v2.temp" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a Catalog backed by a temporary directory of msgpack-encoded files.</p>
</dd></dl>

<dl class="function">
<dt id="databroker.v1.temp">
<code class="sig-prename descclassname">databroker.v1.</code><code class="sig-name descname">temp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/v1.html#temp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker.v1.temp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="backend-specific-catalogs">
<h2>Backend-Specific Catalogs<a class="headerlink" href="#backend-specific-catalogs" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These drivers are currently being developed in databroker itself, but
will eventually be split out into separate repositories to isolate
dependencies and release cycles. This will be done once the internal
interfaces are stable.</p>
</div>
<dl class="class">
<dt id="databroker._drivers.jsonl.BlueskyJSONLCatalog">
<em class="property">class </em><code class="sig-prename descclassname">databroker._drivers.jsonl.</code><code class="sig-name descname">BlueskyJSONLCatalog</code><span class="sig-paren">(</span><em class="sig-param">paths</em>, <em class="sig-param">*</em>, <em class="sig-param">handler_registry=None</em>, <em class="sig-param">root_map=None</em>, <em class="sig-param">filler_class=&lt;class 'event_model.Filler'&gt;</em>, <em class="sig-param">query=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/_drivers/jsonl.html#BlueskyJSONLCatalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker._drivers.jsonl.BlueskyJSONLCatalog" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="databroker._drivers.jsonl.BlueskyJSONLCatalog.search">
<code class="sig-name descname">search</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">query</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/_drivers/jsonl.html#BlueskyJSONLCatalog.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker._drivers.jsonl.BlueskyJSONLCatalog.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new Catalog with a subset of the entries in this Catalog.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>query</strong><span class="classifier">dict</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="databroker._drivers.mongo_embedded.BlueskyMongoCatalog">
<em class="property">class </em><code class="sig-prename descclassname">databroker._drivers.mongo_embedded.</code><code class="sig-name descname">BlueskyMongoCatalog</code><span class="sig-paren">(</span><em class="sig-param">datastore_db</em>, <em class="sig-param">*</em>, <em class="sig-param">handler_registry=None</em>, <em class="sig-param">root_map=None</em>, <em class="sig-param">filler_class=&lt;class 'event_model.Filler'&gt;</em>, <em class="sig-param">query=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/_drivers/mongo_embedded.html#BlueskyMongoCatalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker._drivers.mongo_embedded.BlueskyMongoCatalog" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="databroker._drivers.mongo_embedded.BlueskyMongoCatalog.search">
<code class="sig-name descname">search</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">query</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/_drivers/mongo_embedded.html#BlueskyMongoCatalog.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker._drivers.mongo_embedded.BlueskyMongoCatalog.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new Catalog with a subset of the entries in this Catalog.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>query</strong><span class="classifier">dict</span></dt><dd><p>MongoDB query.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="databroker._drivers.mongo_normalized.BlueskyMongoCatalog">
<em class="property">class </em><code class="sig-prename descclassname">databroker._drivers.mongo_normalized.</code><code class="sig-name descname">BlueskyMongoCatalog</code><span class="sig-paren">(</span><em class="sig-param">metadatastore_db</em>, <em class="sig-param">asset_registry_db</em>, <em class="sig-param">*</em>, <em class="sig-param">handler_registry=None</em>, <em class="sig-param">root_map=None</em>, <em class="sig-param">filler_class=&lt;class 'event_model.Filler'&gt;</em>, <em class="sig-param">query=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/_drivers/mongo_normalized.html#BlueskyMongoCatalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker._drivers.mongo_normalized.BlueskyMongoCatalog" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="databroker._drivers.mongo_normalized.BlueskyMongoCatalog.search">
<code class="sig-name descname">search</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">query</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/_drivers/mongo_normalized.html#BlueskyMongoCatalog.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker._drivers.mongo_normalized.BlueskyMongoCatalog.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new Catalog with a subset of the entries in this Catalog.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>query</strong><span class="classifier">dict</span></dt><dd><p>MongoDB query.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="databroker._drivers.msgpack.BlueskyMsgpackCatalog">
<em class="property">class </em><code class="sig-prename descclassname">databroker._drivers.msgpack.</code><code class="sig-name descname">BlueskyMsgpackCatalog</code><span class="sig-paren">(</span><em class="sig-param">paths</em>, <em class="sig-param">*</em>, <em class="sig-param">handler_registry=None</em>, <em class="sig-param">root_map=None</em>, <em class="sig-param">filler_class=&lt;class 'event_model.Filler'&gt;</em>, <em class="sig-param">query=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/_drivers/msgpack.html#BlueskyMsgpackCatalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker._drivers.msgpack.BlueskyMsgpackCatalog" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="databroker._drivers.msgpack.BlueskyMsgpackCatalog.search">
<code class="sig-name descname">search</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">query</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/databroker/_drivers/msgpack.html#BlueskyMsgpackCatalog.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#databroker._drivers.msgpack.BlueskyMsgpackCatalog.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new Catalog with a subset of the entries in this Catalog.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>query</strong><span class="classifier">dict</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../v1/index.html" class="btn btn-neutral float-right" title="Version 1 Interface" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Developer Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015 Brookhaven National Lab

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>