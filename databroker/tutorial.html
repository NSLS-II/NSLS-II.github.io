


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial &mdash; databroker 0.13.0.post2+gbf9ed98 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Documentation" href="api.html" />
    <link rel="prev" title="Data Broker" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> databroker
          

          
          </a>

          
            
            
              <div class="version">
                0.13.0.post2+gbf9ed98
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-walkthrough">Basic Walkthrough</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#get-a-broker">Get a Broker</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-data-as-a-table">Load Data as a Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="#do-analysis-or-export">Do Analysis or Export</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-data-lazily-good-for-image-data">Load Data Lazily (Good for Image Data)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#explore-metadata">Explore Metadata</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#searching">Searching</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="assets.html">Assets</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating.html">Creating a New Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="archiver.html">Connection with Archiver Appliance</a></li>
<li class="toctree-l1"><a class="reference internal" href="whats_new.html">Release History</a></li>
<li class="toctree-l1"><a class="reference internal" href="DBEP/index.html">Databroker Enhancement Proposals</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">databroker</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Tutorial</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/tutorial.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<p>The databroker is a tool to access data from many sources through a unified
interface. It emphasizes rich searching capabilities and handling multiple
concurrent “streams” of data in an organized way.</p>
<div class="section" id="basic-walkthrough">
<h2>Basic Walkthrough<a class="headerlink" href="#basic-walkthrough" title="Permalink to this headline">¶</a></h2>
<div class="section" id="get-a-broker">
<h3>Get a Broker<a class="headerlink" href="#get-a-broker" title="Permalink to this headline">¶</a></h3>
<p>List the names of available configurations.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">databroker</span> <span class="kn">import</span> <span class="n">list_configs</span>

<span class="gp">In [2]: </span><span class="n">list_configs</span><span class="p">()</span>
<span class="gh">Out[2]: </span><span class="go">[&#39;example&#39;]</span>
</pre></div>
</div>
<p>If this list is empty, no one has created any configuration files yet. See the
section on <a class="reference internal" href="configuration.html"><span class="doc">Configuration</span></a>.</p>
<p>Make a databroker using one of the configurations.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="kn">from</span> <span class="nn">databroker</span> <span class="kn">import</span> <span class="n">Broker</span>

<span class="gp">In [4]: </span><span class="n">db</span> <span class="o">=</span> <span class="n">Broker</span><span class="o">.</span><span class="n">named</span><span class="p">(</span><span class="s1">&#39;example&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="load-data-as-a-table">
<h3>Load Data as a Table<a class="headerlink" href="#load-data-as-a-table" title="Permalink to this headline">¶</a></h3>
<p>Load the most recently saved run.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [5]: </span><span class="n">header</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>The result, a <a class="reference internal" href="generated/databroker.Header.html#databroker.Header" title="databroker.Header"><code class="xref py py-class docutils literal notranslate"><span class="pre">Header</span></code></a>, encapsulates the metadata from this run. Loading
the data itself can be a longer process, so it’s a separate step. For scalar
data, the most convenient method is:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [6]: </span><span class="n">header</span><span class="o">.</span><span class="n">table</span><span class="p">()</span>
<span class="gh">Out[6]: </span><span class="go"></span>
<span class="go">                                 time       det  motor  motor_setpoint</span>
<span class="go">seq_num                                                               </span>
<span class="go">1       2019-07-06 13:42:44.088718414  0.606531    1.0             1.0</span>
<span class="go">2       2019-07-06 13:42:44.093131065  0.135335    2.0             2.0</span>
<span class="go">3       2019-07-06 13:42:44.097978592  0.011109    3.0             3.0</span>
<span class="go">4       2019-07-06 13:42:44.102416039  0.000335    4.0             4.0</span>
<span class="go">5       2019-07-06 13:42:44.106947899  0.000004    5.0             5.0</span>
</pre></div>
</div>
<p>This object is DataFrame, a spreadsheet-like object provided by the library
<a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/">pandas</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For Python novices we point out that <code class="docutils literal notranslate"><span class="pre">header</span></code> above is an arbitrary
variable name. It could have been:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">h</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">h</span><span class="o">.</span><span class="n">table</span><span class="p">()</span>
</pre></div>
</div>
<p>or even in one line:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">db</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">table</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="do-analysis-or-export">
<h3>Do Analysis or Export<a class="headerlink" href="#do-analysis-or-export" title="Permalink to this headline">¶</a></h3>
<p>DataFrames can be used to perform fast computations on labeled data, such as</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">t</span> <span class="o">=</span> <span class="n">header</span><span class="o">.</span><span class="n">table</span><span class="p">()</span>

<span class="gp">In [8]: </span><span class="n">t</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="gh">Out[8]: </span><span class="go"></span>
<span class="go">det               0.150663</span>
<span class="go">motor             3.000000</span>
<span class="go">motor_setpoint    3.000000</span>
<span class="go">dtype: float64</span>

<span class="gp">In [9]: </span><span class="n">t</span><span class="p">[</span><span class="s1">&#39;det&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">t</span><span class="p">[</span><span class="s1">&#39;motor&#39;</span><span class="p">]</span>
<span class="go">                                                                                                         Out[9]: </span>
<span class="go">seq_num</span>
<span class="go">1    6.065307e-01</span>
<span class="go">2    6.766764e-02</span>
<span class="go">3    3.702999e-03</span>
<span class="go">4    8.386566e-05</span>
<span class="go">5    7.453306e-07</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<p>or export to a file.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [10]: </span><span class="n">t</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;data.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="load-data-lazily-good-for-image-data">
<h3>Load Data Lazily (Good for Image Data)<a class="headerlink" href="#load-data-lazily-good-for-image-data" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="generated/databroker.Header.table.html#databroker.Header.table" title="databroker.Header.table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Header.table</span></code></a> method is just one way to load the data. Another is
<a class="reference internal" href="generated/databroker.Header.data.html#databroker.Header.data" title="databroker.Header.data"><code class="xref py py-class docutils literal notranslate"><span class="pre">Header.data</span></code></a>, which loads data for one specific field (i.e., one column
of the table) in a “lazy”, streaming fashion.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">data</span> <span class="o">=</span> <span class="n">header</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="s1">&#39;det&#39;</span><span class="p">)</span>

<span class="gp">In [12]: </span><span class="n">data</span>  <span class="c1"># This a &#39;generator&#39; that will load data when we loop through it.</span>
<span class="gh">Out[12]: </span><span class="go">&lt;generator object Header.data at 0x7f4234b67c78&gt;</span>

<span class="gp">In [13]: </span><span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
<span class="gp">   ....: </span>    <span class="k">print</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="go">                                                          0.6065306597126334</span>
<span class="go">0.1353352832366127</span>
<span class="go">0.011108996538242306</span>
<span class="go">0.00033546262790251185</span>
<span class="go">3.726653172078671e-06</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="generated/databroker.Header.data.html#databroker.Header.data" title="databroker.Header.data"><code class="xref py py-class docutils literal notranslate"><span class="pre">Header.data</span></code></a> method is suitable for loading image data. See
the <a class="reference internal" href="api.html"><span class="doc">API Documentation</span></a> for more methods.</p>
</div>
<div class="section" id="explore-metadata">
<h3>Explore Metadata<a class="headerlink" href="#explore-metadata" title="Permalink to this headline">¶</a></h3>
<p>Everything recorded at the start of the run is in <code class="docutils literal notranslate"><span class="pre">header.start</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [14]: </span><span class="n">header</span><span class="o">.</span><span class="n">start</span>
<span class="gh">Out[14]: </span><span class="go"></span>
<span class="go">{&#39;time&#39;: 1562434964.077569,</span>
<span class="go"> &#39;uid&#39;: &#39;0554981b-fbcb-47a2-9fb5-b83f75648aea&#39;,</span>
<span class="go"> &#39;scan_id&#39;: 5,</span>
<span class="go"> &#39;plan_type&#39;: &#39;generator&#39;,</span>
<span class="go"> &#39;plan_name&#39;: &#39;scan&#39;,</span>
<span class="go"> &#39;detectors&#39;: [&#39;det&#39;],</span>
<span class="go"> &#39;motors&#39;: [&#39;motor&#39;],</span>
<span class="go"> &#39;num_points&#39;: 5,</span>
<span class="go"> &#39;num_intervals&#39;: 4,</span>
<span class="go"> &#39;plan_args&#39;: {&#39;detectors&#39;: [&quot;SynGauss(name=&#39;det&#39;, value=3.726653172078671e-06, timestamp=1562434964.0712533)&quot;],</span>
<span class="go">  &#39;num&#39;: 5,</span>
<span class="go">  &#39;args&#39;: [&quot;SynAxis(prefix=&#39;&#39;, name=&#39;motor&#39;, read_attrs=[&#39;readback&#39;, &#39;setpoint&#39;], configuration_attrs=[&#39;velocity&#39;, &#39;acceleration&#39;])&quot;,</span>
<span class="go">   1,</span>
<span class="go">   5],</span>
<span class="go">  &#39;per_step&#39;: &#39;None&#39;},</span>
<span class="go"> &#39;hints&#39;: {&#39;dimensions&#39;: [[[&#39;motor&#39;], &#39;primary&#39;]]},</span>
<span class="go"> &#39;plan_pattern&#39;: &#39;inner_product&#39;,</span>
<span class="go"> &#39;plan_pattern_module&#39;: &#39;bluesky.plan_patterns&#39;,</span>
<span class="go"> &#39;plan_pattern_args&#39;: {&#39;num&#39;: 5,</span>
<span class="go">  &#39;args&#39;: [&quot;SynAxis(prefix=&#39;&#39;, name=&#39;motor&#39;, read_attrs=[&#39;readback&#39;, &#39;setpoint&#39;], configuration_attrs=[&#39;velocity&#39;, &#39;acceleration&#39;])&quot;,</span>
<span class="go">   1,</span>
<span class="go">   5]}}</span>
</pre></div>
</div>
<p>Information only knowable at the end, like the exit status (success, abort,
fail) is stored in <code class="docutils literal notranslate"><span class="pre">header.stop</span></code>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [15]: </span><span class="n">header</span><span class="o">.</span><span class="n">stop</span>
<span class="gh">Out[15]: </span><span class="go"></span>
<span class="go">{&#39;run_start&#39;: &#39;0554981b-fbcb-47a2-9fb5-b83f75648aea&#39;,</span>
<span class="go"> &#39;time&#39;: 1562434964.1101518,</span>
<span class="go"> &#39;uid&#39;: &#39;1fbedefd-3160-4b0b-94f5-a1230c5aa385&#39;,</span>
<span class="go"> &#39;exit_status&#39;: &#39;success&#39;,</span>
<span class="go"> &#39;num_events&#39;: {&#39;primary&#39;: 5}}</span>
</pre></div>
</div>
<p>Metadata about the devices involved and their configuration is stored in
<code class="docutils literal notranslate"><span class="pre">header.descriptors</span></code>, but that is quite a lot to dig through, so it’s useful
to start with some convenience methods that extract the list of devices or the
fields that they reported:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">header</span><span class="o">.</span><span class="n">devices</span><span class="p">()</span>
<span class="gh">Out[16]: </span><span class="go">{&#39;det&#39;, &#39;motor&#39;}</span>

<span class="gp">In [17]: </span><span class="n">header</span><span class="o">.</span><span class="n">fields</span><span class="p">()</span>
<span class="go">                          Out[17]: {&#39;det&#39;, &#39;motor&#39;, &#39;motor_setpoint&#39;}</span>
</pre></div>
</div>
<p>To extract configuration data recorded by a device:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [18]: </span><span class="n">header</span><span class="o">.</span><span class="n">config_data</span><span class="p">(</span><span class="s1">&#39;motor&#39;</span><span class="p">)</span>
<span class="gh">Out[18]: </span><span class="go">{&#39;primary&#39;: [{&#39;motor_velocity&#39;: 1, &#39;motor_acceleration&#39;: 1}]}</span>
</pre></div>
</div>
<p>(A realistic example might report, for example, exposure_time or zero point.)</p>
</div>
</div>
<div class="section" id="searching">
<h2>Searching<a class="headerlink" href="#searching" title="Permalink to this headline">¶</a></h2>
<p>The “slicing” (square bracket) syntax is a quick way to search based on
relative indexing, unique ID, or counting number scan_id. Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the most recent run.</span>
<span class="n">header</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="c1"># Get the fifth most recent run.</span>
<span class="n">header</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span>

<span class="c1"># Get a list of all five most recent runs, using Python slicing syntax.</span>
<span class="n">headers</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">:]</span>

<span class="c1"># Get a run whose unique ID (&quot;RunStart uid&quot;) begins with &#39;x39do5&#39;.</span>
<span class="n">header</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="s1">&#39;x39do5&#39;</span><span class="p">]</span>

<span class="c1"># Get a run whose integer scan_id is 42. Note that this might not be</span>
<span class="c1"># unique. In the event of duplicates, the most recent match is returned.</span>
<span class="n">header</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="mi">42</span><span class="p">]</span>
</pre></div>
</div>
<p>Calling a Broker like a function (with parentheses) accesses richer searches.
Common search parameters include <code class="docutils literal notranslate"><span class="pre">plan_name</span></code>, <code class="docutils literal notranslate"><span class="pre">motor</span></code>, and <code class="docutils literal notranslate"><span class="pre">detectors</span></code>.
Any user-provided metadata can be used in a search. Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Search by plan name.</span>
<span class="n">headers</span> <span class="o">=</span> <span class="n">db</span><span class="p">(</span><span class="n">plan_name</span><span class="o">=</span><span class="s1">&#39;scan&#39;</span><span class="p">)</span>

<span class="c1"># Search for runs involving a motor with the name &#39;eta&#39;.</span>
<span class="n">headers</span> <span class="o">=</span> <span class="n">db</span><span class="p">(</span><span class="n">motor</span><span class="o">=</span><span class="s1">&#39;eta&#39;</span><span class="p">)</span>

<span class="c1"># Search for runs operated by a given user---assuming this metadata was</span>
<span class="c1"># recorded in the first place!</span>
<span class="n">headers</span> <span class="o">=</span> <span class="n">db</span><span class="p">(</span><span class="n">operator</span><span class="o">=</span><span class="s1">&#39;Dan&#39;</span><span class="p">)</span>

<span class="c1"># Search by time range. (These keywords have a special meaning.)</span>
<span class="n">headers</span> <span class="o">=</span> <span class="n">db</span><span class="p">(</span><span class="n">since</span><span class="o">=</span><span class="s1">&#39;2015-03-05&#39;</span><span class="p">,</span> <span class="n">until</span><span class="o">=</span><span class="s1">&#39;2015-03-10&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Full-text search is also supported, for MongoDB-backed deployments. (Other
deployments will raise <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#NotImplementedError" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NotImplementedError</span></code></a> if you try this.)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Perform text search on all values in the Run Start document.</span>
<span class="n">headers</span> <span class="o">=</span> <span class="n">db</span><span class="p">(</span><span class="s1">&#39;keyword&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that partial words are not matched, but partial phrases are. For example,
‘good’ will match to ‘good sample’ but ‘goo’ will not.</p>
<p>Unlike the “slicing” (square bracket) queries, rich searches can return an
unbounded number of results. To avoid slowness, the results are loaded
“lazily,” only as needed. Here’s an example of what works and what doesn’t.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">headers</span> <span class="o">=</span> <span class="n">db</span><span class="p">(</span><span class="n">plan_name</span><span class="o">=</span><span class="s1">&#39;scan&#39;</span><span class="p">)</span>

<span class="gp">In [20]: </span><span class="n">headers</span>
<span class="gh">Out[20]: </span><span class="go">&lt;databroker._core.Results at 0x7f4220348c88&gt;</span>

<span class="gp">In [21]: </span><span class="n">headers</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># Fails! The results are not a list.</span>
<span class="go">                                                      ---------------------------------------------------------------------------</span>
<span class="go">TypeError                                 Traceback (most recent call last)</span>
<span class="go">&lt;ipython-input-21-6a220047f4ab&gt; in &lt;module&gt;</span>
<span class="go">----&gt; 1 headers[2]  # Fails! The results are not a list.</span>

<span class="go">TypeError: &#39;Results&#39; object does not support indexing</span>

<span class="gp">In [22]: </span><span class="nb">list</span><span class="p">(</span><span class="n">headers</span><span class="p">)[</span><span class="mi">2</span><span class="p">]</span>  <span class="c1"># This works, but might be slow if the results are large.</span>
<span class="go">                                                                                                                                                                                                                                                                                                                                                                          Out[22]: Header(db=&lt;databroker._core.Broker object at 0x7f42388f3f28&gt;, start={&#39;time&#39;: 1562434964.0071402, &#39;uid&#39;: &#39;c17f714f-6638-483c-a2ae-cdd633885db5&#39;, &#39;scan_id&#39;: 3, &#39;plan_type&#39;: &#39;generator&#39;, &#39;plan_name&#39;: &#39;scan&#39;, &#39;detectors&#39;: [&#39;det&#39;], &#39;motors&#39;: [&#39;motor&#39;], &#39;num_points&#39;: 5, &#39;num_intervals&#39;: 4, &#39;plan_args&#39;: {&#39;detectors&#39;: [&quot;SynGauss(name=&#39;det&#39;, value=3.726653172078671e-06, timestamp=1562434964.0007353)&quot;], &#39;num&#39;: 5, &#39;args&#39;: [&quot;SynAxis(prefix=&#39;&#39;, name=&#39;motor&#39;, read_attrs=[&#39;readback&#39;, &#39;setpoint&#39;], configuration_attrs=[&#39;velocity&#39;, &#39;acceleration&#39;])&quot;, 1, 5], &#39;per_step&#39;: &#39;None&#39;}, &#39;hints&#39;: {&#39;dimensions&#39;: [[[&#39;motor&#39;], &#39;primary&#39;]]}, &#39;plan_pattern&#39;: &#39;inner_product&#39;, &#39;plan_pattern_module&#39;: &#39;bluesky.plan_patterns&#39;, &#39;plan_pattern_args&#39;: {&#39;num&#39;: 5, &#39;args&#39;: [&quot;SynAxis(prefix=&#39;&#39;, name=&#39;motor&#39;, read_attrs=[&#39;readback&#39;, &#39;setpoint&#39;], configuration_attrs=[&#39;velocity&#39;, &#39;acceleration&#39;])&quot;, 1, 5]}, &#39;_name&#39;: &#39;Run Start&#39;}, stop={&#39;run_start&#39;: &#39;c17f714f-6638-483c-a2ae-cdd633885db5&#39;, &#39;time&#39;: 1562434964.0417223, &#39;uid&#39;: &#39;affd00fd-6c7f-46b9-bf99-1b8e6f5c1fd9&#39;, &#39;exit_status&#39;: &#39;success&#39;, &#39;num_events&#39;: {&#39;primary&#39;: 5}, &#39;_name&#39;: &#39;Run Stop&#39;}, ext=namespace())</span>
</pre></div>
</div>
<p>Looping through them loads one at a time, conserving memory.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [23]: </span><span class="k">for</span> <span class="n">header</span> <span class="ow">in</span> <span class="n">headers</span><span class="p">:</span>
<span class="gp">   ....: </span>    <span class="k">print</span><span class="p">(</span><span class="n">header</span><span class="o">.</span><span class="n">table</span><span class="p">()[</span><span class="s1">&#39;det&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
<span class="gp">   ....: </span>
<span class="go">0.1506628257537126</span>
<span class="go">0.1506628257537126</span>
<span class="go">0.1506628257537126</span>
<span class="go">0.1506628257537126</span>
<span class="go">0.1506628257537126</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api.html" class="btn btn-neutral float-right" title="API Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Data Broker" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015 Brookhaven National Lab

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>