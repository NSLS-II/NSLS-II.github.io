

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Publishing Releases &mdash; Packaging Scientific Python 0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://cdn.rawgit.com/choldgraf/sphinx-copybutton/master/_static/copybutton.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Guiding Design Principles" href="guiding-design-principles.html" />
    <link rel="prev" title="Publishing the Documentation" href="publishing-docs.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Packaging Scientific Python
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="preliminaries.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="the-code-itself.html">The Code Itself</a></li>
<li class="toctree-l1"><a class="reference internal" href="ci.html">Continous Integration Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="writing-docs.html">Writing Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="including-data-files.html">Including Data Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="publishing-docs.html">Publishing the Documentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Publishing Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="guiding-design-principles.html">Guiding Design Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced-testing.html">Common Patterns for Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="further-reading.html">Futher Reading</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes-for-experts.html">Philosophy of this Tutorial</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Packaging Scientific Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Publishing Releases</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/publishing-releases.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="publishing-releases">
<h1>Publishing Releases<a class="headerlink" href="#publishing-releases" title="Permalink to this headline">¶</a></h1>
<p>In this section you will:</p>
<ul class="simple">
<li>Tag a release of your Python package.</li>
<li>Upload it to <a class="reference external" href="https://pypi.org/">PyPI</a> (Python Package Index) so that
users can download and install it using pip.</li>
</ul>
<ol class="arabic">
<li><p class="first">Choose a version number. The convention following by most scientific Python
packages is <code class="docutils literal notranslate"><span class="pre">vMAJOR.MINOR.MICRO</span></code>, as in <code class="docutils literal notranslate"><span class="pre">v1.3.0</span></code>. A good number to start
with is <code class="docutils literal notranslate"><span class="pre">v0.1.0</span></code>.</p>
<p>These numbers have meanings.
The goal is to communicate to the user whether upgrading will break anything
in <em>their</em> code that will need to be updated in turn.</p>
<ul class="simple">
<li>Incrementing the <code class="docutils literal notranslate"><span class="pre">MICRO</span></code> number (<code class="docutils literal notranslate"><span class="pre">v1.3.0</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">v1.3.1</span></code>) means, “I
have fixed some bugs, but I have not added any major new features or
changed any names. All of your code should still work without changes.”</li>
<li>Incrementing the <code class="docutils literal notranslate"><span class="pre">MINOR</span></code> number (<code class="docutils literal notranslate"><span class="pre">v1.3.0</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">v1.4.0</span></code>) means, “I
have added some new features and changed some minor things. Your code
should work with perhaps some small updates.”</li>
<li>Incrementing the <code class="docutils literal notranslate"><span class="pre">MAJOR</span></code> number (<code class="docutils literal notranslate"><span class="pre">v1.3.0</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">v2.0.0</span></code>) means, “I
have made major changes that will probably require you to update your
code.”</li>
</ul>
<p>Additionally, if the <code class="docutils literal notranslate"><span class="pre">MAJOR</span></code> version is <code class="docutils literal notranslate"><span class="pre">0</span></code>, the project is considered
to be in early development and may make major breaking changes in minor
releases.</p>
<p>Obviously this is an imprecise system. Think of it a highly-compressed,
lossy representation of how painful it will be for the user to upgrade.</p>
</li>
<li><p class="first">Update <code class="docutils literal notranslate"><span class="pre">release-history.rst</span></code> in the documentation if you have not done so
already. (See <a class="reference internal" href="writing-docs.html"><span class="doc">Writing Documentation</span></a>.) It must address any breaking changes
that could require users of your Python package to change their code. It may
also highlight any additions, improvements, and bug fixes.</p>
</li>
<li><p class="first">Type <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> and check that you are on the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch with no
uncommitted code.</p>
</li>
<li><p class="first">Mark the release with an empty commit, just to leave a marker. This is
optional, but it makes it easier to find the release when skimming through
the git history.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git commit --allow-empty -m <span class="s2">&quot;REL: vX.Y.Z&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">Tag the commit.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git tag -a vX.Y.Z  <span class="c1"># Don&#39;t forget the leading v</span>
</pre></div>
</div>
<p>This will create a tag named <code class="docutils literal notranslate"><span class="pre">vX.Y.Z</span></code>. The <code class="docutils literal notranslate"><span class="pre">-a</span></code> flag (optional but
recommended) opens up a text editor where you should enter a brief
description of the release, such as “This releases fixes some bugs but does
not introduce any breaking changes. All users are encouraged to upgrade.”</p>
</li>
<li><p class="first">Verify that the <code class="docutils literal notranslate"><span class="pre">__version__</span></code> attribute is correctly updated.</p>
<p>The version is reported in three places:</p>
<ol class="arabic simple">
<li>The git tag</li>
<li>The version parameter in the <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file</li>
<li>Your package’s <code class="docutils literal notranslate"><span class="pre">__version__</span></code> attribute, in Python</li>
</ol>
<p><a class="reference external" href="https://github.com/warner/python-versioneer">Versioneer</a>, which was
included and configured for you by the cookiecutter template, automatically
keeps these three in sync. Just to be sure that it worked properly, start up
Python, import the module, and check the <code class="docutils literal notranslate"><span class="pre">__version__</span></code>.  It should have
automatically updated to match the tag. The leading <code class="docutils literal notranslate"><span class="pre">v</span></code> is not included.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">your_package</span>
<span class="n">your_package</span><span class="o">.</span><span class="n">__version__</span>  <span class="c1"># should be &#39;X.Y.Z&#39;</span>
</pre></div>
</div>
</li>
<li><p class="first">Push the new commit and the tag to <code class="docutils literal notranslate"><span class="pre">master</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git push origin master
git push origin vX.Y.Z
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Check your remotes using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">remote</span> <span class="pre">-v</span></code>. If your respoitory is
stored in an organization account, you may need to push to <code class="docutils literal notranslate"><span class="pre">upstream</span></code>
as well as <code class="docutils literal notranslate"><span class="pre">origin</span></code>.</p>
</div>
</li>
<li><p class="first"><a class="reference external" href="https://pypi.org/account/register/">Register for a PyPI account</a>.</p>
</li>
<li><p class="first">Install twine, a tool for uploading packages to PyPI.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 -m pip install --upgrade twine
</pre></div>
</div>
</li>
<li><p class="first">Publish a release on PyPI.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python setup.py sdist
python setup.py bdist_wheel
twine upload dist/*
</pre></div>
</div>
</li>
</ol>
<p>The package is now installable with pip. It may take a couple minutes to become
available.</p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="guiding-design-principles.html" class="btn btn-neutral float-right" title="Guiding Design Principles" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="publishing-docs.html" class="btn btn-neutral" title="Publishing the Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Contributors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.rawgit.com/choldgraf/sphinx-copybutton/master/_static/copybutton.js"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@1/dist/clipboard.min.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>