

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Command-Line Client &mdash; caproto 0.5.0a1+151.g372731a.dirty documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Synchronous Client" href="sync-client.html" />
    <link rel="prev" title="Clients" href="clients.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> caproto
          

          
          </a>

          
            
            
              <div class="version">
                0.5.0a1+151.g372731a.dirty
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install Caproto</a></li>
</ul>
<p class="caption"><span class="caption-text">EPICS Clients and Servers</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="clients.html">Clients</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Command-Line Client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tutorial">Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#output-formatting-options">Output Formatting Options</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#api-documentation">API Documentation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#caproto-get">caproto-get</a></li>
<li class="toctree-l4"><a class="reference internal" href="#caproto-put">caproto-put</a></li>
<li class="toctree-l4"><a class="reference internal" href="#caproto-monitor">caproto-monitor</a></li>
<li class="toctree-l4"><a class="reference internal" href="#caproto-repeater">caproto-repeater</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="sync-client.html">Synchronous Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="threading-client.html">Threading Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyepics-compat-client.html">Pyepics-Compatible Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="async-clients.html">Asynchronous Clients</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="iocs.html">Input-Output Controllers (IOCs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="mock-records.html">Mock Records</a></li>
<li class="toctree-l1"><a class="reference internal" href="servers.html">Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="shark.html">Shark (pcap/tcpdump parsing)</a></li>
<li class="toctree-l1"><a class="reference internal" href="loggers.html">Logging</a></li>
</ul>
<p class="caption"><span class="caption-text">Channel Access Sans I/O</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="basics.html">Writing Your Own Channel Access Client</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Core API Documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://nsls-ii.github.io/caproto/bench/#/">Performance Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="protocol-compliance.html">Details of our Protocol Compliance for CA Nerds</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">Release History</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">caproto</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="clients.html">Clients</a> &raquo;</li>
        
      <li>Command-Line Client</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/command-line-client.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="command-line-client">
<h1>Command-Line Client<a class="headerlink" href="#command-line-client" title="Permalink to this headline">¶</a></h1>
<p>Installing the caproto Python package places several executable command-line
utilities next to whichever <code class="docutils literal notranslate"><span class="pre">python3</span></code> binary was used to install caproto.
They should be available on your <code class="docutils literal notranslate"><span class="pre">PATH</span></code>. Type <code class="docutils literal notranslate"><span class="pre">caproto-&lt;TAB&gt;</span></code> to check.</p>
<div class="section" id="tutorial">
<h2>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h2>
<p>Start one of caproto’s demo IOCs.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python3 -m caproto.ioc_examples.random_walk --list-pvs
<span class="o">[</span>I <span class="m">19</span>:50:37.509 server:93<span class="o">]</span> Server starting up...
<span class="o">[</span>I <span class="m">19</span>:50:37.512 server:109<span class="o">]</span> Listening on <span class="m">0</span>.0.0.0:55704
<span class="o">[</span>I <span class="m">19</span>:50:37.512 server:121<span class="o">]</span> Server startup complete.
<span class="o">[</span>I <span class="m">19</span>:50:37.512 server:123<span class="o">]</span> PVs available:
    random_walk:dt
    random_walk:x
</pre></div>
</div>
<p>Now, in a separate shell, we will talk to it using caproto’s command-line
client:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-get random_walk:dt
random_walk:dt                       <span class="o">[</span><span class="m">3</span>.<span class="o">]</span>
</pre></div>
</div>
<p>By default, <code class="docutils literal notranslate"><span class="pre">caproto-get</span></code> displays the name and the current value.  For
comprehensive access to the server’s response, use <code class="docutils literal notranslate"><span class="pre">--format</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-get random_walk:dt --format<span class="o">=</span><span class="s2">&quot;{response}&quot;</span>
ReadNotifyResponse<span class="o">(</span><span class="nv">data</span><span class="o">=</span>array<span class="o">([</span><span class="m">3</span>.<span class="o">])</span>, <span class="nv">data_type</span><span class="o">=</span>&lt;ChannelType.DOUBLE: <span class="m">6</span>&gt;,
<span class="nv">data_count</span><span class="o">=</span><span class="m">1</span>, <span class="nv">status</span><span class="o">=</span>CAStatusCode<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;ECA_NORMAL&#39;</span>, <span class="nv">code</span><span class="o">=</span><span class="m">0</span>,
<span class="nv">code_with_severity</span><span class="o">=</span><span class="m">1</span>, <span class="nv">severity</span><span class="o">=</span>&lt;CASeverity.SUCCESS: <span class="m">1</span>&gt;, <span class="nv">success</span><span class="o">=</span><span class="m">1</span>,
<span class="nv">defunct</span><span class="o">=</span>False, <span class="nv">description</span><span class="o">=</span><span class="s1">&#39;Normal successful completion&#39;</span><span class="o">)</span>, <span class="nv">ioid</span><span class="o">=</span><span class="m">0</span>,
<span class="nv">metadata</span><span class="o">=</span>None<span class="o">)</span>
</pre></div>
</div>
<p>Access particular fields in the response using attribute (“dot”) access.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-get random_walk:dt --format<span class="o">=</span><span class="s2">&quot;{response.data}&quot;</span>
<span class="o">[</span><span class="m">3</span>.<span class="o">]</span>

$ caproto-get random_walk:dt --format<span class="o">=</span><span class="s2">&quot;{response.status.description}&quot;</span>
Normal successful completion

$ caproto-get random_walk:dt --format<span class="o">=</span><span class="s2">&quot;{response.metadata}&quot;</span>
None
</pre></div>
</div>
<p>By default, the server sends no metadata. Obtain metadata by requesting a
richer data type.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-get random_walk:dt -d control --format<span class="o">=</span><span class="s2">&quot;{response.metadata}&quot;</span>
DBR_CTRL_FLOAT<span class="o">(</span><span class="nv">status</span><span class="o">=</span>&lt;AlarmStatus.NO_ALARM: <span class="m">0</span>&gt;,
<span class="nv">severity</span><span class="o">=</span>&lt;AlarmSeverity.NO_ALARM: <span class="m">0</span>&gt;, <span class="nv">upper_disp_limit</span><span class="o">=</span><span class="m">0</span>.0,
<span class="nv">lower_disp_limit</span><span class="o">=</span><span class="m">0</span>.0, <span class="nv">upper_alarm_limit</span><span class="o">=</span><span class="m">0</span>.0, <span class="nv">upper_warning_limit</span><span class="o">=</span><span class="m">0</span>.0,
<span class="nv">lower_warning_limit</span><span class="o">=</span><span class="m">0</span>.0, <span class="nv">lower_alarm_limit</span><span class="o">=</span><span class="m">0</span>.0, <span class="nv">upper_ctrl_limit</span><span class="o">=</span><span class="m">0</span>.0,
<span class="nv">lower_ctrl_limit</span><span class="o">=</span><span class="m">0</span>.0, <span class="nv">precision</span><span class="o">=</span><span class="m">0</span>, <span class="nv">units</span><span class="o">=</span>b<span class="s1">&#39;&#39;</span><span class="o">)</span>
</pre></div>
</div>
<p>To view the list of data types, use <code class="docutils literal notranslate"><span class="pre">--list-types</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-get --list-types
Request a general class of types:

native
status
<span class="nb">time</span>
graphic
control

or one of the following specific types, specified by number or by <span class="o">(</span><span class="k">case</span>-insensitive<span class="o">)</span> name:

<span class="m">0</span>  STRING
<span class="m">1</span>  INT
<span class="m">2</span>  FLOAT
<span class="m">3</span>  ENUM
<span class="m">4</span>  CHAR
<span class="m">5</span>  LONG
<span class="m">6</span>  DOUBLE
&lt;...snipped...&gt;
<span class="m">34</span> CTRL_DOUBLE
<span class="m">35</span> PUT_ACKT
<span class="m">36</span> PUT_ACKS
<span class="m">37</span> STSACK_STRING
<span class="m">38</span> CLASS_NAME
</pre></div>
</div>
<p>Display multiple fields.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-get random_walk:dt -d <span class="nb">time</span> <span class="se">\</span>
  --format<span class="o">=</span><span class="s2">&quot;{response.metadata.timestamp}   {response.data}&quot;</span>
<span class="m">1527708484</span>.417967   <span class="o">[</span><span class="m">3</span>.<span class="o">]</span>
</pre></div>
</div>
<p>Query multiple PVs in one command and label the results.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>caproto-get random_walk:dt random_walk:x --format<span class="o">=</span><span class="s2">&quot;{pv_name} {response.data}&quot;</span>
random_walk:dt <span class="o">[</span><span class="m">3</span>.<span class="o">]</span>
random_walk:x <span class="o">[</span><span class="m">15</span>.03687<span class="o">]</span>
</pre></div>
</div>
<p>For debugging purposes, display some log messages using <code class="docutils literal notranslate"><span class="pre">-v</span></code> or <code class="docutils literal notranslate"><span class="pre">--verbose</span></code>.
On supported terminals, this output is color-coded and somewhat easier to
visually parse.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-get -v random_walk:x
<span class="o">[</span>D <span class="m">20</span>:00:15.753 client:53<span class="o">]</span> Registering with the Channel Access repeater.
<span class="o">[</span>D <span class="m">20</span>:00:15.755 client:60<span class="o">]</span> Searching <span class="k">for</span> <span class="s1">&#39;random_walk:x&#39;</span>....
<span class="o">[</span>D <span class="m">20</span>:00:15.758 client:72<span class="o">]</span> Search request sent to <span class="o">(</span><span class="s1">&#39;127.0.0.1&#39;</span>, <span class="m">5064</span><span class="o">)</span>.
<span class="o">[</span>D <span class="m">20</span>:00:15.758 client:72<span class="o">]</span> Search request sent to <span class="o">(</span><span class="s1">&#39;172.27.7.255&#39;</span>, <span class="m">5064</span><span class="o">)</span>.
<span class="o">[</span>D <span class="m">20</span>:00:15.759 client:112<span class="o">]</span> Found random_walk:x at <span class="o">(</span><span class="s1">&#39;127.0.0.1&#39;</span>, <span class="m">54388</span><span class="o">)</span>
<span class="o">[</span>I <span class="m">20</span>:00:15.765 client:147<span class="o">]</span> random_walk:x connected
<span class="o">[</span>D <span class="m">20</span>:00:15.765 client:161<span class="o">]</span> Detected native data_type &lt;ChannelType.DOUBLE: <span class="m">6</span>&gt;.
random_walk:x                             <span class="o">[</span><span class="m">0</span>.49813506<span class="o">]</span>
</pre></div>
</div>
<p>For extreme debugging, display all of the commands sent and received using <code class="docutils literal notranslate"><span class="pre">-vvv</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-get -vvv random_walk:x
<span class="o">[</span>D <span class="m">20</span>:00:47.562 repeater:214<span class="o">]</span> Another repeater is already running<span class="p">;</span> will not spawn one.
<span class="o">[</span>D <span class="m">20</span>:00:47.563 client:53<span class="o">]</span> Registering with the Channel Access repeater.
<span class="o">[</span>D <span class="m">20</span>:00:47.563 _broadcaster:71<span class="o">]</span> Serializing <span class="m">1</span> commands into one datagram
<span class="o">[</span>D <span class="m">20</span>:00:47.564 _broadcaster:74<span class="o">]</span> <span class="m">1</span> of <span class="m">1</span> RepeaterRegisterRequest<span class="o">(</span><span class="nv">client_address</span><span class="o">=</span><span class="s1">&#39;0.0.0.0&#39;</span><span class="o">)</span>
<span class="o">[</span>D <span class="m">20</span>:00:47.565 client:60<span class="o">]</span> Searching <span class="k">for</span> <span class="s1">&#39;random_walk:x&#39;</span>....
<span class="o">[</span>D <span class="m">20</span>:00:47.566 _broadcaster:71<span class="o">]</span> Serializing <span class="m">2</span> commands into one datagram
<span class="o">[</span>D <span class="m">20</span>:00:47.566 _broadcaster:74<span class="o">]</span> <span class="m">1</span> of <span class="m">2</span> VersionRequest<span class="o">(</span><span class="nv">priority</span><span class="o">=</span><span class="m">0</span>, <span class="nv">version</span><span class="o">=</span><span class="m">13</span><span class="o">)</span>
<span class="o">[</span>D <span class="m">20</span>:00:47.566 _broadcaster:74<span class="o">]</span> <span class="m">2</span> of <span class="m">2</span> SearchRequest<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;random_walk:x&#39;</span>, <span class="nv">cid</span><span class="o">=</span><span class="m">0</span>, <span class="nv">version</span><span class="o">=</span><span class="m">13</span><span class="o">)</span>
<span class="o">[</span>D <span class="m">20</span>:00:47.567 client:72<span class="o">]</span> Search request sent to <span class="o">(</span><span class="s1">&#39;127.0.0.1&#39;</span>, <span class="m">5064</span><span class="o">)</span>.
<span class="o">[</span>D <span class="m">20</span>:00:47.567 client:72<span class="o">]</span> Search request sent to <span class="o">(</span><span class="s1">&#39;172.27.7.255&#39;</span>, <span class="m">5064</span><span class="o">)</span>.
<span class="o">[</span>D <span class="m">20</span>:00:47.568 _broadcaster:98<span class="o">]</span> Received datagram from <span class="o">(</span><span class="s1">&#39;127.0.0.1&#39;</span>, <span class="m">5065</span><span class="o">)</span> with <span class="m">16</span> bytes.
<span class="o">[</span>D <span class="m">20</span>:00:47.568 _broadcaster:98<span class="o">]</span> Received datagram from <span class="o">(</span><span class="s1">&#39;127.0.0.1&#39;</span>, <span class="m">5064</span><span class="o">)</span> with <span class="m">40</span> bytes.
<span class="o">[</span>D <span class="m">20</span>:00:47.568 client:112<span class="o">]</span> Found random_walk:x at <span class="o">(</span><span class="s1">&#39;127.0.0.1&#39;</span>, <span class="m">54388</span><span class="o">)</span>
<span class="o">[</span>D <span class="m">20</span>:00:47.572 _circuit:142<span class="o">]</span> Serializing VersionRequest<span class="o">(</span><span class="nv">priority</span><span class="o">=</span><span class="m">0</span>, <span class="nv">version</span><span class="o">=</span><span class="m">13</span><span class="o">)</span>
<span class="o">[</span>D <span class="m">20</span>:00:47.573 _circuit:142<span class="o">]</span> Serializing HostNameRequest<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;Daniels-MacBook-Air-3.local&#39;</span><span class="o">)</span>
<span class="o">[</span>D <span class="m">20</span>:00:47.574 _circuit:142<span class="o">]</span> Serializing ClientNameRequest<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;dallan&#39;</span><span class="o">)</span>
<span class="o">[</span>D <span class="m">20</span>:00:47.574 _circuit:142<span class="o">]</span> Serializing CreateChanRequest<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;random_walk:x&#39;</span>, <span class="nv">cid</span><span class="o">=</span><span class="m">0</span>, <span class="nv">version</span><span class="o">=</span><span class="m">13</span><span class="o">)</span>
<span class="o">[</span>D <span class="m">20</span>:00:47.575 _circuit:171<span class="o">]</span> Received <span class="m">16</span> bytes.
<span class="o">[</span>D <span class="m">20</span>:00:47.575 _circuit:181<span class="o">]</span> <span class="m">16</span> bytes -&gt; VersionResponse<span class="o">(</span><span class="nv">version</span><span class="o">=</span><span class="m">13</span><span class="o">)</span>
<span class="o">[</span>D <span class="m">20</span>:00:47.575 _circuit:185<span class="o">]</span> <span class="m">0</span> bytes are cached. Need more bytes to parse next command.
<span class="o">[</span>D <span class="m">20</span>:00:47.575 _circuit:171<span class="o">]</span> Received <span class="m">32</span> bytes.
<span class="o">[</span>D <span class="m">20</span>:00:47.575 _circuit:181<span class="o">]</span> <span class="m">16</span> bytes -&gt; AccessRightsResponse<span class="o">(</span><span class="nv">cid</span><span class="o">=</span><span class="m">0</span>, <span class="nv">access_rights</span><span class="o">=</span>&lt;AccessRights.WRITE<span class="p">|</span>READ: <span class="m">3</span>&gt;<span class="o">)</span>
<span class="o">[</span>D <span class="m">20</span>:00:47.576 _circuit:181<span class="o">]</span> <span class="m">16</span> bytes -&gt; CreateChanResponse<span class="o">(</span><span class="nv">data_type</span><span class="o">=</span>&lt;ChannelType.DOUBLE: <span class="m">6</span>&gt;, <span class="nv">data_count</span><span class="o">=</span><span class="m">1</span>, <span class="nv">cid</span><span class="o">=</span><span class="m">0</span>, <span class="nv">sid</span><span class="o">=</span><span class="m">1</span><span class="o">)</span>
<span class="o">[</span>D <span class="m">20</span>:00:47.576 _circuit:185<span class="o">]</span> <span class="m">0</span> bytes are cached. Need more bytes to parse next command.
<span class="o">[</span>I <span class="m">20</span>:00:47.576 client:147<span class="o">]</span> random_walk:x connected
<span class="o">[</span>D <span class="m">20</span>:00:47.577 client:161<span class="o">]</span> Detected native data_type &lt;ChannelType.DOUBLE: <span class="m">6</span>&gt;.
<span class="o">[</span>D <span class="m">20</span>:00:47.577 _circuit:142<span class="o">]</span> Serializing ReadNotifyRequest<span class="o">(</span><span class="nv">data_type</span><span class="o">=</span>&lt;ChannelType.DOUBLE: <span class="m">6</span>&gt;, <span class="nv">data_count</span><span class="o">=</span><span class="m">0</span>, <span class="nv">sid</span><span class="o">=</span><span class="m">1</span>, <span class="nv">ioid</span><span class="o">=</span><span class="m">0</span><span class="o">)</span>
<span class="o">[</span>D <span class="m">20</span>:00:47.578 _circuit:171<span class="o">]</span> Received <span class="m">24</span> bytes.
<span class="o">[</span>D <span class="m">20</span>:00:47.578 _circuit:181<span class="o">]</span> <span class="m">24</span> bytes -&gt; ReadNotifyResponse<span class="o">(</span><span class="nv">data</span><span class="o">=</span>array<span class="o">([</span><span class="m">5</span>.38826246<span class="o">])</span>, <span class="nv">data_type</span><span class="o">=</span>&lt;ChannelType.DOUBLE: <span class="m">6</span>&gt;, <span class="nv">data_count</span><span class="o">=</span><span class="m">1</span>, <span class="nv">status</span><span class="o">=</span>CAStatusCode<span class="o">(</span><span class="nv">name</span><span class="o">=</span><span class="s1">&#39;ECA_NORMAL&#39;</span>, <span class="nv">code</span><span class="o">=</span><span class="m">0</span>, <span class="nv">code_with_severity</span><span class="o">=</span><span class="m">1</span>, <span class="nv">severity</span><span class="o">=</span>&lt;CASeverity.SUCCESS: <span class="m">1</span>&gt;, <span class="nv">success</span><span class="o">=</span><span class="m">1</span>, <span class="nv">defunct</span><span class="o">=</span>False, <span class="nv">description</span><span class="o">=</span><span class="s1">&#39;Normal successful completion&#39;</span><span class="o">)</span>, <span class="nv">ioid</span><span class="o">=</span><span class="m">0</span>, <span class="nv">metadata</span><span class="o">=</span>None<span class="o">)</span>
<span class="o">[</span>D <span class="m">20</span>:00:47.579 _circuit:185<span class="o">]</span> <span class="m">0</span> bytes are cached. Need more bytes to parse next command.
<span class="o">[</span>D <span class="m">20</span>:00:47.579 _circuit:142<span class="o">]</span> Serializing ClearChannelRequest<span class="o">(</span><span class="nv">sid</span><span class="o">=</span><span class="m">1</span>, <span class="nv">cid</span><span class="o">=</span><span class="m">0</span><span class="o">)</span>
random_walk:x                             <span class="o">[</span><span class="m">5</span>.38826246<span class="o">]</span>
</pre></div>
</div>
<p>For additional options, type <code class="docutils literal notranslate"><span class="pre">caproto-get</span> <span class="pre">-h</span></code> or see below.</p>
<p>Let us set the value to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-put random_walk:dt <span class="m">1</span>
random_walk:dt                            <span class="o">[</span><span class="m">3</span>.<span class="o">]</span>
random_walk:dt                            <span class="o">[</span><span class="m">1</span>.<span class="o">]</span>
</pre></div>
</div>
<p>The client issues three requests:</p>
<ol class="arabic simple">
<li><p>Read the current value.</p></li>
<li><p>Write <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
<li><p>Read the value again.</p></li>
</ol>
<p>By default it does not actually wait for confirmation that the write has been
processed by the server before moving on to the final read, so it is possible
to receive a reading that isn’t up to date. Use <code class="docutils literal notranslate"><span class="pre">-c</span></code> to ask the server to
confirm the write’s success and to wait on that confirmation before doing the
final read.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-put -c random_walk:dt <span class="m">2</span>
random_walk:dt                            <span class="o">[</span><span class="m">1</span>.<span class="o">]</span>
random_walk:dt                            <span class="o">[</span><span class="m">2</span>.<span class="o">]</span>
</pre></div>
</div>
<p>For additional options, type <code class="docutils literal notranslate"><span class="pre">caproto-put</span> <span class="pre">-h</span></code> or see below.</p>
<p>Let us now monitor a channel. The server updates the <code class="docutils literal notranslate"><span class="pre">random_walk:x</span></code> channel
periodically. (The period is set by <code class="docutils literal notranslate"><span class="pre">random_walk:dt</span></code>.) We can subscribe
to updates. Use Ctrl+C to escape.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-monitor random_walk:x
random_walk:x                             <span class="m">2018</span>-05-30 <span class="m">16</span>:05:14 <span class="o">[</span><span class="m">3</span>.21691947<span class="o">]</span>
random_walk:x                             <span class="m">2018</span>-05-30 <span class="m">16</span>:05:17 <span class="o">[</span><span class="m">4</span>.06274315<span class="o">]</span>
random_walk:x                             <span class="m">2018</span>-05-30 <span class="m">16</span>:05:18 <span class="o">[</span><span class="m">4</span>.66485147<span class="o">]</span>
random_walk:x                             <span class="m">2018</span>-05-30 <span class="m">16</span>:05:19 <span class="o">[</span><span class="m">5</span>.37846743<span class="o">]</span>
random_walk:x                             <span class="m">2018</span>-05-30 <span class="m">16</span>:05:20 <span class="o">[</span><span class="m">5</span>.91004514<span class="o">]</span>
random_walk:x                             <span class="m">2018</span>-05-30 <span class="m">16</span>:05:21 <span class="o">[</span><span class="m">6</span>.73980869<span class="o">]</span>
random_walk:x                             <span class="m">2018</span>-05-30 <span class="m">16</span>:05:22 <span class="o">[</span><span class="m">7</span>.32833931<span class="o">]</span>
random_walk:x                             <span class="m">2018</span>-05-30 <span class="m">16</span>:05:23 <span class="o">[</span><span class="m">7</span>.34338441<span class="o">]</span>
random_walk:x                             <span class="m">2018</span>-05-30 <span class="m">16</span>:05:24 <span class="o">[</span><span class="m">7</span>.54504445<span class="o">]</span>
random_walk:x                             <span class="m">2018</span>-05-30 <span class="m">16</span>:05:25 <span class="o">[</span><span class="m">7</span>.97174939<span class="o">]</span>
random_walk:x                             <span class="m">2018</span>-05-30 <span class="m">16</span>:05:26 <span class="o">[</span><span class="m">8</span>.54049119<span class="o">]</span>
</pre></div>
</div>
<p>Since monitoring involves a time series of multiple readings, the <code class="docutils literal notranslate"><span class="pre">--format</span></code>
argument for <code class="docutils literal notranslate"><span class="pre">caproto-monitor</span></code> provides additional tokens, <code class="docutils literal notranslate"><span class="pre">{timestamp}</span></code>
and <code class="docutils literal notranslate"><span class="pre">{timedelta}</span></code>. We can show the hours, minutes, and seconds of each reading:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-monitor random_walk:x --format <span class="s2">&quot;{timestamp:%H:%M:%S} {response.data}&quot;</span>
<span class="m">16</span>:13:00 <span class="o">[</span><span class="m">239</span>.95707401<span class="o">]</span>
<span class="m">16</span>:13:01 <span class="o">[</span><span class="m">240</span>.49112986<span class="o">]</span>
<span class="m">16</span>:13:02 <span class="o">[</span><span class="m">241</span>.46992348<span class="o">]</span>
<span class="m">16</span>:13:03 <span class="o">[</span><span class="m">241</span>.93483515<span class="o">]</span>
<span class="m">16</span>:13:04 <span class="o">[</span><span class="m">242</span>.39478219<span class="o">]</span>
^C
</pre></div>
</div>
<p>and the time-spacing between readings:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-monitor random_walk:x --format <span class="s2">&quot;{timedelta} {response.data}&quot;</span>
<span class="m">0</span>:00:00.821489 <span class="o">[</span><span class="m">216</span>.31247919<span class="o">]</span>
<span class="m">0</span>:00:01.001850 <span class="o">[</span><span class="m">216</span>.87041785<span class="o">]</span>
<span class="m">0</span>:00:01.002946 <span class="o">[</span><span class="m">217</span>.64755049<span class="o">]</span>
<span class="m">0</span>:00:01.003341 <span class="o">[</span><span class="m">218</span>.41384969<span class="o">]</span>
<span class="m">0</span>:00:01.004499 <span class="o">[</span><span class="m">219</span>.30221942<span class="o">]</span>
^C
</pre></div>
</div>
<p>For additional options, type <code class="docutils literal notranslate"><span class="pre">caproto-monitor</span> <span class="pre">-h</span></code> or see below.</p>
<div class="section" id="output-formatting-options">
<h3>Output Formatting Options<a class="headerlink" href="#output-formatting-options" title="Permalink to this headline">¶</a></h3>
<p>Output formatting options are changing the default format used in
<code class="docutils literal notranslate"><span class="pre">caproto-get</span></code> and <code class="docutils literal notranslate"><span class="pre">caproto-monitor</span></code> for printing PV values.
The default formatting is used in the following cases:</p>
<ul class="simple">
<li><p>The format string (<code class="docutils literal notranslate"><span class="pre">--format</span></code> argument) is not specified.</p></li>
<li><p>The format string contains the field <code class="docutils literal notranslate"><span class="pre">{response.data}</span></code>. In this case
formatting is applied only to the field <code class="docutils literal notranslate"><span class="pre">{response.data}</span></code>.</p></li>
</ul>
<p>Formatting options applied to <strong>floating point PV values</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-e</span> <span class="pre">&lt;nr&gt;</span></code> - use %e format with precision of <code class="docutils literal notranslate"><span class="pre">&lt;nr&gt;</span></code> digits (e.g. <code class="docutils literal notranslate"><span class="pre">-e5</span></code> or <code class="docutils literal notranslate"><span class="pre">-e</span> <span class="pre">5</span></code>);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-f</span> <span class="pre">&lt;nr&gt;</span></code> - use %f format with precision of <code class="docutils literal notranslate"><span class="pre">&lt;nr&gt;</span></code> digits (e.g. <code class="docutils literal notranslate"><span class="pre">-f5</span></code> or <code class="docutils literal notranslate"><span class="pre">-f</span> <span class="pre">5</span></code>);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-g</span> <span class="pre">&lt;nr&gt;</span></code> - use %g format with precision of <code class="docutils literal notranslate"><span class="pre">&lt;nr&gt;</span></code> digits (e.g. <code class="docutils literal notranslate"><span class="pre">-g5</span></code> or <code class="docutils literal notranslate"><span class="pre">-g</span> <span class="pre">5</span></code>);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-s</span></code> - get value as string (honors server-side precision);</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-lx</span></code> - round to long integer and print as hex number;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-lo</span></code> - round to long integer and print as octal number;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-lb</span></code> - round to long integer and print as binary number.</p></li>
</ul>
<p>Formatting options applied to <strong>integer PV values</strong>:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-0x</span></code> - print as hex number;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-0o</span></code> - print as octal number;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-0b</span></code> - print as binary number.</p></li>
</ul>
<p>The argument <code class="docutils literal notranslate"><span class="pre">-F</span> <span class="pre">&lt;ofs&gt;</span></code> replaces the default field separator (spaces) with alternate
separator <code class="docutils literal notranslate"><span class="pre">&lt;ofs&gt;</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">-F*</span></code>, <code class="docutils literal notranslate"><span class="pre">-F'*'</span></code>, <code class="docutils literal notranslate"><span class="pre">-F</span> <span class="pre">'*'</span></code>, <code class="docutils literal notranslate"><span class="pre">-F</span> <span class="pre">'</span> <span class="pre">**</span> <span class="pre">'</span></code>).</p>
<p>Some examples of output formatting:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-monitor random_walk:x -g10
random_walk:x                             <span class="m">2019</span>-04-11 <span class="m">20</span>:12:45.159667 <span class="o">[</span>-165.3895284<span class="o">]</span>
random_walk:x                             <span class="m">2019</span>-04-11 <span class="m">20</span>:12:46.160722 <span class="o">[</span>-164.5046121<span class="o">]</span>
random_walk:x                             <span class="m">2019</span>-04-11 <span class="m">20</span>:12:47.162351 <span class="o">[</span>-163.5463466<span class="o">]</span>
random_walk:x                             <span class="m">2019</span>-04-11 <span class="m">20</span>:12:48.164604 <span class="o">[</span>-164.0319457<span class="o">]</span>
random_walk:x                             <span class="m">2019</span>-04-11 <span class="m">20</span>:12:49.166856 <span class="o">[</span>-163.1483927<span class="o">]</span>
random_walk:x                             <span class="m">2019</span>-04-11 <span class="m">20</span>:12:50.169072 <span class="o">[</span>-163.9358578<span class="o">]</span>
random_walk:x                             <span class="m">2019</span>-04-11 <span class="m">20</span>:12:51.171294 <span class="o">[</span>-163.4155186<span class="o">]</span>
random_walk:x                             <span class="m">2019</span>-04-11 <span class="m">20</span>:12:52.173604 <span class="o">[</span>-162.6590992<span class="o">]</span>
^C

$ caproto-monitor random_walk:x -g10 -F<span class="s2">&quot;  ==  &quot;</span>
random_walk:x  <span class="o">==</span>  <span class="m">2019</span>-04-11 <span class="m">20</span>:14:41.297880  <span class="o">==</span>  <span class="o">[</span>-3.811720948<span class="o">]</span>
random_walk:x  <span class="o">==</span>  <span class="m">2019</span>-04-11 <span class="m">20</span>:14:42.298818  <span class="o">==</span>  <span class="o">[</span>-3.162919537<span class="o">]</span>
random_walk:x  <span class="o">==</span>  <span class="m">2019</span>-04-11 <span class="m">20</span>:14:43.301088  <span class="o">==</span>  <span class="o">[</span>-3.432931988<span class="o">]</span>
random_walk:x  <span class="o">==</span>  <span class="m">2019</span>-04-11 <span class="m">20</span>:14:44.303375  <span class="o">==</span>  <span class="o">[</span>-2.787768272<span class="o">]</span>
random_walk:x  <span class="o">==</span>  <span class="m">2019</span>-04-11 <span class="m">20</span>:14:45.305699  <span class="o">==</span>  <span class="o">[</span>-2.024880621<span class="o">]</span>
random_walk:x  <span class="o">==</span>  <span class="m">2019</span>-04-11 <span class="m">20</span>:14:46.307986  <span class="o">==</span>  <span class="o">[</span>-1.765013774<span class="o">]</span>
random_walk:x  <span class="o">==</span>  <span class="m">2019</span>-04-11 <span class="m">20</span>:14:47.310276  <span class="o">==</span>  <span class="o">[</span>-1.45201324<span class="o">]</span>
random_walk:x  <span class="o">==</span>  <span class="m">2019</span>-04-11 <span class="m">20</span>:14:48.312575  <span class="o">==</span>  <span class="o">[</span>-0.9904703683<span class="o">]</span>
^C

$ caproto-monitor random_walk:x -e5 --format <span class="s2">&quot;{timedelta} {response.data}&quot;</span>
<span class="m">0</span>:00:00.561498 <span class="o">[</span>-6.09173e+00<span class="o">]</span>
<span class="m">0</span>:00:01.001148 <span class="o">[</span>-5.15495e+00<span class="o">]</span>
<span class="m">0</span>:00:01.002169 <span class="o">[</span>-5.64561e+00<span class="o">]</span>
<span class="m">0</span>:00:01.002267 <span class="o">[</span>-6.01321e+00<span class="o">]</span>
<span class="m">0</span>:00:01.002256 <span class="o">[</span>-5.18551e+00<span class="o">]</span>
<span class="m">0</span>:00:01.002254 <span class="o">[</span>-4.88171e+00<span class="o">]</span>
<span class="m">0</span>:00:01.000546 <span class="o">[</span>-4.47361e+00<span class="o">]</span>
^C

$ caproto-monitor random_walk:x -f3 -F <span class="s1">&#39; ** &#39;</span> --format <span class="s2">&quot;{timedelta} {response.data}&quot;</span>
<span class="m">0</span>:00:00.115265 ** <span class="o">[</span><span class="m">53</span>.291<span class="o">]</span>
<span class="m">0</span>:00:01.002170 ** <span class="o">[</span><span class="m">53</span>.597<span class="o">]</span>
<span class="m">0</span>:00:01.002251 ** <span class="o">[</span><span class="m">54</span>.536<span class="o">]</span>
<span class="m">0</span>:00:01.002267 ** <span class="o">[</span><span class="m">54</span>.469<span class="o">]</span>
<span class="m">0</span>:00:01.002254 ** <span class="o">[</span><span class="m">53</span>.827<span class="o">]</span>
<span class="m">0</span>:00:01.002264 ** <span class="o">[</span><span class="m">53</span>.000<span class="o">]</span>
<span class="m">0</span>:00:01.001584 ** <span class="o">[</span><span class="m">52</span>.160<span class="o">]</span>
^C

$ caproto-monitor random_walk:x -lx -F <span class="s1">&#39; ** &#39;</span> --format <span class="s2">&quot;{timedelta} {response.data}&quot;</span>
<span class="m">0</span>:00:00.953373 ** <span class="o">[</span>0x2D<span class="o">]</span>
<span class="m">0</span>:00:01.000445 ** <span class="o">[</span>0x2D<span class="o">]</span>
<span class="m">0</span>:00:01.001918 ** <span class="o">[</span>0x2E<span class="o">]</span>
<span class="m">0</span>:00:01.002289 ** <span class="o">[</span>0x2E<span class="o">]</span>
<span class="m">0</span>:00:01.002199 ** <span class="o">[</span>0x2D<span class="o">]</span>
<span class="m">0</span>:00:01.002327 ** <span class="o">[</span>0x2D<span class="o">]</span>
<span class="m">0</span>:00:01.001610 ** <span class="o">[</span>0x2C<span class="o">]</span>
^C
</pre></div>
</div>
</div>
</div>
<div class="section" id="api-documentation">
<h2>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h2>
<p>Caproto’s command-line client is intended to provide a superset of the API
provided by its counterparts in EPICS’ reference implementation, epics-base:
<code class="docutils literal notranslate"><span class="pre">caget</span></code>, <code class="docutils literal notranslate"><span class="pre">caput</span></code>, <code class="docutils literal notranslate"><span class="pre">camonitor</span></code>, and <code class="docutils literal notranslate"><span class="pre">caRepeater</span></code>. It is our goal to make
caproto’s variants safe to use as drop-in replacements. As yet, some arguments
related to string formatting are not yet implemented (<a class="reference external" href="https://github.com/caproto/caproto/issues/147">Code contributions
welcome!</a>) but similar
functionality is available via <code class="docutils literal notranslate"><span class="pre">--format</span></code>.</p>
<div class="section" id="caproto-get">
<h3>caproto-get<a class="headerlink" href="#caproto-get" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-get -h
usage: caproto-get <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>--verbose<span class="o">]</span> <span class="o">[</span>--format FORMAT<span class="o">]</span> <span class="o">[</span>--timeout TIMEOUT<span class="o">]</span>
                <span class="o">[</span>--notify<span class="o">]</span> <span class="o">[</span>--priority PRIORITY<span class="o">]</span>
                <span class="o">[</span>--terse <span class="p">|</span> --wide <span class="p">|</span> -d DATA_TYPE<span class="o">]</span> <span class="o">[</span>--list-types<span class="o">]</span> <span class="o">[</span>-n<span class="o">]</span>
                <span class="o">[</span>--no-color<span class="o">]</span> <span class="o">[</span>--no-repeater<span class="o">]</span> <span class="o">[</span>--version<span class="o">]</span> <span class="o">[</span>-e &lt;nr&gt;<span class="o">]</span>
                <span class="o">[</span>-f &lt;nr&gt;<span class="o">]</span> <span class="o">[</span>-g &lt;nr&gt;<span class="o">]</span> <span class="o">[</span>-s<span class="o">]</span> <span class="o">[</span>-lx<span class="o">]</span> <span class="o">[</span>-lo<span class="o">]</span> <span class="o">[</span>-lb<span class="o">]</span> <span class="o">[</span>-0x<span class="o">]</span> <span class="o">[</span>-0o<span class="o">]</span>
                <span class="o">[</span>-0b<span class="o">]</span> <span class="o">[</span>-F &lt;ofs&gt;<span class="o">]</span>
                pv_names <span class="o">[</span>pv_names ...<span class="o">]</span>

Read the value of a PV.

positional arguments:
pv_names              PV <span class="o">(</span>channel<span class="o">)</span> name<span class="o">(</span>s<span class="o">)</span> separated by spaces

optional arguments:
-h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
--verbose, -v         Show more log messages. <span class="o">(</span>Use -vvv <span class="k">for</span> even more.<span class="o">)</span>
--format FORMAT       Python format string. Available tokens are <span class="o">{</span>pv_name<span class="o">}</span>
                        and <span class="o">{</span>response<span class="o">}</span>. Additionally, <span class="k">if</span> this data <span class="nb">type</span>
                        includes time, <span class="o">{</span>timestamp<span class="o">}</span> and usages like
                        <span class="o">{</span>timestamp:%Y-%m-%d %H:%M:%S<span class="o">}</span> are supported. If the
                        format string is specified, --terse and --wide options
                        have no effect on the output formatting.
--timeout TIMEOUT, -w TIMEOUT
                        Timeout <span class="o">(</span><span class="s1">&#39;wait&#39;</span><span class="o">)</span> in seconds <span class="k">for</span> server responses.
--notify, -c          This is a vestigial argument that now has no effect in
                        caget but is provided <span class="k">for</span> <span class="k">for</span> backward-compatibility
                        with caget invocations.
--priority PRIORITY, -p PRIORITY
                        Channel Access Virtual Circuit priority. Lowest is <span class="m">0</span><span class="p">;</span>
                        highest is <span class="m">99</span>.
--terse, -t           Display data only. Unpack scalars: <span class="o">[</span><span class="m">3</span>.<span class="o">]</span> -&gt; <span class="m">3</span>.
--wide, -a, -l        Wide mode, showing <span class="s1">&#39;name timestamp value</span>
<span class="s1">                        status&#39;</span><span class="o">(</span>implies -d <span class="s1">&#39;time&#39;</span><span class="o">)</span>
-d DATA_TYPE          Request a class of data <span class="nb">type</span> <span class="o">(</span>native, status, time,
                        graphic, control<span class="o">)</span> or a specific type. Accepts numeric
                        code <span class="o">(</span><span class="s1">&#39;3&#39;</span><span class="o">)</span> or <span class="k">case</span>-insensitive string <span class="o">(</span><span class="s1">&#39;enum&#39;</span><span class="o">)</span>. See
                        --list-types.
--list-types          List allowed values <span class="k">for</span> -d and exit.
-n                    Retrieve enums as integers <span class="o">(</span>default is strings<span class="o">)</span>.
--no-color            Suppress ANSI color codes in log messages.
--no-repeater         Do not spawn a Channel Access repeater daemon process.
--version, -V         Show caproto version and exit.

Floating point <span class="nb">type</span> format:
If --format is set, the following arguments change formatting of the
<span class="o">{</span>response.data<span class="o">}</span> field <span class="k">if</span> floating point value is displayed. The default
format is %g.

-e &lt;nr&gt;               Use %e format with precision of &lt;nr&gt; digits <span class="o">(</span>e.g. -e5
                        or -e <span class="m">5</span><span class="o">)</span>
-f &lt;nr&gt;               Use %f format with precision of &lt;nr&gt; digits <span class="o">(</span>e.g. -f5
                        or -f <span class="m">5</span><span class="o">)</span>
-g &lt;nr&gt;               Use %g format with precision of &lt;nr&gt; digits <span class="o">(</span>e.g. -g5
                        or -g <span class="m">5</span><span class="o">)</span>
-s                    Get value as string <span class="o">(</span>honors server-side precision<span class="o">)</span>
-lx                   Round to long integer and print as hex number
-lo                   Round to long integer and print as octal number
-lb                   Round to long integer and print as binary number

Integer number format:
If --format is set, the following arguments change formatting of the
<span class="o">{</span>response.data<span class="o">}</span> field <span class="k">if</span> integer value is displayed. Decimal number is
displayed by default.

-0x                   Print as hex number
-0o                   Print as octal number
-0b                   Print as binary number

Custom output field separator:
-F &lt;ofs&gt;              Use &lt;ofs&gt; as an alternate output field separator <span class="o">(</span>e.g.
                        -F*, -F<span class="s1">&#39;*&#39;</span>, -F <span class="s1">&#39;*&#39;</span>, -F <span class="s1">&#39; ** &#39;</span><span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="caproto-put">
<h3>caproto-put<a class="headerlink" href="#caproto-put" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-put -h
usage: caproto-put <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>--verbose<span class="o">]</span> <span class="o">[</span>--format FORMAT<span class="o">]</span> <span class="o">[</span>--timeout TIMEOUT<span class="o">]</span>
                <span class="o">[</span>--notify<span class="o">]</span> <span class="o">[</span>--priority PRIORITY<span class="o">]</span> <span class="o">[</span>--terse<span class="o">]</span> <span class="o">[</span>--wide<span class="o">]</span> <span class="o">[</span>-n<span class="o">]</span>
                <span class="o">[</span>--array<span class="o">]</span> <span class="o">[</span>--array-pad ARRAY_PAD<span class="o">]</span> <span class="o">[</span>--no-color<span class="o">]</span>
                <span class="o">[</span>--no-repeater<span class="o">]</span>
                pv_name data

Write a value to a PV.

positional arguments:
pv_name               PV <span class="o">(</span>channel<span class="o">)</span> name
data                  Value or values to write.

optional arguments:
-h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
--verbose, -v         Show more log messages. <span class="o">(</span>Use -vvv <span class="k">for</span> even more.<span class="o">)</span>
--format FORMAT       Python format string. Available tokens are <span class="o">{</span>pv_name<span class="o">}</span>,
                        <span class="o">{</span>response<span class="o">}</span> and <span class="o">{</span>which<span class="o">}</span> <span class="o">(</span>Old/New<span class="o">)</span>.Additionally, this
                        data <span class="nb">type</span> includes time, <span class="o">{</span>timestamp<span class="o">}</span> and usages like
                        <span class="o">{</span>timestamp:%Y-%m-%d %H:%M:%S<span class="o">}</span> are supported.
--timeout TIMEOUT, -w TIMEOUT
                        Timeout <span class="o">(</span><span class="s1">&#39;wait&#39;</span><span class="o">)</span> in seconds <span class="k">for</span> server responses.
--notify, -c          Request notification of completion, and <span class="nb">wait</span> <span class="k">for</span> it.
--priority PRIORITY, -p PRIORITY
                        Channel Access Virtual Circuit priority. Lowest is <span class="m">0</span><span class="p">;</span>
                        highest is <span class="m">99</span>.
--terse, -t           Display data only. Unpack scalars: <span class="o">[</span><span class="m">3</span>.<span class="o">]</span> -&gt; <span class="m">3</span>.
--wide, -l            Wide mode, showing <span class="s1">&#39;name timestamp value</span>
<span class="s1">                        status&#39;</span><span class="o">(</span>implies -d <span class="s1">&#39;time&#39;</span><span class="o">)</span>
-n                    Retrieve enums as integers <span class="o">(</span>default is strings<span class="o">)</span>.
--array, -a           Interprets <span class="sb">`</span>data<span class="sb">`</span> as an array, delimited by space
--array-pad ARRAY_PAD
                        Pad the array up to a specified length
--no-color            Suppress ANSI color codes in log messages.
--no-repeater         Do not spawn a Channel Access repeater daemon process.
</pre></div>
</div>
</div>
<div class="section" id="caproto-monitor">
<h3>caproto-monitor<a class="headerlink" href="#caproto-monitor" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-monitor -h
usage: caproto-monitor <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>--format FORMAT<span class="o">]</span> <span class="o">[</span>--verbose<span class="o">]</span>
                    <span class="o">[</span>--duration DURATION <span class="p">|</span> --maximum MAXIMUM<span class="o">]</span>
                    <span class="o">[</span>--timeout TIMEOUT<span class="o">]</span> <span class="o">[</span>-m MASK<span class="o">]</span> <span class="o">[</span>--priority PRIORITY<span class="o">]</span>
                    <span class="o">[</span>-n<span class="o">]</span> <span class="o">[</span>--no-color<span class="o">]</span> <span class="o">[</span>--no-repeater<span class="o">]</span> <span class="o">[</span>--version<span class="o">]</span> <span class="o">[</span>-e &lt;nr&gt;<span class="o">]</span>
                    <span class="o">[</span>-f &lt;nr&gt;<span class="o">]</span> <span class="o">[</span>-g &lt;nr&gt;<span class="o">]</span> <span class="o">[</span>-s<span class="o">]</span> <span class="o">[</span>-lx<span class="o">]</span> <span class="o">[</span>-lo<span class="o">]</span> <span class="o">[</span>-lb<span class="o">]</span> <span class="o">[</span>-0x<span class="o">]</span> <span class="o">[</span>-0o<span class="o">]</span>
                    <span class="o">[</span>-0b<span class="o">]</span> <span class="o">[</span>-F &lt;ofs&gt;<span class="o">]</span>
                    pv_names <span class="o">[</span>pv_names ...<span class="o">]</span>

Read the value of a PV.

positional arguments:
pv_names              PV <span class="o">(</span>channel<span class="o">)</span> name

optional arguments:
-h, --help            show this <span class="nb">help</span> message and <span class="nb">exit</span>
--format FORMAT       Python format string. Available tokens are <span class="o">{</span>pv_name<span class="o">}</span>,
                        <span class="o">{</span>response<span class="o">}</span>, <span class="o">{</span>callback_count<span class="o">}</span>. Additionally, <span class="k">if</span> this
                        data <span class="nb">type</span> includes time, <span class="o">{</span>timestamp<span class="o">}</span>, <span class="o">{</span>timedelta<span class="o">}</span> and
                        usages like <span class="o">{</span>timestamp:%Y-%m-%d %H:%M:%S<span class="o">}</span> are
                        supported.
--verbose, -v         Show more log messages. <span class="o">(</span>Use -vvv <span class="k">for</span> even more.<span class="o">)</span>
--duration DURATION   Maximum number seconds to run before exiting. Runs
                        indefinitely by default.
--maximum MAXIMUM     Maximum number of monitor events to process exiting.
                        Unlimited by default.
--timeout TIMEOUT, -w TIMEOUT
                        Timeout <span class="o">(</span><span class="s1">&#39;wait&#39;</span><span class="o">)</span> in seconds <span class="k">for</span> server responses.
-m MASK               Channel Access mask. Any combination of <span class="s1">&#39;v&#39;</span> <span class="o">(</span>value<span class="o">)</span>,
                        <span class="s1">&#39;a&#39;</span> <span class="o">(</span>alarm<span class="o">)</span>, <span class="s1">&#39;l&#39;</span> <span class="o">(</span>log/archive<span class="o">)</span>, <span class="s1">&#39;p&#39;</span> <span class="o">(</span>property<span class="o">)</span>.
                        Default is <span class="s1">&#39;va&#39;</span>.
--priority PRIORITY, -p PRIORITY
                        Channel Access Virtual Circuit priority. Lowest is <span class="m">0</span><span class="p">;</span>
                        highest is <span class="m">99</span>.
-n                    Retrieve enums as integers <span class="o">(</span>default is strings<span class="o">)</span>.
--no-color            Suppress ANSI color codes in log messages.
--no-repeater         Do not spawn a Channel Access repeater daemon process.
--version, -V         Show caproto version and exit.

Floating point <span class="nb">type</span> format:
If --format is set, the following arguments change formatting of the
<span class="o">{</span>response.data<span class="o">}</span> field <span class="k">if</span> floating point value is displayed. The default
format is %g.

-e &lt;nr&gt;               Use %e format with precision of &lt;nr&gt; digits <span class="o">(</span>e.g. -e5
                        or -e <span class="m">5</span><span class="o">)</span>
-f &lt;nr&gt;               Use %f format with precision of &lt;nr&gt; digits <span class="o">(</span>e.g. -f5
                        or -f <span class="m">5</span><span class="o">)</span>
-g &lt;nr&gt;               Use %g format with precision of &lt;nr&gt; digits <span class="o">(</span>e.g. -g5
                        or -g <span class="m">5</span><span class="o">)</span>
-s                    Get value as string <span class="o">(</span>honors server-side precision<span class="o">)</span>
-lx                   Round to long integer and print as hex number
-lo                   Round to long integer and print as octal number
-lb                   Round to long integer and print as binary number

Integer number format:
If --format is set, the following arguments change formatting of the
<span class="o">{</span>response.data<span class="o">}</span> field <span class="k">if</span> integer value is displayed. Decimal number is
displayed by default.

-0x                   Print as hex number
-0o                   Print as octal number
-0b                   Print as binary number

Custom output field separator:
-F &lt;ofs&gt;              Use &lt;ofs&gt; as an alternate output field separator <span class="o">(</span>e.g.
                        -F*, -F<span class="s1">&#39;*&#39;</span>, -F <span class="s1">&#39;*&#39;</span>, -F <span class="s1">&#39; ** &#39;</span><span class="o">)</span>
</pre></div>
</div>
</div>
<div class="section" id="caproto-repeater">
<h3>caproto-repeater<a class="headerlink" href="#caproto-repeater" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ caproto-repeater -h
usage: caproto-repeater <span class="o">[</span>-h<span class="o">]</span> <span class="o">[</span>-q <span class="p">|</span> -v<span class="o">]</span> <span class="o">[</span>--no-color<span class="o">]</span>

Run a Channel Access Repeater. If the Repeater port is already in use, assume
a Repeater is already running and exit. That port number is <span class="nb">set</span> by the
environment variable EPICS_CA_REPEATER_PORT. It defaults to the standard <span class="m">5065</span>.
The current value is <span class="m">5065</span>.

optional arguments:
-h, --help     show this <span class="nb">help</span> message and <span class="nb">exit</span>
-q, --quiet    Suppress INFO log messages. <span class="o">(</span>Still show WARNING or higher.<span class="o">)</span>
-v, --verbose  Verbose mode. <span class="o">(</span>Use -vvv <span class="k">for</span> more.<span class="o">)</span>
--no-color     Suppress ANSI color codes in log messages.
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sync-client.html" class="btn btn-neutral float-right" title="Synchronous Client" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="clients.html" class="btn btn-neutral float-left" title="Clients" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Daniel Allan

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>