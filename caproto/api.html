

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Core API Documentation &mdash; caproto 0.5.0+4.gd111d81.dirty documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Details of our Protocol Compliance for CA Nerds" href="protocol-compliance.html" />
    <link rel="prev" title="Writing Your Own Channel Access Client" href="basics.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> caproto
          

          
          </a>

          
            
            
              <div class="version">
                0.5.0+4.gd111d81.dirty
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install Caproto</a></li>
</ul>
<p class="caption"><span class="caption-text">EPICS Clients and Servers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="clients.html">Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="iocs.html">Input-Output Controllers (IOCs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="records.html">Records</a></li>
<li class="toctree-l1"><a class="reference internal" href="servers.html">Servers</a></li>
<li class="toctree-l1"><a class="reference internal" href="shark.html">Shark (pcap/tcpdump parsing)</a></li>
<li class="toctree-l1"><a class="reference internal" href="loggers.html">Logging</a></li>
</ul>
<p class="caption"><span class="caption-text">Channel Access Sans I/O</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="basics.html">Writing Your Own Channel Access Client</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Core API Documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#commands">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-state-machine">The State Machine</a></li>
<li class="toctree-l2"><a class="reference internal" href="#special-constants">Special Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-virtualcircuit-object">The VirtualCircuit object</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-broadcaster-object">The Broadcaster object</a></li>
<li class="toctree-l2"><a class="reference internal" href="#channel-objects">Channel objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#payload-data-types">Payload Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exceptions">Exceptions</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://nsls-ii.github.io/caproto/bench/#/">Performance Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="protocol-compliance.html">Details of our Protocol Compliance for CA Nerds</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-notes.html">Release History</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">caproto</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Core API Documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="core-api-documentation">
<h1><a class="toc-backref" href="#id2">Core API Documentation</a><a class="headerlink" href="#core-api-documentation" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#core-api-documentation" id="id2">Core API Documentation</a></p>
<ul>
<li><p><a class="reference internal" href="#commands" id="id3">Commands</a></p></li>
<li><p><a class="reference internal" href="#the-state-machine" id="id4">The State Machine</a></p></li>
<li><p><a class="reference internal" href="#special-constants" id="id5">Special Constants</a></p></li>
<li><p><a class="reference internal" href="#the-virtualcircuit-object" id="id6">The VirtualCircuit object</a></p></li>
<li><p><a class="reference internal" href="#the-broadcaster-object" id="id7">The Broadcaster object</a></p></li>
<li><p><a class="reference internal" href="#channel-objects" id="id8">Channel objects</a></p></li>
<li><p><a class="reference internal" href="#payload-data-types" id="id9">Payload Data Types</a></p></li>
<li><p><a class="reference internal" href="#exceptions" id="id10">Exceptions</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="commands">
<h2><a class="toc-backref" href="#id3">Commands</a><a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<p>Caproto lets you work with Channel Access communication in terms of <em>Commands</em>
instead of thinking in terms of bytes.</p>
<p>Take <a class="reference internal" href="#caproto.VersionRequest" title="caproto.VersionRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">VersionRequest</span></code></a> as an example.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">import</span> <span class="nn">caproto</span>

<span class="gp">In [2]: </span><span class="n">com</span> <span class="o">=</span> <span class="n">caproto</span><span class="o">.</span><span class="n">VersionRequest</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>A Command has a useful <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code>:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">com</span>
<span class="gh">Out[3]: </span><span class="go">VersionRequest(priority=0, version=13)</span>
</pre></div>
</div>
<p>Every Command has a <code class="xref py py-data docutils literal notranslate"><span class="pre">header</span></code> and a <code class="xref py py-data docutils literal notranslate"><span class="pre">payload</span></code>. The data in them
fully describe the Command. The <code class="xref py py-data docutils literal notranslate"><span class="pre">header</span></code> has generically-named fields
provided by the Channel Access specification.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">com</span><span class="o">.</span><span class="n">header</span>
<span class="gh">Out[4]: </span><span class="go">MessageHeader(command=0, payload_size=0, data_type=0, data_count=13, parameter1=0, parameter2=0)</span>
</pre></div>
</div>
<p>These names are rather opaque, but each Command provides views on this same
data through type-specific attributes with more obvious names. These are the
same names used in the Command’s <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code> and <code class="docutils literal notranslate"><span class="pre">__init__</span></code> arguments.</p>
<pre class="literal-block">In [5]: com.version
Out[5]: 13

In [6]: com.priority
Out[6]: 0</pre>
<p>This is a complete list of the Commands. They are sorted in Command ID order,
designated by the Channel Access specification.</p>
<dl class="py class">
<dt id="caproto.VersionRequest">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">VersionRequest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">priority</span></em>, <em class="sig-param"><span class="n">version</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#VersionRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VersionRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiate a new connection or broadcast between the client and the server.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.VersionRequest.priority">
<code class="sig-name descname">priority</code><a class="headerlink" href="#caproto.VersionRequest.priority" title="Permalink to this definition">¶</a></dt>
<dd><p>Between 0 (low) and 99 (high) designating this connection’s priority
in the event of congestion.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.VersionRequest.version">
<code class="sig-name descname">version</code><a class="headerlink" href="#caproto.VersionRequest.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the Channel Access protocol.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.VersionResponse">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">VersionResponse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">version</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#VersionResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VersionResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Respond to a client’s initiation of a new connection or broadcast.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.VersionResponse.version">
<code class="sig-name descname">version</code><a class="headerlink" href="#caproto.VersionResponse.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the Channel Access protocol.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.SearchRequest">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">SearchRequest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">cid</span></em>, <em class="sig-param"><span class="n">version</span></em>, <em class="sig-param"><span class="n">reply</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#SearchRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.SearchRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Query for the address of the server that provides a given Channel.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.SearchRequest.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#caproto.SearchRequest.name" title="Permalink to this definition">¶</a></dt>
<dd><p>String name of the channel (i.e. ‘PV’)</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.SearchRequest.cid">
<code class="sig-name descname">cid</code><a class="headerlink" href="#caproto.SearchRequest.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer that uniquely identifies this search query on the client side.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.SearchRequest.version">
<code class="sig-name descname">version</code><a class="headerlink" href="#caproto.SearchRequest.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the Channel Access protocol.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.SearchRequest.payload_size">
<code class="sig-name descname">payload_size</code><a class="headerlink" href="#caproto.SearchRequest.payload_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Padded length of name string</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.SearchRequest.reply">
<code class="sig-name descname">reply</code><a class="headerlink" href="#caproto.SearchRequest.reply" title="Permalink to this definition">¶</a></dt>
<dd><p>Hard-coded to <code class="xref py py-data docutils literal notranslate"><span class="pre">NO_REPLY</span></code> (<code class="xref py py-data docutils literal notranslate"><span class="pre">5</span></code>) meaning that only the
server(s) with an affirmative response should reply.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.SearchResponse">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">SearchResponse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">port</span></em>, <em class="sig-param"><span class="n">ip</span></em>, <em class="sig-param"><span class="n">cid</span></em>, <em class="sig-param"><span class="n">version</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#SearchResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.SearchResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Answer a <a class="reference internal" href="#caproto.SearchRequest" title="caproto.SearchRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">SearchRequest</span></code></a> giving the address of a Channel.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.SearchResponse.port">
<code class="sig-name descname">port</code><a class="headerlink" href="#caproto.SearchResponse.port" title="Permalink to this definition">¶</a></dt>
<dd><p>Port number that will accept TCP connections with clients.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.SearchResponse.ip">
<code class="sig-name descname">ip</code><a class="headerlink" href="#caproto.SearchResponse.ip" title="Permalink to this definition">¶</a></dt>
<dd><p>IP address (as a string) that will accept TCP connections with clients.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.SearchResponse.cid">
<code class="sig-name descname">cid</code><a class="headerlink" href="#caproto.SearchResponse.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Echoing <a class="reference internal" href="#caproto.SearchResponse.cid" title="caproto.SearchResponse.cid"><code class="xref py py-data docutils literal notranslate"><span class="pre">cid</span></code></a> of <a class="reference internal" href="#caproto.SearchRequest" title="caproto.SearchRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">SearchRequest</span></code></a> to let the client match
this response with the original request.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.SearchResponse.version">
<code class="sig-name descname">version</code><a class="headerlink" href="#caproto.SearchResponse.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the Channel Access protocol.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.NotFoundResponse">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">NotFoundResponse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">version</span></em>, <em class="sig-param"><span class="n">cid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#NotFoundResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.NotFoundResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Answer a <a class="reference internal" href="#caproto.SearchResponse" title="caproto.SearchResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">SearchResponse</span></code></a> in the negative.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.NotFoundResponse.cid">
<code class="sig-name descname">cid</code><a class="headerlink" href="#caproto.NotFoundResponse.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Echoing <a class="reference internal" href="#caproto.NotFoundResponse.cid" title="caproto.NotFoundResponse.cid"><code class="xref py py-data docutils literal notranslate"><span class="pre">cid</span></code></a> of <a class="reference internal" href="#caproto.SearchRequest" title="caproto.SearchRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">SearchRequest</span></code></a> to let the client match
this response with the original request.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.NotFoundResponse.version">
<code class="sig-name descname">version</code><a class="headerlink" href="#caproto.NotFoundResponse.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the Channel Access protocol.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.EchoRequest">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">EchoRequest</code><a class="reference internal" href="_modules/caproto/_commands.html#EchoRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.EchoRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Request an <a class="reference internal" href="#caproto.EchoResponse" title="caproto.EchoResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">EchoResponse</span></code></a>.</p>
<p>This command has no fields.</p>
</dd></dl>

<dl class="py class">
<dt id="caproto.EchoResponse">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">EchoResponse</code><a class="reference internal" href="_modules/caproto/_commands.html#EchoResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.EchoResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Respond to an <a class="reference internal" href="#caproto.EchoRequest" title="caproto.EchoRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">EchoRequest</span></code></a>.</p>
<p>This command has no fields.</p>
</dd></dl>

<dl class="py class">
<dt id="caproto.Beacon">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">Beacon</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">version</span></em>, <em class="sig-param"><span class="n">server_port</span></em>, <em class="sig-param"><span class="n">beacon_id</span></em>, <em class="sig-param"><span class="n">address</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#Beacon"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.Beacon" title="Permalink to this definition">¶</a></dt>
<dd><p>Heartbeat beacon sent by the server.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.Beacon.version">
<code class="sig-name descname">version</code><a class="headerlink" href="#caproto.Beacon.version" title="Permalink to this definition">¶</a></dt>
<dd><p>The version of the Channel Access protocol.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.Beacon.server_port">
<code class="sig-name descname">server_port</code><a class="headerlink" href="#caproto.Beacon.server_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Port number.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.Beacon.beacon_id">
<code class="sig-name descname">beacon_id</code><a class="headerlink" href="#caproto.Beacon.beacon_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Sequentially incremented integer.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.Beacon.address">
<code class="sig-name descname">address</code><a class="headerlink" href="#caproto.Beacon.address" title="Permalink to this definition">¶</a></dt>
<dd><p>IP address encoded as integer.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.Beacon.address_string">
<code class="sig-name descname">address_string</code><a class="headerlink" href="#caproto.Beacon.address_string" title="Permalink to this definition">¶</a></dt>
<dd><p>IP address as string.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.RepeaterRegisterRequest">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">RepeaterRegisterRequest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">client_address</span><span class="o">=</span><span class="default_value">'0.0.0.0'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#RepeaterRegisterRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.RepeaterRegisterRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a client with the Repeater.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.RepeaterRegisterRequest.client_address">
<code class="sig-name descname">client_address</code><a class="headerlink" href="#caproto.RepeaterRegisterRequest.client_address" title="Permalink to this definition">¶</a></dt>
<dd><p>IP address of the client (as a string).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.RepeaterConfirmResponse">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">RepeaterConfirmResponse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">repeater_address</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#RepeaterConfirmResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.RepeaterConfirmResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm successful client registration with the Repeater.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.RepeaterConfirmResponse.repeater_address">
<code class="sig-name descname">repeater_address</code><a class="headerlink" href="#caproto.RepeaterConfirmResponse.repeater_address" title="Permalink to this definition">¶</a></dt>
<dd><p>IP address of repeater (as a string).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.EventAddRequest">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">EventAddRequest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_type</span></em>, <em class="sig-param"><span class="n">data_count</span></em>, <em class="sig-param"><span class="n">sid</span></em>, <em class="sig-param"><span class="n">subscriptionid</span></em>, <em class="sig-param"><span class="n">low</span></em>, <em class="sig-param"><span class="n">high</span></em>, <em class="sig-param"><span class="n">to</span></em>, <em class="sig-param"><span class="n">mask</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#EventAddRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.EventAddRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe; i.e. request to notified of changes in a Channel’s value.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.EventAddRequest.data_type">
<code class="sig-name descname">data_type</code><a class="headerlink" href="#caproto.EventAddRequest.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer code of desired DBR type of readings.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.EventAddRequest.data_count">
<code class="sig-name descname">data_count</code><a class="headerlink" href="#caproto.EventAddRequest.data_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Desired number of elements per reading.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.EventAddRequest.sid">
<code class="sig-name descname">sid</code><a class="headerlink" href="#caproto.EventAddRequest.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID of this Channel designated by the server.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.EventAddRequest.subscriptionid">
<code class="sig-name descname">subscriptionid</code><a class="headerlink" href="#caproto.EventAddRequest.subscriptionid" title="Permalink to this definition">¶</a></dt>
<dd><p>New integer ID designated by the client uniquely identifying this
subscription on this Virtual Circuit.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.EventAddRequest.low">
<code class="sig-name descname">low</code><a class="headerlink" href="#caproto.EventAddRequest.low" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated. (Use <a class="reference internal" href="#caproto.EventAddRequest.mask" title="caproto.EventAddRequest.mask"><code class="xref py py-data docutils literal notranslate"><span class="pre">mask</span></code></a>.)</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.EventAddRequest.high">
<code class="sig-name descname">high</code><a class="headerlink" href="#caproto.EventAddRequest.high" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated. (Use <a class="reference internal" href="#caproto.EventAddRequest.mask" title="caproto.EventAddRequest.mask"><code class="xref py py-data docutils literal notranslate"><span class="pre">mask</span></code></a>.)</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.EventAddRequest.to">
<code class="sig-name descname">to</code><a class="headerlink" href="#caproto.EventAddRequest.to" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated. (Use <a class="reference internal" href="#caproto.EventAddRequest.mask" title="caproto.EventAddRequest.mask"><code class="xref py py-data docutils literal notranslate"><span class="pre">mask</span></code></a>.)</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.EventAddRequest.mask">
<code class="sig-name descname">mask</code><a class="headerlink" href="#caproto.EventAddRequest.mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Mask indicating which changes to report.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.EventAddResponse">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">EventAddResponse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">data_type</span></em>, <em class="sig-param"><span class="n">data_count</span></em>, <em class="sig-param"><span class="n">status</span></em>, <em class="sig-param"><span class="n">subscriptionid</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">metadata</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#EventAddResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.EventAddResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify the client of a change in a Channel’s value.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.EventAddResponse.data">
<code class="sig-name descname">data</code><a class="headerlink" href="#caproto.EventAddResponse.data" title="Permalink to this definition">¶</a></dt>
<dd><p>data as built-in Python or numpy types</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.EventAddResponse.data_type">
<code class="sig-name descname">data_type</code><a class="headerlink" href="#caproto.EventAddResponse.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer code of DBR type of reading.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.EventAddResponse.data_count">
<code class="sig-name descname">data_count</code><a class="headerlink" href="#caproto.EventAddResponse.data_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of elements in this reading.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.EventAddResponse.sid">
<code class="sig-name descname">sid</code><a class="headerlink" href="#caproto.EventAddResponse.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID of this Channel designated by the server.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.EventAddResponse.status">
<code class="sig-name descname">status</code><a class="headerlink" href="#caproto.EventAddResponse.status" title="Permalink to this definition">¶</a></dt>
<dd><p>As per Channel Access spec, 1 is success; 0 or &gt;1 are various failures.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.EventAddResponse.subscriptionid">
<code class="sig-name descname">subscriptionid</code><a class="headerlink" href="#caproto.EventAddResponse.subscriptionid" title="Permalink to this definition">¶</a></dt>
<dd><p>Echoing the <a class="reference internal" href="#caproto.EventAddResponse.subscriptionid" title="caproto.EventAddResponse.subscriptionid"><code class="xref py py-data docutils literal notranslate"><span class="pre">subscriptionid</span></code></a> in the <a class="reference internal" href="#caproto.EventAddRequest" title="caproto.EventAddRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventAddRequest</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.EventCancelRequest">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">EventCancelRequest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_type</span></em>, <em class="sig-param"><span class="n">sid</span></em>, <em class="sig-param"><span class="n">subscriptionid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#EventCancelRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.EventCancelRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>End notifcations about chnages in a Channel’s value.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.EventCancelRequest.data_type">
<code class="sig-name descname">data_type</code><a class="headerlink" href="#caproto.EventCancelRequest.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer code of DBR type of reading.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.EventCancelRequest.sid">
<code class="sig-name descname">sid</code><a class="headerlink" href="#caproto.EventCancelRequest.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID of this Channel designated by the server.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.EventCancelRequest.subscriptionid">
<code class="sig-name descname">subscriptionid</code><a class="headerlink" href="#caproto.EventCancelRequest.subscriptionid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this subscription.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.EventCancelResponse">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">EventCancelResponse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_type</span></em>, <em class="sig-param"><span class="n">sid</span></em>, <em class="sig-param"><span class="n">subscriptionid</span></em>, <em class="sig-param"><span class="n">data_count</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#EventCancelResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.EventCancelResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm receipt of <a class="reference internal" href="#caproto.EventCancelRequest" title="caproto.EventCancelRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventCancelRequest</span></code></a>.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.EventCancelResponse.data_type">
<code class="sig-name descname">data_type</code><a class="headerlink" href="#caproto.EventCancelResponse.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer code of DBR type of reading.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.EventCancelResponse.sid">
<code class="sig-name descname">sid</code><a class="headerlink" href="#caproto.EventCancelResponse.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID of this Channel designated by the server.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.EventCancelResponse.subscriptionid">
<code class="sig-name descname">subscriptionid</code><a class="headerlink" href="#caproto.EventCancelResponse.subscriptionid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this subscription.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.ReadRequest">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">ReadRequest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_type</span></em>, <em class="sig-param"><span class="n">data_count</span></em>, <em class="sig-param"><span class="n">sid</span></em>, <em class="sig-param"><span class="n">ioid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ReadRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ReadRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated by Channel Access since 3.13. See <a class="reference internal" href="#caproto.ReadNotifyRequest" title="caproto.ReadNotifyRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReadNotifyRequest</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt id="caproto.ReadResponse">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">ReadResponse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">data_type</span></em>, <em class="sig-param"><span class="n">data_count</span></em>, <em class="sig-param"><span class="n">sid</span></em>, <em class="sig-param"><span class="n">ioid</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">metadata</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ReadResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ReadResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated by Channel Access since 3.13. See <a class="reference internal" href="#caproto.ReadNotifyResponse" title="caproto.ReadNotifyResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReadNotifyResponse</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt id="caproto.WriteRequest">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">WriteRequest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">data_type</span></em>, <em class="sig-param"><span class="n">data_count</span></em>, <em class="sig-param"><span class="n">sid</span></em>, <em class="sig-param"><span class="n">ioid</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">metadata</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#WriteRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.WriteRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: See <a class="reference internal" href="#caproto.WriteNotifyRequest" title="caproto.WriteNotifyRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">WriteNotifyRequest</span></code></a>.</p>
</dd></dl>

<dl class="py class">
<dt id="caproto.EventsOffRequest">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">EventsOffRequest</code><a class="reference internal" href="_modules/caproto/_commands.html#EventsOffRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.EventsOffRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily turn off <a class="reference internal" href="#caproto.EventAddResponse" title="caproto.EventAddResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventAddResponse</span></code></a> notifications.</p>
<p>This command has no fields.</p>
</dd></dl>

<dl class="py class">
<dt id="caproto.EventsOnRequest">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">EventsOnRequest</code><a class="reference internal" href="_modules/caproto/_commands.html#EventsOnRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.EventsOnRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Restore <a class="reference internal" href="#caproto.EventAddResponse" title="caproto.EventAddResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventAddResponse</span></code></a> notifications.</p>
<p>This command has no fields.</p>
</dd></dl>

<dl class="py class">
<dt id="caproto.ReadSyncRequest">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">ReadSyncRequest</code><a class="reference internal" href="_modules/caproto/_commands.html#ReadSyncRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ReadSyncRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated by Channel Access: See <a class="reference internal" href="#caproto.ReadNotifyRequest" title="caproto.ReadNotifyRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReadNotifyRequest</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt id="caproto.ErrorResponse">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">ErrorResponse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">original_request</span></em>, <em class="sig-param"><span class="n">cid</span></em>, <em class="sig-param"><span class="n">status</span></em>, <em class="sig-param"><span class="n">error_message</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ErrorResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ErrorResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify client of a server-side error, including some details about error.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.ErrorResponse.cid">
<code class="sig-name descname">cid</code><a class="headerlink" href="#caproto.ErrorResponse.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the client.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.ErrorResponse.status">
<code class="sig-name descname">status</code><a class="headerlink" href="#caproto.ErrorResponse.status" title="Permalink to this definition">¶</a></dt>
<dd><p>As per Channel Access spec, 1 is success; 0 or &gt;1 are various failures.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.ClearChannelRequest">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">ClearChannelRequest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sid</span></em>, <em class="sig-param"><span class="n">cid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ClearChannelRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClearChannelRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Close a Channel.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.ClearChannelRequest.cid">
<code class="sig-name descname">cid</code><a class="headerlink" href="#caproto.ClearChannelRequest.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the client.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.ClearChannelRequest.sid">
<code class="sig-name descname">sid</code><a class="headerlink" href="#caproto.ClearChannelRequest.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the server.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.ClearChannelResponse">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">ClearChannelResponse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sid</span></em>, <em class="sig-param"><span class="n">cid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ClearChannelResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClearChannelResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm that a Channel has been closed.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.ClearChannelResponse.cid">
<code class="sig-name descname">cid</code><a class="headerlink" href="#caproto.ClearChannelResponse.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the client.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.ClearChannelResponse.sid">
<code class="sig-name descname">sid</code><a class="headerlink" href="#caproto.ClearChannelResponse.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the server.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.ReadNotifyRequest">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">ReadNotifyRequest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_type</span></em>, <em class="sig-param"><span class="n">data_count</span></em>, <em class="sig-param"><span class="n">sid</span></em>, <em class="sig-param"><span class="n">ioid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ReadNotifyRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ReadNotifyRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Request a fresh reading of a Channel.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.ReadNotifyRequest.data_type">
<code class="sig-name descname">data_type</code><a class="headerlink" href="#caproto.ReadNotifyRequest.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer code of desired DBR type of readings.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.ReadNotifyRequest.data_count">
<code class="sig-name descname">data_count</code><a class="headerlink" href="#caproto.ReadNotifyRequest.data_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Desired number of elements per reading.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.ReadNotifyRequest.sid">
<code class="sig-name descname">sid</code><a class="headerlink" href="#caproto.ReadNotifyRequest.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the server.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.ReadNotifyRequest.ioid">
<code class="sig-name descname">ioid</code><a class="headerlink" href="#caproto.ReadNotifyRequest.ioid" title="Permalink to this definition">¶</a></dt>
<dd><p>New integer ID uniquely identifying this I/O transaction on this
Virtual Circuit.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.ReadNotifyResponse">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">ReadNotifyResponse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">data_type</span></em>, <em class="sig-param"><span class="n">data_count</span></em>, <em class="sig-param"><span class="n">status</span></em>, <em class="sig-param"><span class="n">ioid</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">metadata</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ReadNotifyResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ReadNotifyResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Request a fresh reading of a Channel.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.ReadNotifyResponse.data">
<code class="sig-name descname">data</code><a class="headerlink" href="#caproto.ReadNotifyResponse.data" title="Permalink to this definition">¶</a></dt>
<dd><p>data as built-in Python or numpy types</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.ReadNotifyResponse.metadata">
<code class="sig-name descname">metadata</code><a class="headerlink" href="#caproto.ReadNotifyResponse.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>metadata in a ctypes.Structure</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.ReadNotifyResponse.data_type">
<code class="sig-name descname">data_type</code><a class="headerlink" href="#caproto.ReadNotifyResponse.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer code of desired DBR type of readings.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.ReadNotifyResponse.data_count">
<code class="sig-name descname">data_count</code><a class="headerlink" href="#caproto.ReadNotifyResponse.data_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Desired number of elements per reading.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.ReadNotifyResponse.status">
<code class="sig-name descname">status</code><a class="headerlink" href="#caproto.ReadNotifyResponse.status" title="Permalink to this definition">¶</a></dt>
<dd><p>As per Channel Access spec, 1 is success; 0 or &gt;1 are various failures.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.ReadNotifyResponse.ioid">
<code class="sig-name descname">ioid</code><a class="headerlink" href="#caproto.ReadNotifyResponse.ioid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for I/O transaction, echoing <a class="reference internal" href="#caproto.ReadNotifyRequest" title="caproto.ReadNotifyRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReadNotifyRequest</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.WriteNotifyRequest">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">WriteNotifyRequest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">data_type</span></em>, <em class="sig-param"><span class="n">data_count</span></em>, <em class="sig-param"><span class="n">sid</span></em>, <em class="sig-param"><span class="n">ioid</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">metadata</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#WriteNotifyRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.WriteNotifyRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a value to a Channel.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.WriteNotifyRequest.data">
<code class="sig-name descname">data</code><a class="headerlink" href="#caproto.WriteNotifyRequest.data" title="Permalink to this definition">¶</a></dt>
<dd><p>data as built-in Python or numpy types</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.WriteNotifyRequest.metadata">
<code class="sig-name descname">metadata</code><a class="headerlink" href="#caproto.WriteNotifyRequest.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>metadata in a ctypes.Structure</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.WriteNotifyRequest.data_type">
<code class="sig-name descname">data_type</code><a class="headerlink" href="#caproto.WriteNotifyRequest.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer code of DBR type.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.WriteNotifyRequest.data_count">
<code class="sig-name descname">data_count</code><a class="headerlink" href="#caproto.WriteNotifyRequest.data_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of elements.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.WriteNotifyRequest.sid">
<code class="sig-name descname">sid</code><a class="headerlink" href="#caproto.WriteNotifyRequest.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the server.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.WriteNotifyRequest.ioid">
<code class="sig-name descname">ioid</code><a class="headerlink" href="#caproto.WriteNotifyRequest.ioid" title="Permalink to this definition">¶</a></dt>
<dd><p>New integer ID uniquely identifying this I/O transaction on this
Virtual Circuit.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.WriteNotifyResponse">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">WriteNotifyResponse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_type</span></em>, <em class="sig-param"><span class="n">data_count</span></em>, <em class="sig-param"><span class="n">status</span></em>, <em class="sig-param"><span class="n">ioid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#WriteNotifyResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.WriteNotifyResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirm the receipt of a <a class="reference internal" href="#caproto.WriteNotifyRequest" title="caproto.WriteNotifyRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">WriteNotifyRequest</span></code></a>.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.WriteNotifyResponse.data_type">
<code class="sig-name descname">data_type</code><a class="headerlink" href="#caproto.WriteNotifyResponse.data_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer code of DBR type.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.WriteNotifyResponse.data_count">
<code class="sig-name descname">data_count</code><a class="headerlink" href="#caproto.WriteNotifyResponse.data_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of elements.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.WriteNotifyResponse.sid">
<code class="sig-name descname">sid</code><a class="headerlink" href="#caproto.WriteNotifyResponse.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the server.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.WriteNotifyResponse.ioid">
<code class="sig-name descname">ioid</code><a class="headerlink" href="#caproto.WriteNotifyResponse.ioid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this I/O transaction, echoing
<a class="reference internal" href="#caproto.WriteNotifyRequest" title="caproto.WriteNotifyRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">WriteNotifyRequest</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.WriteNotifyResponse.status">
<code class="sig-name descname">status</code><a class="headerlink" href="#caproto.WriteNotifyResponse.status" title="Permalink to this definition">¶</a></dt>
<dd><p>As per Channel Access spec, 1 is success; 0 or &gt;1 are various failures.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.ClientNameRequest">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">ClientNameRequest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ClientNameRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientNameRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell the server the client name (i.e., user name) of the client.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.ClientNameRequest.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#caproto.ClientNameRequest.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Client name.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.HostNameRequest">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">HostNameRequest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#HostNameRequest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.HostNameRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell the server the host name of the client.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.HostNameRequest.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#caproto.HostNameRequest.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Host name.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.AccessRightsResponse">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">AccessRightsResponse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cid</span></em>, <em class="sig-param"><span class="n">access_rights</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#AccessRightsResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.AccessRightsResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify the client that channel creation failed.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.AccessRightsResponse.cid">
<code class="sig-name descname">cid</code><a class="headerlink" href="#caproto.AccessRightsResponse.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the client.</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.AccessRightsResponse.access_rights">
<code class="sig-name descname">access_rights</code><a class="headerlink" href="#caproto.AccessRightsResponse.access_rights" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer designated level of read or write access. (See Channel Access
spec for details about meanings.)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.CreateChFailResponse">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">CreateChFailResponse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#CreateChFailResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.CreateChFailResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify the client that channel creation failed.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.CreateChFailResponse.cid">
<code class="sig-name descname">cid</code><a class="headerlink" href="#caproto.CreateChFailResponse.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the client.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.ServerDisconnResponse">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">ServerDisconnResponse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_commands.html#ServerDisconnResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerDisconnResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify the client that server will disconnect from this Channel.</p>
<p>Fields:</p>
<dl class="py attribute">
<dt id="caproto.ServerDisconnResponse.cid">
<code class="sig-name descname">cid</code><a class="headerlink" href="#caproto.ServerDisconnResponse.cid" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer ID for this Channel designated by the client.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-state-machine">
<h2><a class="toc-backref" href="#id4">The State Machine</a><a class="headerlink" href="#the-state-machine" title="Permalink to this headline">¶</a></h2>
<p>To validate commands being sent and received, the caproto VirtualCircuit object
maintains several state machines. It keeps track of what the client is doing
and what server is doing, whether it is playing the role of the client or
server.</p>
<p>A single VirtualCircuit maintains:</p>
<ul class="simple">
<li><p>exactly one client-side circuit state machine</p></li>
<li><p>exactly one server-side circuit state machine</p></li>
<li><p>one client-side channel state machine <em>per channel</em></p></li>
<li><p>one server-side channel <em>per channel</em></p></li>
</ul>
<p>The basic interaction looks like this:</p>
<ul class="simple">
<li><p>Client specifies the priority and protocol version of a new Virtual Circuit.</p></li>
<li><p>Server confirms.</p></li>
<li><p>Client (optionally) provides its host name and client name.</p></li>
<li><p>Client requests the creation of a new Channel.</p></li>
<li><p>Server announces access rights for this Channel and confirms Channel
creation.</p></li>
</ul>
<p>With the Channel open, the client may send unlimited requests to read, write,
or subscribe. The Server responds. The server or the client may initiate
closing the Channel.</p>
<p>The state machines look like this. Click on each to expand.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Channel (Client)</p>
<p><a class="reference external" href="_static/command_triggered_channel_transitions_client.png"><img alt="channel-client" src="_images/command_triggered_channel_transitions_client.png" style="width: 100%;" /></a></p>
</td>
<td><p>Channel (Server)</p>
<p><a class="reference external" href="_static/command_triggered_channel_transitions_server.png"><img alt="channel-server" src="_images/command_triggered_channel_transitions_server.png" style="width: 100%;" /></a></p>
</td>
</tr>
<tr class="row-even"><td><p>Circuit (Client)</p>
<p><a class="reference external" href="_static/command_triggered_circuit_transitions_client.png"><img alt="circuit-client" src="_images/command_triggered_circuit_transitions_client.png" style="width: 100%;" /></a></p>
</td>
<td><p>Circuit (Server)</p>
<p><a class="reference external" href="_static/command_triggered_circuit_transitions_server.png"><img alt="circuit-server" src="_images/command_triggered_circuit_transitions_server.png" style="width: 100%;" /></a></p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="special-constants">
<h2><a class="toc-backref" href="#id5">Special Constants</a><a class="headerlink" href="#special-constants" title="Permalink to this headline">¶</a></h2>
<p>Caproto uses special constants to represent the states of the state machine:</p>
<dl class="py data">
<dt id="caproto.SEND_SEARCH_REQUEST">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">SEND_SEARCH_REQUEST</code><a class="headerlink" href="#caproto.SEND_SEARCH_REQUEST" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.AWAIT_SEARCH_RESPONSE">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">AWAIT_SEARCH_RESPONSE</code><a class="headerlink" href="#caproto.AWAIT_SEARCH_RESPONSE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.SEND_SEARCH_RESPONSE">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">SEND_SEARCH_RESPONSE</code><a class="headerlink" href="#caproto.SEND_SEARCH_RESPONSE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.SEND_VERSION_REQUEST">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">SEND_VERSION_REQUEST</code><a class="headerlink" href="#caproto.SEND_VERSION_REQUEST" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.AWAIT_VERSION_RESPONSE">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">AWAIT_VERSION_RESPONSE</code><a class="headerlink" href="#caproto.AWAIT_VERSION_RESPONSE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.SEND_VERSION_RESPONSE">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">SEND_VERSION_RESPONSE</code><a class="headerlink" href="#caproto.SEND_VERSION_RESPONSE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.SEND_CREATE_CHAN_REQUEST">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">SEND_CREATE_CHAN_REQUEST</code><a class="headerlink" href="#caproto.SEND_CREATE_CHAN_REQUEST" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.AWAIT_CREATE_CHAN_RESPONSE">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">AWAIT_CREATE_CHAN_RESPONSE</code><a class="headerlink" href="#caproto.AWAIT_CREATE_CHAN_RESPONSE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.SEND_CREATE_CHAN_RESPONSE">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">SEND_CREATE_CHAN_RESPONSE</code><a class="headerlink" href="#caproto.SEND_CREATE_CHAN_RESPONSE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.CONNECTED">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">CONNECTED</code><a class="headerlink" href="#caproto.CONNECTED" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.MUST_CLOSE">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">MUST_CLOSE</code><a class="headerlink" href="#caproto.MUST_CLOSE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.CLOSED">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">CLOSED</code><a class="headerlink" href="#caproto.CLOSED" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.DISCONNECTED">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">DISCONNECTED</code><a class="headerlink" href="#caproto.DISCONNECTED" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.IDLE">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">IDLE</code><a class="headerlink" href="#caproto.IDLE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.FAILED">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">FAILED</code><a class="headerlink" href="#caproto.FAILED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>For example, a new VirtualCiruit starts with these states:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [7]: </span><span class="n">circuit</span> <span class="o">=</span> <span class="n">caproto</span><span class="o">.</span><span class="n">VirtualCircuit</span><span class="p">(</span><span class="n">our_role</span><span class="o">=</span><span class="n">caproto</span><span class="o">.</span><span class="n">CLIENT</span><span class="p">,</span>
<span class="gp">   ...: </span>                                 <span class="n">address</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;0.0.0.0&#39;</span><span class="p">,</span> <span class="mi">5555</span><span class="p">),</span>
<span class="gp">   ...: </span>                                 <span class="n">priority</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">   ...: </span>

<span class="gp">In [8]: </span><span class="n">circuit</span><span class="o">.</span><span class="n">states</span>
<span class="gh">Out[8]: </span><span class="go">&lt;CircuitState states={CLIENT: SEND_VERSION_REQUEST, SERVER: IDLE}&gt;</span>
</pre></div>
</div>
<p>When a <a class="reference internal" href="#caproto.VersionRequest" title="caproto.VersionRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">VersionRequest</span></code></a> is sent through the VirtualCircuit, both the
client and the server state update.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">circuit</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">caproto</span><span class="o">.</span><span class="n">VersionRequest</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">priority</span><span class="o">=</span><span class="mi">0</span><span class="p">));</span>

<span class="gp">In [10]: </span><span class="n">circuit</span><span class="o">.</span><span class="n">states</span>
<span class="gh">Out[10]: </span><span class="go">&lt;CircuitState states={CLIENT: AWAIT_VERSION_RESPONSE, SERVER: SEND_VERSION_RESPONSE}&gt;</span>
</pre></div>
</div>
<p>And we can test the current state using constants like
<a class="reference internal" href="#caproto.SEND_VERSION_RESPONSE" title="caproto.SEND_VERSION_RESPONSE"><code class="xref py py-class docutils literal notranslate"><span class="pre">SEND_VERSION_RESPONSE</span></code></a>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">circuit</span><span class="o">.</span><span class="n">states</span><span class="p">[</span><span class="n">caproto</span><span class="o">.</span><span class="n">SERVER</span><span class="p">]</span> <span class="ow">is</span> <span class="n">caproto</span><span class="o">.</span><span class="n">SEND_VERSION_RESPONSE</span>
<span class="gh">Out[11]: </span><span class="go">True</span>
</pre></div>
</div>
<p>Notice the special constants to represent which role a peer is playing.</p>
<dl class="py data">
<dt id="caproto.CLIENT">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">CLIENT</code><a class="headerlink" href="#caproto.CLIENT" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.SERVER">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">SERVER</code><a class="headerlink" href="#caproto.SERVER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Special constants are also used to represent the “direction” of a command.</p>
<dl class="py data">
<dt id="caproto.RESPONSE">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">RESPONSE</code><a class="headerlink" href="#caproto.RESPONSE" title="Permalink to this definition">¶</a></dt>
<dt id="caproto.REQUEST">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">REQUEST</code><a class="headerlink" href="#caproto.REQUEST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Another special constant serves as a sentinel “Command” returned by
<code class="xref py py-func docutils literal notranslate"><span class="pre">read_from_bytestream()</span></code> when more data needs to be received before any new
Commands can be parsed.</p>
<dl class="py data">
<dt id="caproto.NEED_DATA">
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">NEED_DATA</code><a class="headerlink" href="#caproto.NEED_DATA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Similarly, the sentinel <a class="reference internal" href="#caproto.DISCONNECTED" title="caproto.DISCONNECTED"><code class="xref py py-class docutils literal notranslate"><span class="pre">DISCONNECTED</span></code></a> is re-used as a “Command”
allowing for consistent handling of disconnection events through the command
queues.</p>
<dl class="py data">
<dt>
<code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">DISCONNECTED</code></dt>
<dd></dd></dl>

</div>
<div class="section" id="the-virtualcircuit-object">
<h2><a class="toc-backref" href="#id6">The VirtualCircuit object</a><a class="headerlink" href="#the-virtualcircuit-object" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="caproto.VirtualCircuit">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">VirtualCircuit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">our_role</span></em>, <em class="sig-param"><span class="n">address</span></em>, <em class="sig-param"><span class="n">priority</span></em>, <em class="sig-param"><span class="n">protocol_version</span><span class="o">=</span><span class="default_value">13</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#VirtualCircuit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VirtualCircuit" title="Permalink to this definition">¶</a></dt>
<dd><p>An object encapulating the state of one CA client–server connection.</p>
<p>It is a companion to a TCP socket managed by the user. All data
received over the socket should be passed to <a class="reference internal" href="#caproto.VirtualCircuit.recv" title="caproto.VirtualCircuit.recv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">recv()</span></code></a>. Any data sent
over the socket should first be passed through <a class="reference internal" href="#caproto.VirtualCircuit.send" title="caproto.VirtualCircuit.send"><code class="xref py py-meth docutils literal notranslate"><span class="pre">send()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>our_role</strong><span class="classifier">CLIENT or SERVER</span></dt><dd></dd>
<dt><strong>address</strong><span class="classifier">tuple</span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">(host,</span> <span class="pre">port)</span></code> as a string and an integer respectively</p>
</dd>
<dt><strong>priority</strong><span class="classifier">integer or None</span></dt><dd><p>May be used by the server to prioritize requests when under high
load. Lowest priority is 0; highest is 99.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py attribute">
<dt id="caproto.VirtualCircuit.our_role">
<code class="sig-name descname">our_role</code><a class="headerlink" href="#caproto.VirtualCircuit.our_role" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#caproto.CLIENT" title="caproto.CLIENT"><code class="xref py py-class docutils literal notranslate"><span class="pre">caproto.CLIENT</span></code></a> or <a class="reference internal" href="#caproto.SERVER" title="caproto.SERVER"><code class="xref py py-class docutils literal notranslate"><span class="pre">caproto.SERVER</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.VirtualCircuit.log">
<code class="sig-name descname">log</code><a class="headerlink" href="#caproto.VirtualCircuit.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Python logger instance</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.VirtualCircuit.host">
<code class="sig-name descname">host</code><a class="headerlink" href="#caproto.VirtualCircuit.host" title="Permalink to this definition">¶</a></dt>
<dd><p>peer host name</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.VirtualCircuit.port">
<code class="sig-name descname">port</code><a class="headerlink" href="#caproto.VirtualCircuit.port" title="Permalink to this definition">¶</a></dt>
<dd><p>peer port number</p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.VirtualCircuit.key">
<code class="sig-name descname">key</code><a class="headerlink" href="#caproto.VirtualCircuit.key" title="Permalink to this definition">¶</a></dt>
<dd><p>a unique identifer for this instance: <code class="xref py py-data docutils literal notranslate"><span class="pre">((host,</span> <span class="pre">port),</span> <span class="pre">priority)</span></code></p>
</dd></dl>

<dl class="py method">
<dt id="caproto.VirtualCircuit.send">
<code class="sig-name descname">send</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">\*commands</em>, <em class="sig-param">extra=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#VirtualCircuit.send"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VirtualCircuit.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert one or more high-level Commands into buffers of bytes that may
be broadcast together in one TCP packet. Update our internal
state machine.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>*commands :</strong></dt><dd><p>any number of <code class="xref py py-class docutils literal notranslate"><span class="pre">Message</span></code> objects</p>
</dd>
<dt><strong>extra</strong><span class="classifier">dict or None</span></dt><dd><p>Used for logging purposes. This is merged into the <code class="docutils literal notranslate"><span class="pre">extra</span></code>
parameter passed to the logger to provide information like <code class="docutils literal notranslate"><span class="pre">'pv'</span></code>
to the logger.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>buffers_to_send</strong><span class="classifier">list</span></dt><dd><p>list of buffers to send over a socket</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.VirtualCircuit.recv">
<code class="sig-name descname">recv</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">\*buffers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#VirtualCircuit.recv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VirtualCircuit.recv" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse commands from buffers received over TCP.</p>
<p>When the caller is ready to process the commands, each command should
first be passed to <a class="reference internal" href="#caproto.VirtualCircuit.process_command" title="caproto.VirtualCircuit.process_command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">VirtualCircuit.process_command()</span></code></a> to validate
it against the protocol and update the VirtualCircuit’s state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>*buffers :</strong></dt><dd><p>any number of bytes-like buffers</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">(commands,</span> <span class="pre">num_bytes_needed)</span></code></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.VirtualCircuit.process_command">
<code class="sig-name descname">process_command</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">command</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#VirtualCircuit.process_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VirtualCircuit.process_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Update internal state machine and raise if protocol is violated.</p>
<p>Received commands should be passed through here before any additional
processing by a server or client layer.</p>
</dd></dl>

<dl class="py method">
<dt id="caproto.VirtualCircuit.disconnect">
<code class="sig-name descname">disconnect</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#VirtualCircuit.disconnect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VirtualCircuit.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Notify all channels on this circuit that they are disconnected.</p>
<p>Clients should call this method when a TCP connection is lost.</p>
</dd></dl>

<dl class="py method">
<dt id="caproto.VirtualCircuit.new_channel_id">
<code class="sig-name descname">new_channel_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#VirtualCircuit.new_channel_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VirtualCircuit.new_channel_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a valid value for a cid or sid.</p>
</dd></dl>

<dl class="py method">
<dt id="caproto.VirtualCircuit.new_subscriptionid">
<code class="sig-name descname">new_subscriptionid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#VirtualCircuit.new_subscriptionid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VirtualCircuit.new_subscriptionid" title="Permalink to this definition">¶</a></dt>
<dd><p>This is used by the convenience methods to obtain an unused integer ID.
It does not update any important state.</p>
</dd></dl>

<dl class="py method">
<dt id="caproto.VirtualCircuit.new_ioid">
<code class="sig-name descname">new_ioid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#VirtualCircuit.new_ioid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.VirtualCircuit.new_ioid" title="Permalink to this definition">¶</a></dt>
<dd><p>This is used by the convenience methods to obtain an unused integer ID.
It does not update any important state.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-broadcaster-object">
<h2><a class="toc-backref" href="#id7">The Broadcaster object</a><a class="headerlink" href="#the-broadcaster-object" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="caproto.Broadcaster">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">Broadcaster</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">our_role</span></em>, <em class="sig-param"><span class="n">protocol_version</span><span class="o">=</span><span class="default_value">13</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_broadcaster.html#Broadcaster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.Broadcaster" title="Permalink to this definition">¶</a></dt>
<dd><p>An object encapsulating the state of one CA UDP connection.</p>
<p>It is a companion to a UDP socket managed by a client or server
implementation. All data received over the socket should be passed to
<a class="reference internal" href="#caproto.Broadcaster.recv" title="caproto.Broadcaster.recv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">recv()</span></code></a>. Any data sent over the socket should first be passed through
<a class="reference internal" href="#caproto.Broadcaster.send" title="caproto.Broadcaster.send"><code class="xref py py-meth docutils literal notranslate"><span class="pre">send()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>our_role</strong><span class="classifier">CLIENT or SERVER</span></dt><dd></dd>
<dt><strong>protocol_version</strong><span class="classifier">integer</span></dt><dd><p>Default is <code class="docutils literal notranslate"><span class="pre">DEFAULT_PROTOCOL_VERSION</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py attribute">
<dt id="caproto.Broadcaster.our_role">
<code class="sig-name descname">our_role</code><a class="headerlink" href="#caproto.Broadcaster.our_role" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#caproto.CLIENT" title="caproto.CLIENT"><code class="xref py py-class docutils literal notranslate"><span class="pre">caproto.CLIENT</span></code></a> or <a class="reference internal" href="#caproto.SERVER" title="caproto.SERVER"><code class="xref py py-class docutils literal notranslate"><span class="pre">caproto.SERVER</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt id="caproto.Broadcaster.log">
<code class="sig-name descname">log</code><a class="headerlink" href="#caproto.Broadcaster.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Python logger instance</p>
</dd></dl>

<dl class="py method">
<dt id="caproto.Broadcaster.send">
<code class="sig-name descname">send</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">\*commands</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_broadcaster.html#Broadcaster.send"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.Broadcaster.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert one or more high-level Commands into bytes that may be
broadcast together in one UDP datagram. Update our internal
state machine.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>*commands :</strong></dt><dd><p>any number of <code class="xref py py-class docutils literal notranslate"><span class="pre">Message</span></code> objects</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>bytes_to_send</strong><span class="classifier">bytes</span></dt><dd><p>bytes to send over a socket</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.Broadcaster.recv">
<code class="sig-name descname">recv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">byteslike</span></em>, <em class="sig-param"><span class="n">address</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_broadcaster.html#Broadcaster.recv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.Broadcaster.recv" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse commands from a UDP datagram.</p>
<p>When the caller is ready to process the commands, each command should
first be passed to <code class="xref py py-meth docutils literal notranslate"><span class="pre">Broadcaster.process_command()</span></code> to validate it
against the protocol and update the Broadcaster’s state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>byteslike</strong><span class="classifier">bytes-like</span></dt><dd></dd>
<dt><strong>address</strong><span class="classifier">tuple</span></dt><dd><p><code class="docutils literal notranslate"><span class="pre">(host,</span> <span class="pre">port)</span></code> as a string and an integer respectively</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>commands</strong><span class="classifier">list</span></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.Broadcaster.process_commands">
<code class="sig-name descname">process_commands</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">commands</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_broadcaster.html#Broadcaster.process_commands"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.Broadcaster.process_commands" title="Permalink to this definition">¶</a></dt>
<dd><p>Update internal state machine and raise if protocol is violated.</p>
<p>Received commands should be passed through here before any additional
processing by a server or client layer.</p>
</dd></dl>

<dl class="py method">
<dt id="caproto.Broadcaster.new_search_id">
<code class="sig-name descname">new_search_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_broadcaster.html#Broadcaster.new_search_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.Broadcaster.new_search_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="caproto.Broadcaster.search">
<code class="sig-name descname">search</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">name</em>, <em class="sig-param">\*</em>, <em class="sig-param">cid=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_broadcaster.html#Broadcaster.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.Broadcaster.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.VersionRequest" title="caproto.VersionRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">VersionRequest</span></code></a> and <a class="reference internal" href="#caproto.SearchRequest" title="caproto.SearchRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">SearchRequest</span></code></a>.</p>
<p>The protocol requires that these be transmitted together as part of one
datagram.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>name</strong><span class="classifier">string</span></dt><dd><p>Channnel name (PV)</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>(VersionRequest, SearchRequest)</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.Broadcaster.register">
<code class="sig-name descname">register</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">ip</span><span class="o">=</span><span class="default_value">'0.0.0.0'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_broadcaster.html#Broadcaster.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.Broadcaster.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.RepeaterRegisterRequest" title="caproto.RepeaterRegisterRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">RepeaterRegisterRequest</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ip</strong><span class="classifier">string, optional</span></dt><dd><p>Our IP address. Defaults is ‘0.0.0.0’, which ends up being
converted by the repeater to the IP from which it receives the
packet.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>RepeaterRegisterRequest</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="channel-objects">
<h2><a class="toc-backref" href="#id8">Channel objects</a><a class="headerlink" href="#channel-objects" title="Permalink to this headline">¶</a></h2>
<p>These objects are used internally by <a class="reference internal" href="#caproto.VirtualCircuit" title="caproto.VirtualCircuit"><code class="xref py py-class docutils literal notranslate"><span class="pre">VirtualCircuit</span></code></a> to track the state
of individual channels. The user can optionally use them as a convenience for
generating valid commands.</p>
<dl class="py class">
<dt id="caproto.ClientChannel">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">ClientChannel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">circuit</span></em>, <em class="sig-param"><span class="n">cid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">string_encoding</span><span class="o">=</span><span class="default_value">'latin-1'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ClientChannel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel" title="Permalink to this definition">¶</a></dt>
<dd><p>An object encapsulating the state of the EPICS Channel on a Client.</p>
<p>A ClientChannel may be created in one of two ways:
(1) The user instantiates a ClientChannel with a name, server address,
priority, and optional cid. The server address and priority are used to
assign the ClientChannel to a VirtualCircuit. If no cid is given, a unique
one is allocated by the VirtualCircuit.
(2) A VirtualCircuit processes a CreateChanRequest that refers to a cid
that it has not yet seen. A ClientChannel will be automatically
instantiated with the name and cid indicated that command and the address
and priority of that VirtualCircuit. It can be accessed in the circuit’s
<code class="docutils literal notranslate"><span class="pre">channels</span></code> attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>name</strong><span class="classifier">string</span></dt><dd><p>Channnel name (PV)</p>
</dd>
<dt><strong>circuit</strong><span class="classifier">VirtualCircuit</span></dt><dd></dd>
<dt><strong>cid</strong><span class="classifier">integer, optional</span></dt><dd></dd>
<dt><strong>string_encoding</strong><span class="classifier">string</span></dt><dd><p>Default is ‘latin-1’ or value of <code class="docutils literal notranslate"><span class="pre">CAPROTO_STRING_ENCODING</span></code>
environment variable.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt id="caproto.ClientChannel.version">
<code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ClientChannel.version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.VersionRequest" title="caproto.VersionRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">VersionRequest</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>priority</strong><span class="classifier">integer, optional</span></dt><dd><p>May be used by the server to prioritize requests when under high
load. Lowest priority is 0; highest is 99. Default is 0.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>VersionRequest</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.ClientChannel.host_name">
<code class="sig-name descname">host_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">host_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ClientChannel.host_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.host_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.HostNameRequest" title="caproto.HostNameRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">HostNameRequest</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>host_name</strong><span class="classifier">string</span></dt><dd></dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>HostNameRequest</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.ClientChannel.client_name">
<code class="sig-name descname">client_name</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">client_name</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ClientChannel.client_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.client_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.ClientNameRequest" title="caproto.ClientNameRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClientNameRequest</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>client_name</strong><span class="classifier">string, optional</span></dt><dd><p>defaults to output of <code class="docutils literal notranslate"><span class="pre">getpass.getuser()</span></code></p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>ClientNameRequest</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.ClientChannel.create">
<code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ClientChannel.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <code class="xref py py-class docutils literal notranslate"><span class="pre">CreateChanRequest</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>CreateChanRequest</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.ClientChannel.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">data_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data_count</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ioid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">notify</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ClientChannel.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.ReadRequest" title="caproto.ReadRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReadRequest</span></code></a> or <a class="reference internal" href="#caproto.ReadNotifyRequest" title="caproto.ReadNotifyRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReadNotifyRequest</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data_type</strong><span class="classifier">{‘native’, ‘status’, ‘time’, ‘graphic’, ‘control’} or ChannelType or int ID, optional</span></dt><dd><p>Requested Channel Access data type. Default is the channel’s
native data type, which can be checked in the Channel’s attribute
<code class="xref py py-attr docutils literal notranslate"><span class="pre">native_data_type</span></code>.</p>
</dd>
<dt><strong>data_count</strong><span class="classifier">integer, optional</span></dt><dd><p>Requested number of values. Default is the channel’s native data
count, which can be checked in the Channel’s attribute
<code class="xref py py-attr docutils literal notranslate"><span class="pre">native_data_count</span></code>.</p>
</dd>
<dt><strong>ioid</strong><span class="classifier">integer, optional</span></dt><dd><p>Input/output ID. If None, one is generated.</p>
</dd>
<dt><strong>notify</strong><span class="classifier">boolean, optional</span></dt><dd><p>True by default. If True, send a <code class="docutils literal notranslate"><span class="pre">ReadNotifyRequest</span></code> instead of
a <code class="docutils literal notranslate"><span class="pre">ReadRequest</span></code>. Note that <code class="docutils literal notranslate"><span class="pre">ReadRequest</span></code> has been deprecated by
Channel Access in 3.13 and is not well-supported by caproto.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>ReadNotifyRequest</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.ClientChannel.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">data_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data_count</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metadata</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ioid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">notify</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ClientChannel.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <code class="xref py py-class docutils literal notranslate"><span class="pre">WriteRequest</span> <span class="pre">or</span> <span class="pre">`:class:`WriteNotifyRequest</span></code>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>data</strong><span class="classifier">tuple, <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, <code class="docutils literal notranslate"><span class="pre">array.array</span></code>, or bytes</span></dt><dd></dd>
<dt><strong>data_type</strong><span class="classifier">{‘native’, ‘status’, ‘time’, ‘graphic’, ‘control’} or ChannelType or int ID, optional</span></dt><dd><p>Requested Channel Access data type. Default is the channel’s
native data type, which can be checked in the Channel’s attribute
<code class="xref py py-attr docutils literal notranslate"><span class="pre">native_data_type</span></code>.</p>
</dd>
<dt><strong>data_count</strong><span class="classifier">integer, optional</span></dt><dd><p>Requested number of values. Default is the channel’s native data
count, which can be checked in the Channel’s attribute
<code class="xref py py-attr docutils literal notranslate"><span class="pre">native_data_count</span></code>.</p>
</dd>
<dt><strong>metadata</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">ctypes.BigEndianStructure</span></code> or tuple</span></dt><dd><p>Status and control metadata for the values</p>
</dd>
<dt><strong>ioid</strong><span class="classifier">integer, optional</span></dt><dd><p>Input/output ID. If None, one is generated.</p>
</dd>
<dt><strong>notify</strong><span class="classifier">boolean, optional</span></dt><dd><p>False by default. If True, send a <code class="docutils literal notranslate"><span class="pre">WriteNotifyRequest</span></code> instead of
a <code class="docutils literal notranslate"><span class="pre">WriteRequest</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>WriteNotifyRequest</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.ClientChannel.subscribe">
<code class="sig-name descname">subscribe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">data_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data_count</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">subscriptionid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">low</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">high</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">to</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">mask</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ClientChannel.subscribe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.EventAddRequest" title="caproto.EventAddRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventAddRequest</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data_type</strong><span class="classifier">{‘native’, ‘status’, ‘time’, ‘graphic’, ‘control’} or ChannelType or int ID, optional</span></dt><dd><p>Requested Channel Access data type. Default is the channel’s
native data type, which can be checked in the Channel’s attribute
<code class="xref py py-attr docutils literal notranslate"><span class="pre">native_data_type</span></code>.</p>
</dd>
<dt><strong>data_count</strong><span class="classifier">integer, optional</span></dt><dd><p>Requested number of values. Default is the channel’s native data
count, which can be checked in the Channel’s attribute
<code class="xref py py-attr docutils literal notranslate"><span class="pre">native_data_count</span></code>.</p>
</dd>
<dt><strong>subscriptionid</strong><span class="classifier">integer, optional</span></dt><dd></dd>
<dt><strong>low</strong><span class="classifier">number</span></dt><dd><p>Default is 0.</p>
</dd>
<dt><strong>high</strong><span class="classifier">number</span></dt><dd><p>Default is 0.</p>
</dd>
<dt><strong>to</strong><span class="classifier">number</span></dt><dd><p>Default is 0.</p>
</dd>
<dt><strong>mask :</strong></dt><dd><p>Default is None, which resolves to:
<code class="docutils literal notranslate"><span class="pre">(SubscriptionType.DBE_VALUE</span> <span class="pre">|</span> <span class="pre">``</span>
<span class="pre">``</span> <span class="pre">SubscriptionType.DBE_ALARM</span> <span class="pre">|</span> <span class="pre">``</span>
<span class="pre">``</span> <span class="pre">SubscriptionType.DBE_PROPERTY)</span></code></p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>EventAddRequest</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.ClientChannel.unsubscribe">
<code class="sig-name descname">unsubscribe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">subscriptionid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ClientChannel.unsubscribe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.unsubscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.EventAddRequest" title="caproto.EventAddRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventAddRequest</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>subscriptionid</strong><span class="classifier">integer</span></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">subscriptionid</span></code> that was originally sent in the
corresponding <a class="reference internal" href="#caproto.EventAddRequest" title="caproto.EventAddRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventAddRequest</span></code></a>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>EventAddRequest</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.ClientChannel.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ClientChannel.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ClientChannel.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.ClearChannelRequest" title="caproto.ClearChannelRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClearChannelRequest</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>ClearChannelRequest</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="caproto.ServerChannel">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">ServerChannel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">circuit</span></em>, <em class="sig-param"><span class="n">cid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">string_encoding</span><span class="o">=</span><span class="default_value">'latin-1'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ServerChannel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel" title="Permalink to this definition">¶</a></dt>
<dd><p>A server-side Channel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>name</strong><span class="classifier">string</span></dt><dd><p>Channnel name (PV)</p>
</dd>
<dt><strong>circuit</strong><span class="classifier">VirtualCircuit</span></dt><dd></dd>
<dt><strong>cid</strong><span class="classifier">integer, optional</span></dt><dd></dd>
<dt><strong>string_encoding</strong><span class="classifier">string</span></dt><dd><p>Default is ‘latin-1’ or value of <code class="docutils literal notranslate"><span class="pre">CAPROTO_STRING_ENCODING</span></code>
environment variable.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt id="caproto.ServerChannel.version">
<code class="sig-name descname">version</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ServerChannel.version"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel.version" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.VersionResponse" title="caproto.VersionResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">VersionResponse</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>VersionResponse</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.ServerChannel.create">
<code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">native_data_type</span></em>, <em class="sig-param"><span class="n">native_data_count</span></em>, <em class="sig-param"><span class="n">sid</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ServerChannel.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <code class="xref py py-class docutils literal notranslate"><span class="pre">CreateChanResponse</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>native_data_type</strong><span class="classifier">a ChannelType or corresponding integer ID, optional</span></dt><dd><p>Default Channel Access data type.</p>
</dd>
<dt><strong>native_data_count</strong><span class="classifier">integer</span></dt><dd><p>Default number of values</p>
</dd>
<dt><strong>sid</strong><span class="classifier">integer</span></dt><dd><p>server-allocated sid</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>CreateChanResponse</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.ServerChannel.create_fail">
<code class="sig-name descname">create_fail</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ServerChannel.create_fail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel.create_fail" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.CreateChFailResponse" title="caproto.CreateChFailResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">CreateChFailResponse</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>CreateChFailResponse</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.ServerChannel.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">data</em>, <em class="sig-param">ioid</em>, <em class="sig-param">data_type=None</em>, <em class="sig-param">data_count=None</em>, <em class="sig-param">status=1</em>, <em class="sig-param">\*</em>, <em class="sig-param">metadata=None</em>, <em class="sig-param">notify=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ServerChannel.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.ReadResponse" title="caproto.ReadResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReadResponse</span></code></a> or <a class="reference internal" href="#caproto.ReadNotifyResponse" title="caproto.ReadNotifyResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReadNotifyResponse</span></code></a>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>data</strong><span class="classifier">tuple, <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, <code class="docutils literal notranslate"><span class="pre">array.array</span></code>, or bytes</span></dt><dd></dd>
<dt><strong>ioid</strong><span class="classifier">integer</span></dt><dd></dd>
<dt><strong>data_type</strong><span class="classifier">{‘native’, ‘status’, ‘time’, ‘graphic’, ‘control’} or ChannelType or int ID, optional</span></dt><dd><p>Requested Channel Access data type. Default is the channel’s
native data type, which can be checked in the Channel’s attribute
<code class="xref py py-attr docutils literal notranslate"><span class="pre">native_data_type</span></code>.</p>
</dd>
<dt><strong>data_count</strong><span class="classifier">integer, optional</span></dt><dd><p>Requested number of values. Default is the channel’s native data
count, which can be checked in the Channel’s attribute
<code class="xref py py-attr docutils literal notranslate"><span class="pre">native_data_count</span></code>.</p>
</dd>
<dt><strong>status</strong><span class="classifier">integer, optional</span></dt><dd><p>Default is 1 (success).</p>
</dd>
<dt><strong>metadata</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">ctypes.BigEndianStructure</span></code> or tuple</span></dt><dd><p>Status and control metadata for the values</p>
</dd>
<dt><strong>notify</strong><span class="classifier">boolean, optional</span></dt><dd><p>True by default. If True, send a <code class="docutils literal notranslate"><span class="pre">ReadNotifyRequest</span></code> instead of
a <code class="docutils literal notranslate"><span class="pre">ReadRequest</span></code>. Note that <code class="docutils literal notranslate"><span class="pre">ReadRequest</span></code> has been deprecated by
Channel Access in 3.13 and is not well-supported by caproto.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>ReadResponse or ReadNotifyResponse</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.ServerChannel.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">ioid</span></em>, <em class="sig-param"><span class="n">data_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data_count</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">status</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ServerChannel.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.WriteNotifyResponse" title="caproto.WriteNotifyResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">WriteNotifyResponse</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>ioid</strong><span class="classifier">integer</span></dt><dd></dd>
<dt><strong>data_type</strong><span class="classifier">{‘native’, ‘status’, ‘time’, ‘graphic’, ‘control’} or ChannelType or int ID, optional</span></dt><dd><p>Requested Channel Access data type. Default is the channel’s
native data type, which can be checked in the Channel’s attribute
<code class="xref py py-attr docutils literal notranslate"><span class="pre">native_data_type</span></code>.</p>
</dd>
<dt><strong>data_count</strong><span class="classifier">integer, optional</span></dt><dd><p>Requested number of values. Default is the channel’s native data
count, which can be checked in the Channel’s attribute
<code class="xref py py-attr docutils literal notranslate"><span class="pre">native_data_count</span></code>.</p>
</dd>
<dt><strong>status</strong><span class="classifier">integer, optional</span></dt><dd><p>Default is 1 (success).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>WriteNotifyResponse</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.ServerChannel.subscribe">
<code class="sig-name descname">subscribe</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">data</em>, <em class="sig-param">subscriptionid</em>, <em class="sig-param">data_type=None</em>, <em class="sig-param">data_count=None</em>, <em class="sig-param">status=&lt;CAStatus.ECA_NEWCONN: CAStatusCode(name='ECA_NEWCONN'</em>, <em class="sig-param">code=32</em>, <em class="sig-param">code_with_severity=259</em>, <em class="sig-param">severity=&lt;CASeverity.INFO: 3&gt;</em>, <em class="sig-param">success=1</em>, <em class="sig-param">defunct=True</em>, <em class="sig-param">description='New or resumed network connection')&gt;</em>, <em class="sig-param">metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ServerChannel.subscribe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel.subscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.EventAddResponse" title="caproto.EventAddResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventAddResponse</span></code></a>.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>data</strong><span class="classifier">tuple, <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, <code class="docutils literal notranslate"><span class="pre">array.array</span></code>, or bytes</span></dt><dd></dd>
<dt><strong>subscriptionid</strong><span class="classifier">integer</span></dt><dd></dd>
<dt><strong>data_type</strong><span class="classifier">{‘native’, ‘status’, ‘time’, ‘graphic’, ‘control’} or ChannelType or int ID, optional</span></dt><dd><p>Requested Channel Access data type. Default is the channel’s
native data type, which can be checked in the Channel’s attribute
<code class="xref py py-attr docutils literal notranslate"><span class="pre">native_data_type</span></code>.</p>
</dd>
<dt><strong>data_count</strong><span class="classifier">integer, optional</span></dt><dd><p>Requested number of values. Default is the channel’s native data
count, which can be checked in the Channel’s attribute
<code class="xref py py-attr docutils literal notranslate"><span class="pre">native_data_count</span></code>.</p>
</dd>
<dt><strong>status</strong><span class="classifier">CAStatus or corresponding integer code</span></dt><dd><p>Default is <code class="docutils literal notranslate"><span class="pre">CAStatus.ECA_NEWCONN</span></code></p>
</dd>
<dt><strong>metadata</strong><span class="classifier"><code class="docutils literal notranslate"><span class="pre">ctypes.BigEndianStructure</span></code> or tuple</span></dt><dd><p>Status and control metadata for the values</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>EventAddResponse</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.ServerChannel.unsubscribe">
<code class="sig-name descname">unsubscribe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em>, <em class="sig-param"><span class="n">subscriptionid</span></em>, <em class="sig-param"><span class="n">data_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">data_count</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ServerChannel.unsubscribe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel.unsubscribe" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.EventCancelResponse" title="caproto.EventCancelResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventCancelResponse</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>subscriptionid</strong><span class="classifier">integer</span></dt><dd></dd>
<dt><strong>data_type</strong><span class="classifier">{‘native’, ‘status’, ‘time’, ‘graphic’, ‘control’} or ChannelType or int ID, optional</span></dt><dd><p>Requested Channel Access data type. Default is the channel’s
native data type, which can be checked in the Channel’s attribute
<code class="xref py py-attr docutils literal notranslate"><span class="pre">native_data_type</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>EventCancelResponse</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.ServerChannel.clear">
<code class="sig-name descname">clear</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ServerChannel.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.ClearChannelResponse" title="caproto.ClearChannelResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClearChannelResponse</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>ClearChannelResposne</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="caproto.ServerChannel.disconnect">
<code class="sig-name descname">disconnect</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">self</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/caproto/_circuit.html#ServerChannel.disconnect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ServerChannel.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a valid <a class="reference internal" href="#caproto.ServerDisconnResponse" title="caproto.ServerDisconnResponse"><code class="xref py py-class docutils literal notranslate"><span class="pre">ServerDisconnResponse</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt>ServerDisconnResponse</dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="payload-data-types">
<span id="id1"></span><h2><a class="toc-backref" href="#id9">Payload Data Types</a><a class="headerlink" href="#payload-data-types" title="Permalink to this headline">¶</a></h2>
<p>Channel Access implements a system of data structures (“Database Records”) that
encode metadata like time, alarm status, and control limits with the data
value(s). Each Channel Access data type has an integer ID, encoded by caproto
in the <a class="reference internal" href="#caproto.ChannelType" title="caproto.ChannelType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelType</span></code></a> enum:</p>
<dl class="py class">
<dt id="caproto.ChannelType">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">ChannelType</code><a class="reference internal" href="_modules/caproto/_dbr.html#ChannelType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.ChannelType" title="Permalink to this definition">¶</a></dt>
<dd><p>All channel types supported by Channel Access</p>
<p>The ones that should be used in servers to specify the type of pvproperty
or ChannelData are only “native” types (STRING, INT, FLOAT, ENUM, CHAR,
LONG, DOUBLE)</p>
<p>The remaining channel data types are used for clients requesting additional
metadata from the server.</p>
<dl class="py attribute">
<dt>
<code class="sig-name descname">STRING = 0</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">INT = 1</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">FLOAT = 2</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">ENUM = 3</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">CHAR = 4</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">LONG = 5</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">DOUBLE = 6</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">STS_STRING = 7</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">STS_INT = 8</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">STS_FLOAT = 9</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">STS_ENUM = 10</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">STS_CHAR = 11</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">STS_LONG = 12</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">STS_DOUBLE = 13</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">TIME_STRING = 14</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">TIME_INT = 15</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">TIME_FLOAT = 16</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">TIME_ENUM = 17</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">TIME_CHAR = 18</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">TIME_LONG = 19</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">TIME_DOUBLE = 20</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">GR_STRING = 21</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">GR_INT = 22</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">GR_FLOAT = 23</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">GR_ENUM = 24</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">GR_CHAR = 25</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">GR_LONG = 26</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">GR_DOUBLE = 27</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">CTRL_STRING = 28</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">CTRL_INT = 29</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">CTRL_FLOAT = 30</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">CTRL_ENUM = 31</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">CTRL_CHAR = 32</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">CTRL_LONG = 33</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">CTRL_DOUBLE = 34</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">STSACK_STRING = 37</code></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt>
<code class="sig-name descname">CLASS_NAME = 38</code></dt>
<dd></dd></dl>

</dd></dl>

<p>All commands that accept a <code class="docutils literal notranslate"><span class="pre">data_type</span></code> argument expect one of these
<a class="reference internal" href="#caproto.ChannelType" title="caproto.ChannelType"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChannelType</span></code></a> attributes or the corresponding integer. Here some valid
examples using the simple “native” types.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">caproto</span> <span class="k">as</span> <span class="nn">ca</span>

<span class="n">ReadNotifyResponse</span><span class="p">(</span><span class="n">data_type</span><span class="o">=</span><span class="n">ca</span><span class="o">.</span><span class="n">ChannelType</span><span class="o">.</span><span class="n">FLOAT</span><span class="p">,</span>
                   <span class="n">data_count</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                   <span class="n">data</span><span class="o">=</span><span class="p">(</span><span class="mf">3.2</span><span class="p">,</span> <span class="mf">5.3</span><span class="p">,</span> <span class="mf">10.6</span><span class="p">),</span>
                   <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="n">ReadNotifyResponse</span><span class="p">(</span><span class="n">data_type</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>  <span class="c1"># 2 is equivalent to ChannelType.FLOAT</span>
                   <span class="n">data_count</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                   <span class="n">data</span><span class="o">=</span><span class="p">(</span><span class="mf">3.2</span><span class="p">,</span> <span class="mf">5.3</span><span class="p">,</span> <span class="mf">10.6</span><span class="p">),</span>
                   <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="n">ReadNotifyResponse</span><span class="p">(</span><span class="n">data_type</span><span class="o">=</span><span class="n">ca</span><span class="o">.</span><span class="n">ChannelType</span><span class="o">.</span><span class="n">FLOAT</span><span class="p">,</span>
                   <span class="n">data_count</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                   <span class="n">data</span><span class="o">=</span><span class="p">(</span><span class="mf">3.1</span><span class="p">,),</span>  <span class="c1"># scalars must be given inside an iterable</span>
                   <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="n">ReadNotifyResponse</span><span class="p">(</span><span class="n">data_type</span><span class="o">=</span><span class="n">ca</span><span class="o">.</span><span class="n">ChannelType</span><span class="o">.</span><span class="n">INT</span><span class="p">,</span>
                   <span class="n">data_count</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                   <span class="n">data</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">7</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;i2&#39;</span><span class="p">),</span>
                   <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>And here are some examples using the compound types that include metadata. The
metadata is packed into a <code class="docutils literal notranslate"><span class="pre">ctypes.BigEndianStructure</span></code> with the appropriate
fields. The caller can handle the struct directly and pass it in:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">metadata</span> <span class="o">=</span> <span class="n">ca</span><span class="o">.</span><span class="n">DBR_TIME_DOUBLE</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">ReadNotifyResponse</span><span class="p">(</span><span class="n">data_type</span><span class="o">=</span><span class="n">ca</span><span class="o">.</span><span class="n">ChannelType</span><span class="o">.</span><span class="n">TIME_DOUBLE</span><span class="p">,</span>
                   <span class="n">data_count</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                   <span class="n">data</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,),</span>
                   <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>
</div>
<p>or the caller can pass the values as a tuple and let caproto fill in the
struct:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ReadNotifyResponse</span><span class="p">(</span><span class="n">data_type</span><span class="o">=</span><span class="n">ca</span><span class="o">.</span><span class="n">ChannelType</span><span class="o">.</span><span class="n">TIME_DOUBLE</span><span class="p">,</span>
                   <span class="n">data_count</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                   <span class="n">data</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,),</span>
                   <span class="n">metadata</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="exceptions">
<h2><a class="toc-backref" href="#id10">Exceptions</a><a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<p>All exceptions directly raised by caproto inherit from <code class="xref py py-class docutils literal notranslate"><span class="pre">CaprotoError</span></code>.</p>
<p>Errors like <code class="xref py py-class docutils literal notranslate"><span class="pre">CaprotoKeyError</span></code> inherit from both <code class="xref py py-class docutils literal notranslate"><span class="pre">CaprotoError</span></code>
and the built-in Python <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">KeyError</span></code></a>.</p>
<p>The only special exceptions raised by caproto are <a class="reference internal" href="#caproto.LocalProtocolError" title="caproto.LocalProtocolError"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocalProtocolError</span></code></a>
and <a class="reference internal" href="#caproto.RemoteProtocolError" title="caproto.RemoteProtocolError"><code class="xref py py-class docutils literal notranslate"><span class="pre">RemoteProtocolError</span></code></a>. These inherit from
<code class="xref py py-class docutils literal notranslate"><span class="pre">ProtocolError</span></code>.</p>
<dl class="py class">
<dt id="caproto.LocalProtocolError">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">LocalProtocolError</code><a class="reference internal" href="_modules/caproto/_utils.html#LocalProtocolError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.LocalProtocolError" title="Permalink to this definition">¶</a></dt>
<dd><p>You tried to do something that caproto thinks is illegal.</p>
</dd></dl>

<dl class="py class">
<dt id="caproto.RemoteProtocolError">
<em class="property">class </em><code class="sig-prename descclassname">caproto.</code><code class="sig-name descname">RemoteProtocolError</code><a class="reference internal" href="_modules/caproto/_utils.html#RemoteProtocolError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#caproto.RemoteProtocolError" title="Permalink to this definition">¶</a></dt>
<dd><p>Your remote peer tried to do something that caproto thinks is illegal.</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="protocol-compliance.html" class="btn btn-neutral float-right" title="Details of our Protocol Compliance for CA Nerds" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="basics.html" class="btn btn-neutral float-left" title="Writing Your Own Channel Access Client" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Daniel Allan

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>