<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Examples" href="examples.html" /><link rel="prev" title="sirepo-bluesky Documentation" href="index.html" />

    <!-- Generated with Sphinx 7.0.1 and Furo 2023.05.20 -->
        <title>Installation instructions - sirepo-bluesky 0.6.2.post16+g5765091 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=e6660623a769aa55fea372102b9bf3151b292993" />
    <link rel="stylesheet" type="text/css" href="_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #eeffcc;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">sirepo-bluesky 0.6.2.post16+g5765091 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">sirepo-bluesky 0.6.2.post16+g5765091 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Installation instructions</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="examples.html">Examples</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Examples</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="notebooks/elements.html">Optical Elements as Ophyd Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="notebooks/madx.html">MAD-X Simulations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="simulations.html">List of predefined simulations in Sirepo</a></li>
<li class="toctree-l1"><a class="reference internal" href="release-history.html">Release History</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="installation-instructions">
<h1>Installation instructions<a class="headerlink" href="#installation-instructions" title="Permalink to this heading">#</a></h1>
<section id="preparation">
<h2>Preparation<a class="headerlink" href="#preparation" title="Permalink to this heading">#</a></h2>
<p>Clone the repository to run the prerequisites:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/NSLS-II/sirepo-bluesky.git
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>sirepo-bluesky/
</pre></div>
</div>
</section>
<section id="starting-sirepo">
<span id="sirepo-startup"></span><h2>Starting Sirepo<a class="headerlink" href="#starting-sirepo" title="Permalink to this heading">#</a></h2>
<p>To make use of the package, we need to run Sirepo as a service. We run Sirepo
using <a class="reference external" href="https://www.docker.com/">Docker</a> images (<a class="reference external" href="https://podman.io/">Podman</a>
can be used as well) from <a class="reference external" href="https://hub.docker.com/r/radiasoft/sirepo">DockerHub</a>.  We can start Sirepo locally
using the convenience script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>bash<span class="w"> </span>scripts/start_sirepo.sh<span class="w"> </span>-it
</pre></div>
</div>
<p>which runs a Docker container as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#!/bin/bash

# set -vxeuo pipefail
set -e

error_msg=&quot;Specify &#39;-it&#39; or &#39;-d&#39; on the command line as a first argument.&quot;

arg=&quot;${1:-}&quot;

if [ -z &quot;${arg}&quot; ]; then
    echo &quot;${error_msg}&quot;
    exit 1
elif [ &quot;${arg}&quot; != &quot;-it&quot; -a &quot;${arg}&quot; != &quot;-d&quot; ]; then
    echo &quot;${error_msg} Specified argument: ${arg}&quot;
    exit 2
fi

if [ &quot;${arg}&quot; == &quot;-it&quot; ]; then
    remove_container=&quot;--rm&quot;
else
    remove_container=&quot;&quot;
fi

SIREPO_SRDB_HOST=&quot;${SIREPO_SRDB_HOST:-}&quot;
SIREPO_SRDB_HOST_RO=&quot;${SIREPO_SRDB_HOST_RO:-}&quot;
SIREPO_SRDB_GUEST=&quot;${SIREPO_SRDB_GUEST:-}&quot;
SIREPO_SRDB_ROOT=&quot;${SIREPO_SRDB_ROOT:-&#39;/sirepo&#39;}&quot;

unset cmd _cmd docker_image SIREPO_DOCKER_CONTAINER_ID

year=$(date +&quot;%Y&quot;)
month=$(date +&quot;%m&quot;)
day=$(date +&quot;%d&quot;)

today=&quot;${HOME}/tmp/data/${year}/${month}/${day}&quot;

if [ -d &quot;${today}&quot; ]; then
    echo &quot;Directory ${today} exists.&quot;
else
    echo &quot;Creating Directory ${today}&quot;
    mkdir -p &quot;${today}&quot;
fi

docker_image_tag=${DOCKER_IMAGE_TAG:-&#39;beta&#39;}  # &#39;20220806.215448&#39; for the older tag
docker_image=&quot;radiasoft/sirepo:${docker_image_tag}&quot;
docker_binary=${DOCKER_BINARY:-&quot;docker&quot;}

${docker_binary} pull ${docker_image}

${docker_binary} images

in_docker_cmd=$(cat &lt;&lt;EOF
mkdir -v -p ${SIREPO_SRDB_ROOT} &amp;&amp; \
if [ ! -f &quot;${SIREPO_SRDB_ROOT}/auth.db&quot; ]; then \
    cp -Rv /SIREPO_SRDB_ROOT/* ${SIREPO_SRDB_ROOT}/; \
else \
    echo &#39;The directory exists. Nothing to do&#39;; \
fi &amp;&amp; \
sed -i -E \&quot;s;export SIREPO_SRDB_ROOT=\&quot;\(.*\)\&quot;;export SIREPO_SRDB_ROOT=\&quot;$SIREPO_SRDB_ROOT\&quot;;g\&quot; ~/.radia-run/start &amp;&amp; \
cat ~/.radia-run/start &amp;&amp; \
~/.radia-run/start
EOF
)

if [ -z &quot;${SIREPO_SRDB_HOST_RO}&quot; ]; then
    if [ -d &quot;$PWD/sirepo_bluesky/tests/SIREPO_SRDB_ROOT&quot; ]; then
        SIREPO_SRDB_HOST_RO=&quot;$PWD/sirepo_bluesky/tests/SIREPO_SRDB_ROOT&quot;
    else
        echo &quot;Cannot determine the location of the host SIREPO_SRDB_ROOT dir.&quot;
        exit 1
    fi
fi

echo &quot;SIREPO_SRDB_HOST_RO=${SIREPO_SRDB_HOST_RO}&quot;

cmd_start=&quot;${docker_binary} run ${arg} --init ${remove_container} --name sirepo \
    -e SIREPO_AUTH_METHODS=bluesky:guest \
    -e SIREPO_AUTH_BLUESKY_SECRET=bluesky \
    -e SIREPO_SRDB_ROOT=${SIREPO_SRDB_ROOT} \
    -e SIREPO_COOKIE_IS_SECURE=false \
    -p 8000:8000 \
    -v $SIREPO_SRDB_HOST_RO:/SIREPO_SRDB_ROOT:ro,z &quot;

cmd_extra=&quot;&quot;
if [ ! -z &quot;${SIREPO_SRDB_HOST}&quot; -a ! -z &quot;${SIREPO_SRDB_GUEST}&quot; ]; then
    cmd_extra=&quot;-v ${SIREPO_SRDB_HOST}:${SIREPO_SRDB_GUEST}:rw,z &quot;
fi

cmd_end=&quot;${docker_image} bash -l -c \&quot;${in_docker_cmd}\&quot;&quot;

cmd=&quot;${cmd_start}${cmd_extra}${cmd_end}&quot;

echo -e &quot;Command to run:\n\n${cmd}\n&quot;
if [ &quot;${arg}&quot; == &quot;-d&quot; ]; then
    SIREPO_DOCKER_CONTAINER_ID=$(eval ${cmd})
    export SIREPO_DOCKER_CONTAINER_ID
    echo &quot;Container ID: ${SIREPO_DOCKER_CONTAINER_ID}&quot;
    ${docker_binary} ps -a
    ${docker_binary} logs ${SIREPO_DOCKER_CONTAINER_ID}
else
    eval ${cmd}
fi
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>One can use the <code class="docutils literal notranslate"><span class="pre">-d</span></code> option instead of <code class="docutils literal notranslate"><span class="pre">-it</span></code> to run the container in the
daemon mode.</p>
</div>
</section>
<section id="starting-mongo">
<h2>Starting Mongo<a class="headerlink" href="#starting-mongo" title="Permalink to this heading">#</a></h2>
<p>Accessing the simualted data using Databroker requires us to have Mongo running.
We can similarly run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>bash<span class="w"> </span>scripts/start_mongo.sh<span class="w"> </span>-it
</pre></div>
</div>
<p>or more explicitly</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>#!/bin/bash

set -vxeuo pipefail

error_msg=&quot;Specify &#39;-it&#39; or &#39;-d&#39; on the command line as a first argument.&quot;

arg=&quot;${1:-}&quot;

if [ -z &quot;${arg}&quot; ]; then
    echo &quot;${error_msg}&quot;
    exit 1
elif [ &quot;${arg}&quot; != &quot;-it&quot; -a &quot;${arg}&quot; != &quot;-d&quot; ]; then
    echo &quot;${error_msg} Specified argument: ${arg}&quot;
    exit 2
fi

docker_image=&quot;mongo&quot;
docker_binary=${DOCKER_BINARY:-&quot;docker&quot;}

${docker_binary} pull ${docker_image}
${docker_binary} images
${docker_binary} run ${arg} --rm -p 27017:27017 --name mongo ${docker_image}
</pre></div>
</div>
<p>Likewise, the <code class="docutils literal notranslate"><span class="pre">-d</span></code> option can be used instead of <code class="docutils literal notranslate"><span class="pre">-it</span></code> to run the container
in the daemon mode.</p>
</section>
<section id="configuration-of-databroker">
<h2>Configuration of databroker<a class="headerlink" href="#configuration-of-databroker" title="Permalink to this heading">#</a></h2>
<p>To to access the collected data with the <a class="reference external" href="https://blueskyproject.io/databroker">databroker</a> library, we need to configure it. For
that, please copy the <a class="reference external" href="https://github.com/NSLS-II/sirepo-bluesky/blob/main/examples/local.yml">local.yml</a>
configuration file to the <code class="docutils literal notranslate"><span class="pre">~/.config/databroker/</span></code> directory if using macOS or Linux. For Windows systems,
copy the configuration file to the <code class="docutils literal notranslate"><span class="pre">%APPDATA%\databroker</span></code> directory.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">description</span><span class="p">:</span> <span class="s1">&#39;local databroker store&#39;</span>
<span class="n">metadatastore</span><span class="p">:</span>
  <span class="n">module</span><span class="p">:</span> <span class="s1">&#39;databroker.headersource.mongo&#39;</span>
  <span class="n">class</span><span class="p">:</span> <span class="s1">&#39;MDS&#39;</span>
  <span class="n">config</span><span class="p">:</span>
    <span class="n">host</span><span class="p">:</span> <span class="s1">&#39;localhost&#39;</span>
    <span class="n">port</span><span class="p">:</span> <span class="mi">27017</span>
    <span class="n">database</span><span class="p">:</span> <span class="s1">&#39;some_example_database&#39;</span>
    <span class="n">timezone</span><span class="p">:</span> <span class="s1">&#39;US/Eastern&#39;</span>
<span class="n">assets</span><span class="p">:</span>
  <span class="n">module</span><span class="p">:</span> <span class="s1">&#39;databroker.assets.mongo&#39;</span>
  <span class="n">class</span><span class="p">:</span> <span class="s1">&#39;Registry&#39;</span>
  <span class="n">config</span><span class="p">:</span>
    <span class="n">host</span><span class="p">:</span> <span class="s1">&#39;localhost&#39;</span>
    <span class="n">port</span><span class="p">:</span> <span class="mi">27017</span>
    <span class="n">database</span><span class="p">:</span> <span class="s1">&#39;some_example_database&#39;</span>
</pre></div>
</div>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The installation requires the <code class="docutils literal notranslate"><span class="pre">srwpy</span></code> and <code class="docutils literal notranslate"><span class="pre">shadow3</span></code> simulation packages to
be installed to make use of all features of the library. Those packages are
primarily used by the corresponding handlers to be able to load the data from
the package-specific formats. The packages are installed automatically when
the <code class="docutils literal notranslate"><span class="pre">sirepo-bluesky</span></code> package is installed via <code class="docutils literal notranslate"><span class="pre">pip</span></code>:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://pypi.org/project/srwpy">https://pypi.org/project/srwpy</a></p></li>
<li><p><a class="reference external" href="https://pypi.org/project/shadow3">https://pypi.org/project/shadow3</a></p></li>
</ul>
<p>One can also install the packages using <code class="docutils literal notranslate"><span class="pre">conda</span></code> from the <code class="docutils literal notranslate"><span class="pre">conda-forge</span></code>
channel:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://anaconda.org/conda-forge/srwpy">https://anaconda.org/conda-forge/srwpy</a></p></li>
<li><p><a class="reference external" href="https://anaconda.org/conda-forge/shadow3">https://anaconda.org/conda-forge/shadow3</a></p></li>
</ul>
</div>
<p>Start with creating a conda environment. If you do not have conda installation,
one of the packages from <a class="reference external" href="https://github.com/conda-forge/miniforge">https://github.com/conda-forge/miniforge</a> can be used to quickly install the
appropriate conda infrastructure.</p>
<p>At the command line:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>conda<span class="w"> </span>create<span class="w"> </span>-n<span class="w"> </span>sirepo-bluesky<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>-y<span class="w"> </span><span class="nv">python</span><span class="o">=</span><span class="m">3</span>.10
$<span class="w"> </span>conda<span class="w"> </span>activate<span class="w"> </span>sirepo-bluesky
</pre></div>
</div>
<p>Then, to install the released version, run one of the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>sirepo-bluesky<span class="w">        </span><span class="c1"># to install from PyPI, OR</span>
$<span class="w"> </span>conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>sirepo-bluesky<span class="w">  </span><span class="c1"># to install from conda-forge</span>
</pre></div>
</div>
<p>If you would like to run examples, it is recommended to use the development mode
installation:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/NSLS-II/sirepo-bluesky.git
$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>sirepo-bluesky/
$<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-ve<span class="w"> </span>.
</pre></div>
</div>
<p>If you wish to run <code class="docutils literal notranslate"><span class="pre">pytest</span></code> tests or build the documentation, please install
the development requirements, such as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements-dev.txt
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may need to install the <a class="reference external" href="https://pandoc.org">Pandoc</a> library. Please
follow the instructions at <a class="reference external" href="https://pandoc.org/installing.html">https://pandoc.org/installing.html</a> to install it.</p>
</div>
<section id="run-tests">
<h3>Run tests<a class="headerlink" href="#run-tests" title="Permalink to this heading">#</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pytest<span class="w"> </span>-vv<span class="w"> </span>-s<span class="w"> </span>-x<span class="w"> </span>--pdb
</pre></div>
</div>
</section>
<section id="build-documentation">
<h3>Build documentation<a class="headerlink" href="#build-documentation" title="Permalink to this heading">#</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>make<span class="w"> </span>-C<span class="w"> </span>docs/<span class="w"> </span>html
</pre></div>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="examples.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Examples</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Home</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2020, Brookhaven National Laboratory
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Installation instructions</a><ul>
<li><a class="reference internal" href="#preparation">Preparation</a></li>
<li><a class="reference internal" href="#starting-sirepo">Starting Sirepo</a></li>
<li><a class="reference internal" href="#starting-mongo">Starting Mongo</a></li>
<li><a class="reference internal" href="#configuration-of-databroker">Configuration of databroker</a></li>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#run-tests">Run tests</a></li>
<li><a class="reference internal" href="#build-documentation">Build documentation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>