

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Online Sample Management Examples &mdash; amostra 1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="amostra 1 documentation" href="index.html"/>
        <link rel="up" title="amostra" href="modules.html"/>
        <link rel="next" title="More Examples" href="examples.html"/>
        <link rel="prev" title="Setup" href="setup.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> amostra
          

          
          </a>

          
            
            
              <div class="version">
                0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">amostra</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html">Setup</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Online Sample Management Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="#local-sample-management-examples">Local Sample Management Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html">More Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="amostra.html">amostra package</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">amostra</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">amostra</a> &raquo;</li>
        
      <li>Online Sample Management Examples</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/tutorial.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">amostra.client.commands</span> <span class="k">import</span> <span class="n">SampleReference</span><span class="p">,</span> <span class="n">RequestReference</span><span class="p">,</span> <span class="n">ContainerReference</span>
<span class="kn">import</span> <span class="nn">uuid</span>
</pre></div>
</div>
<div class="section" id="online-sample-management-examples">
<h1>Online Sample Management Examples<a class="headerlink" href="#online-sample-management-examples" title="Permalink to this headline">¶</a></h1>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Create a sample reference. This will be used in order to communicate with</span>
<span class="c1"># the amostra server</span>
<span class="n">conn</span> <span class="o">=</span> <span class="n">SampleReference</span><span class="p">()</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Create a simple sample and a list of samples, 100 of them</span>
<span class="n">conn</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;sample3&#39;</span><span class="p">,</span> <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461336991.929094</span><span class="p">,</span> <span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;puck2&#39;</span><span class="p">})</span>
<span class="n">tmp</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100</span><span class="p">):</span>
    <span class="n">tmp</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;puck2&#39;</span><span class="p">,</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;sample</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">)})</span>
<span class="n">conn</span><span class="o">.</span><span class="n">create_sample_list</span><span class="p">(</span><span class="n">tmp</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s1">&#39;f459a2b2-2fb4-4f30-aab4-e0c7b8092473&#39;</span><span class="p">,</span>
 <span class="s1">&#39;4342e439-f86f-46a6-96cc-687efccedd62&#39;</span><span class="p">,</span>
 <span class="s1">&#39;d689a0fd-48a1-4ccd-ad90-34f541c30c22&#39;</span><span class="p">,</span>
 <span class="s1">&#39;292a1cce-499e-4718-a3ba-58340b0bdceb&#39;</span><span class="p">,</span>
 <span class="s1">&#39;3c6cef6d-f9e5-4d94-a12f-6194e5bcab19&#39;</span><span class="p">,</span>
 <span class="s1">&#39;58d9f680-760f-4aec-a24b-669765dd2426&#39;</span><span class="p">,</span>
 <span class="s1">&#39;1f5d0cee-b26c-4063-a4ef-39c2e3b3ab29&#39;</span><span class="p">,</span>
 <span class="s1">&#39;cbca0976-a340-4cd6-8ab2-285e9c699b5f&#39;</span><span class="p">,</span>
 <span class="s1">&#39;80eb6184-92ea-498a-8634-b3a7dc6981ee&#39;</span><span class="p">,</span>
 <span class="s1">&#39;a12a8bf7-eba0-4222-ab2b-59fffb81f3a4&#39;</span><span class="p">,</span>
 <span class="s1">&#39;eca6dac2-58c2-41e3-a72d-7eeae886d5da&#39;</span><span class="p">,</span>
 <span class="s1">&#39;acae82af-809b-4d74-ba9d-d72b77c5c029&#39;</span><span class="p">,</span>
 <span class="s1">&#39;35c42e46-aaa7-4ad7-97a5-e9e39a8a0afd&#39;</span><span class="p">,</span>
 <span class="s1">&#39;2a47b21e-0021-47b4-a482-6d79afecafa2&#39;</span><span class="p">,</span>
 <span class="s1">&#39;5b1bcebc-4090-434d-82f1-baceb002abed&#39;</span><span class="p">,</span>
 <span class="s1">&#39;7c24bf66-9fda-4861-84ec-7ec0ab82354d&#39;</span><span class="p">,</span>
 <span class="s1">&#39;51f75927-86b8-4553-83b5-1484d7d8de7c&#39;</span><span class="p">,</span>
 <span class="s1">&#39;3680626c-0aaa-49a0-8b88-902e771a42d7&#39;</span><span class="p">,</span>
 <span class="s1">&#39;5d9b7439-0f06-4f97-ae19-e05d49c803a5&#39;</span><span class="p">,</span>
 <span class="s1">&#39;683415da-386d-4798-aa3c-06a6cae590ac&#39;</span><span class="p">,</span>
 <span class="s1">&#39;f5bf695d-4d19-458c-82c7-d71389363550&#39;</span><span class="p">,</span>
 <span class="s1">&#39;a43e7f5f-7c6c-4b36-9e04-d426db56b81c&#39;</span><span class="p">,</span>
 <span class="s1">&#39;4884d1bd-6191-4382-822f-96bd6f220a75&#39;</span><span class="p">,</span>
 <span class="s1">&#39;6d31b764-5214-4d8a-b280-5a9dcc5d16d4&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ba1b2be0-d440-4565-8028-d11162a32025&#39;</span><span class="p">,</span>
 <span class="s1">&#39;93764f60-bc37-4b43-8cbb-323170a621b9&#39;</span><span class="p">,</span>
 <span class="s1">&#39;d3f50bd8-4220-4e8a-a845-982e32ae5d12&#39;</span><span class="p">,</span>
 <span class="s1">&#39;28d73a23-3e73-4087-8f87-62014d261e4c&#39;</span><span class="p">,</span>
 <span class="s1">&#39;597cf592-dbfb-4e77-a71b-f9285e4ecb10&#39;</span><span class="p">,</span>
 <span class="s1">&#39;243305e8-6804-4996-8bfd-f43046ac90f4&#39;</span><span class="p">,</span>
 <span class="s1">&#39;80fe0162-ff7d-48bd-99bb-2eea07a0c9c1&#39;</span><span class="p">,</span>
 <span class="s1">&#39;4b28dd63-6465-4fb2-bb7e-b676c37d22aa&#39;</span><span class="p">,</span>
 <span class="s1">&#39;908bcebc-4d5c-4e88-9464-d7f139a6fd37&#39;</span><span class="p">,</span>
 <span class="s1">&#39;2770efbf-314a-48f7-a68a-64c67a3dffe9&#39;</span><span class="p">,</span>
 <span class="s1">&#39;351447a1-568c-442c-86f6-0220ebaab128&#39;</span><span class="p">,</span>
 <span class="s1">&#39;9e649f66-7ce3-4751-b258-c075daa5f34b&#39;</span><span class="p">,</span>
 <span class="s1">&#39;6708441f-4e07-442e-a13b-5e797923a920&#39;</span><span class="p">,</span>
 <span class="s1">&#39;9ab40b4d-930d-4543-a608-97ce1444bc1d&#39;</span><span class="p">,</span>
 <span class="s1">&#39;19fdb172-ea85-4df0-b505-ec0e6590a86d&#39;</span><span class="p">,</span>
 <span class="s1">&#39;9d85d0b8-4307-499e-882e-74ca4c6465c4&#39;</span><span class="p">,</span>
 <span class="s1">&#39;46747b9b-f6ab-44b2-a089-ecd6c28dfa8b&#39;</span><span class="p">,</span>
 <span class="s1">&#39;7bec8d46-315d-4737-bef5-6d840e3a0574&#39;</span><span class="p">,</span>
 <span class="s1">&#39;8132ce2f-ea3d-40e4-b912-f186212a13bb&#39;</span><span class="p">,</span>
 <span class="s1">&#39;6ff559ac-6fcd-499d-80bd-e73166eb76bf&#39;</span><span class="p">,</span>
 <span class="s1">&#39;55fde6f4-c930-4d4a-b473-3b42302ec3a5&#39;</span><span class="p">,</span>
 <span class="s1">&#39;3af8b387-c6ae-498f-add1-1f0eb3af796b&#39;</span><span class="p">,</span>
 <span class="s1">&#39;d28dd9e0-79bf-4674-bc62-4e302ccdace5&#39;</span><span class="p">,</span>
 <span class="s1">&#39;fbcb291e-6f3e-42cd-83f8-87a71c435159&#39;</span><span class="p">,</span>
 <span class="s1">&#39;8bc3daa9-7497-424f-b9ce-5d5e5bebf780&#39;</span><span class="p">,</span>
 <span class="s1">&#39;5b015361-6511-4c1c-bd56-0dd7b653e357&#39;</span><span class="p">,</span>
 <span class="s1">&#39;39723fd4-471d-4269-af5e-3e2c3725ca2a&#39;</span><span class="p">,</span>
 <span class="s1">&#39;fa48d311-efbf-467a-8d3e-adc520f090af&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ac3658cf-4807-4412-9673-22adc5aff88c&#39;</span><span class="p">,</span>
 <span class="s1">&#39;474107a9-f561-4dc3-8053-92a8b8c821ba&#39;</span><span class="p">,</span>
 <span class="s1">&#39;075aafba-dca7-44d6-8e3c-67b966e3574c&#39;</span><span class="p">,</span>
 <span class="s1">&#39;48d4045e-ea32-4189-b733-4e5a88a5c9be&#39;</span><span class="p">,</span>
 <span class="s1">&#39;78efb679-bfc8-4802-80cd-4d6f40984561&#39;</span><span class="p">,</span>
 <span class="s1">&#39;bfa29b7c-4ff4-452b-a00c-ca31a127b807&#39;</span><span class="p">,</span>
 <span class="s1">&#39;a5e17639-4396-4967-ae79-dfa194bf92cc&#39;</span><span class="p">,</span>
 <span class="s1">&#39;a93aa73e-4112-4be6-8b2a-c260cc235c6e&#39;</span><span class="p">,</span>
 <span class="s1">&#39;751adb04-d9c5-49c2-981c-93ce3db91c86&#39;</span><span class="p">,</span>
 <span class="s1">&#39;4df2cc18-1075-4c9d-b51a-97dd2ab11831&#39;</span><span class="p">,</span>
 <span class="s1">&#39;54c0dbd9-aa8d-4847-9838-444fc08e4d6c&#39;</span><span class="p">,</span>
 <span class="s1">&#39;0aa86bd6-86ea-44be-b507-721e6b06d850&#39;</span><span class="p">,</span>
 <span class="s1">&#39;4e2f934a-01ea-44ac-80a7-1f3591d859ab&#39;</span><span class="p">,</span>
 <span class="s1">&#39;8c29bca5-3817-4761-9fd0-1c8deb59e8a1&#39;</span><span class="p">,</span>
 <span class="s1">&#39;46d3304c-c8c5-4550-a3e5-f236253ae414&#39;</span><span class="p">,</span>
 <span class="s1">&#39;931e9087-1830-49cb-b878-0e7b2adac375&#39;</span><span class="p">,</span>
 <span class="s1">&#39;d56fa80f-0914-4aa7-a850-1e9b38b2c30a&#39;</span><span class="p">,</span>
 <span class="s1">&#39;76773f68-5bca-4255-89fa-4e36c147490b&#39;</span><span class="p">,</span>
 <span class="s1">&#39;9f477b6e-c7e7-4a1e-9a81-756a63a7908d&#39;</span><span class="p">,</span>
 <span class="s1">&#39;baf84af3-8154-4469-a7dd-c1ff930593e8&#39;</span><span class="p">,</span>
 <span class="s1">&#39;763061f0-5cba-4dd3-b7cf-0b1682add3f1&#39;</span><span class="p">,</span>
 <span class="s1">&#39;23cafa21-0d30-4fe5-b889-3ab5e090f1c4&#39;</span><span class="p">,</span>
 <span class="s1">&#39;cff239e9-35c7-4cc8-8028-53cd988afbd4&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ddc504dc-35cc-4dee-b8b3-83ea4b2b3be3&#39;</span><span class="p">,</span>
 <span class="s1">&#39;d8fa1b1e-33a3-4298-a08e-c64149f36638&#39;</span><span class="p">,</span>
 <span class="s1">&#39;106a1af6-3046-4cbc-820f-d56cf914e1ba&#39;</span><span class="p">,</span>
 <span class="s1">&#39;67fb1283-9f87-4788-badf-ba2ec35ab669&#39;</span><span class="p">,</span>
 <span class="s1">&#39;36817bb0-47b7-4447-a441-fe3ae932ab52&#39;</span><span class="p">,</span>
 <span class="s1">&#39;519b30a6-6385-442a-b3e8-4b537ac91a70&#39;</span><span class="p">,</span>
 <span class="s1">&#39;78cdb246-465f-424e-aa08-0f1c7b1d242f&#39;</span><span class="p">,</span>
 <span class="s1">&#39;55bacf64-909b-4048-bcdd-f3abaf373c44&#39;</span><span class="p">,</span>
 <span class="s1">&#39;282f0d36-d4f7-47de-97e7-a770e2db7473&#39;</span><span class="p">,</span>
 <span class="s1">&#39;af1dbca2-831b-41ed-bbd0-1ddcfaa95f34&#39;</span><span class="p">,</span>
 <span class="s1">&#39;1993ca2b-ceb9-4727-a36a-f0967b16c701&#39;</span><span class="p">,</span>
 <span class="s1">&#39;f5dcf66f-53c0-4bb9-be67-55d3db62fdaf&#39;</span><span class="p">,</span>
 <span class="s1">&#39;780b9b5e-39c3-46e5-8798-6dcbed663102&#39;</span><span class="p">,</span>
 <span class="s1">&#39;74f32c1a-5264-42ad-a07c-c2fbff8a75bf&#39;</span><span class="p">,</span>
 <span class="s1">&#39;bfc97a00-bb28-4268-8716-c0a5794623f9&#39;</span><span class="p">,</span>
 <span class="s1">&#39;565a13ba-d90e-4f26-9703-5d8959ebc3e2&#39;</span><span class="p">,</span>
 <span class="s1">&#39;1f8f8d47-f579-455b-bb28-b27db3278f35&#39;</span><span class="p">,</span>
 <span class="s1">&#39;26ed0a92-359d-45ea-be41-53a7eda1a590&#39;</span><span class="p">,</span>
 <span class="s1">&#39;70967f09-b7a3-4b16-8a58-bf143d81033a&#39;</span><span class="p">,</span>
 <span class="s1">&#39;43965a19-3f86-4d9b-956d-fcbf09c15cf9&#39;</span><span class="p">,</span>
 <span class="s1">&#39;192e8001-87c4-4a59-a831-93cb74c0ad87&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ebdd422a-3f8c-417f-81f1-8d9ce7808fff&#39;</span><span class="p">,</span>
 <span class="s1">&#39;2ddc23b3-4265-4228-bdf2-aa3b8c14b922&#39;</span><span class="p">,</span>
 <span class="s1">&#39;4dc9c568-0d27-4471-9b3c-e3c524bf06fc&#39;</span><span class="p">,</span>
 <span class="s1">&#39;024449ad-b423-4405-9ac3-97082efb2380&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Update the sample(s) with name=2. Replace which container this sample belongs to</span>

<span class="n">conn</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;sample2&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;puck1&#39;</span><span class="p">})</span>

<span class="c1"># True suggests update complete. Else raises</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kc">True</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># All &#39;find()&#39;s return generators</span>
<span class="n">conn</span><span class="o">.</span><span class="n">find</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">generator</span> <span class="nb">object</span> <span class="n">SampleReference</span><span class="o">.</span><span class="n">find</span> <span class="n">at</span> <span class="mh">0x106953570</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Create a handler for container</span>
<span class="n">conn2</span> <span class="o">=</span> <span class="n">ContainerReference</span><span class="p">()</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Create a simple container</span>
<span class="n">conn2</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="s1">&#39;puck1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;puck1&#39;</span><span class="p">,</span>
 <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461595532.861217</span><span class="p">,</span>
 <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;f62a90d1-5c3e-48d4-a947-4255935a132b&#39;</span><span class="p">}</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Get all containers created</span>
<span class="nb">list</span><span class="p">(</span><span class="n">conn2</span><span class="o">.</span><span class="n">find</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;puck1&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461595532.861217</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;f62a90d1-5c3e-48d4-a947-4255935a132b&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;puck2&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461349981.393828</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;fce8269b-f3a0-406f-bffe-d65506f25a86&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;puck2&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461349845.672055</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;56606e4e-d47d-4868-9f74-6651ed4e8275&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;puck2&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461329918.217565</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;9930a70c-51a2-46a6-bb14-7efa22a69d9e&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;puck2&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461275348.307509</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;e4f7e744-91c2-41b3-866c-0ae647cb873d&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461275338.994905</span><span class="p">,</span> <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;6a04517c-9b2f-4a34-a942-f701c251fe94&#39;</span><span class="p">}]</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Update what container puck1 is contained within</span>
<span class="n">conn2</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;puck1&#39;</span><span class="p">}</span> <span class="p">,{</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;puck2&#39;</span><span class="p">})</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kc">True</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Create a request handler</span>
<span class="n">conn3</span> <span class="o">=</span> <span class="n">RequestReference</span><span class="p">()</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Create a single request with one of the samples (in this case, arbitrary)</span>
<span class="n">conn3</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">sample</span><span class="o">=</span><span class="nb">next</span><span class="p">(</span><span class="n">conn</span><span class="o">.</span><span class="n">find</span><span class="p">()))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="s1">&#39;024449ad-b423-4405-9ac3-97082efb2380&#39;</span><span class="p">,</span>
 <span class="s1">&#39;seq_num&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
 <span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span>
 <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461595537.429296</span><span class="p">,</span>
 <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;99d56b43-25c9-4e11-97c3-f89d9f88a66e&#39;</span><span class="p">}</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Get the last 10 arbitrary requests</span>
<span class="nb">list</span><span class="p">(</span><span class="n">conn3</span><span class="o">.</span><span class="n">find</span><span class="p">())[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="s1">&#39;024449ad-b423-4405-9ac3-97082efb2380&#39;</span><span class="p">,</span>
  <span class="s1">&#39;seq_num&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461595537.429296</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;99d56b43-25c9-4e11-97c3-f89d9f88a66e&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="s1">&#39;249c51e1-ba7f-4412-834a-f1c814044a3b&#39;</span><span class="p">,</span>
  <span class="s1">&#39;seq_num&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461595260.575152</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;320ed2f7-acd7-4966-b3d8-d3006b94a166&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="s1">&#39;249c51e1-ba7f-4412-834a-f1c814044a3b&#39;</span><span class="p">,</span>
  <span class="s1">&#39;seq_num&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461349983.847516</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;07675e66-4886-492f-851d-6110bd2ce910&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="s1">&#39;712b0feb-2667-4b22-aa8a-061ecf14af0a&#39;</span><span class="p">,</span>
  <span class="s1">&#39;seq_num&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461349846.453589</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;e5bcc711-de1f-4ab4-b1d1-5f2a56e411a3&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;antihero&#39;</span><span class="p">:</span> <span class="s1">&#39;romans&#39;</span><span class="p">,</span>
  <span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span>
  <span class="s1">&#39;hero&#39;</span><span class="p">:</span> <span class="s1">&#39;obelix&#39;</span><span class="p">,</span>
  <span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="s1">&#39;NULL&#39;</span><span class="p">,</span>
  <span class="s1">&#39;seq_num&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;inactive&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461331980.517245</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;8122e975-4cfe-4afe-9d06-dffbe674796c&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;antihero&#39;</span><span class="p">:</span> <span class="s1">&#39;romans&#39;</span><span class="p">,</span>
  <span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span>
  <span class="s1">&#39;hero&#39;</span><span class="p">:</span> <span class="s1">&#39;obelix&#39;</span><span class="p">,</span>
  <span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="s1">&#39;NULL&#39;</span><span class="p">,</span>
  <span class="s1">&#39;seq_num&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461331979.489911</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;7f92cff1-9455-49f0-addd-dee9a82d42a0&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;antihero&#39;</span><span class="p">:</span> <span class="s1">&#39;romans&#39;</span><span class="p">,</span>
  <span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span>
  <span class="s1">&#39;hero&#39;</span><span class="p">:</span> <span class="s1">&#39;asterix&#39;</span><span class="p">,</span>
  <span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="s1">&#39;NULL&#39;</span><span class="p">,</span>
  <span class="s1">&#39;seq_num&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461331978.460395</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;efb60a85-b730-40bc-8f86-46f99a7b8fac&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;antihero&#39;</span><span class="p">:</span> <span class="s1">&#39;romans&#39;</span><span class="p">,</span>
  <span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span>
  <span class="s1">&#39;hero&#39;</span><span class="p">:</span> <span class="s1">&#39;asterix&#39;</span><span class="p">,</span>
  <span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="s1">&#39;NULL&#39;</span><span class="p">,</span>
  <span class="s1">&#39;seq_num&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461331977.438713</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;c01a998e-7c31-4d8e-9ec2-7651800137d9&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="s1">&#39;NULL&#39;</span><span class="p">,</span>
  <span class="s1">&#39;seq_num&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461331977.427048</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;5e181a1e-f507-4ce7-9233-3f3eddc9caa1&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="s1">&#39;NULL&#39;</span><span class="p">,</span>
  <span class="s1">&#39;seq_num&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;active&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461331976.407339</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;02248364-4beb-485d-b735-5258052b913b&#39;</span><span class="p">}]</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Set the state of all requests for a given sample to &#39;inactive&#39;</span>
<span class="n">conn3</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="s1">&#39;5a117ba4-ad8f-4716-a2ae-72d11acfb91d&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;state&#39;</span><span class="p">:</span> <span class="s1">&#39;inactive&#39;</span><span class="p">})</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kc">True</span>
</pre></div>
</div>
</div>
<div class="section" id="local-sample-management-examples">
<h1>Local Sample Management Examples<a class="headerlink" href="#local-sample-management-examples" title="Permalink to this headline">¶</a></h1>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">amostra.client.local_commands</span> <span class="k">import</span> <span class="n">LocalSampleReference</span><span class="p">,</span> <span class="n">LocalContainerReference</span><span class="p">,</span> <span class="n">LocalRequestReference</span>
<span class="n">cnn</span> <span class="o">=</span> <span class="n">LocalSampleReference</span><span class="p">()</span>
<span class="n">cnn</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;NULL&#39;</span><span class="p">,</span>
 <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span>
 <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461595544.629661</span><span class="p">,</span>
 <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;f5b10597-5952-4d14-ac95-1aa3c85ca198&#39;</span><span class="p">}</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">cnn</span><span class="o">.</span><span class="n">find</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;NULL&#39;</span><span class="p">,</span>
  <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;minetoo&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461332863.319112</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;cbdb18e6-0b6a-489a-8e8b-0fb8c66021eb&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;NULL&#39;</span><span class="p">,</span>
  <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;minetoo&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461332881.641423</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;6b906b24-6e46-4b3a-ace4-dcd2b804b1b9&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;NULL&#39;</span><span class="p">,</span>
  <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;minetoo&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461349847.362067</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;d7bb7d10-9c65-4ccd-a594-dc50258f8804&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;NULL&#39;</span><span class="p">,</span>
  <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;minetoo&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461349985.442712</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;14676391-d1a2-44d4-96f7-832815a412e7&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;NULL&#39;</span><span class="p">,</span>
  <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461595515.105916</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;fbf9f1a3-c02c-449f-a208-67ec9edac803&#39;</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;NULL&#39;</span><span class="p">,</span>
  <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461595544.629661</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;f5b10597-5952-4d14-ac95-1aa3c85ca198&#39;</span><span class="p">}]</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">cnn</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;minetoo&#39;</span><span class="p">})</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">arkilic</span><span class="o">/</span><span class="n">amostra_files</span><span class="o">/</span><span class="n">samples</span><span class="o">.</span><span class="n">json</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">}</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;minetoo&#39;</span><span class="p">}</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">conn_cont</span> <span class="o">=</span> <span class="n">LocalContainerReference</span><span class="p">()</span>
<span class="n">conn_cont</span><span class="o">.</span><span class="n">create</span><span class="p">()</span>
<span class="nb">list</span><span class="p">(</span><span class="n">conn_cont</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;3d2fdd7a-845b-4335-8b88-e6f5658e3e18&#39;</span><span class="p">}))</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s1">&#39;container&#39;</span><span class="p">:</span> <span class="s1">&#39;NULL&#39;</span><span class="p">,</span>
  <span class="s1">&#39;time&#39;</span><span class="p">:</span> <span class="mf">1461331188.602469</span><span class="p">,</span>
  <span class="s1">&#39;uid&#39;</span><span class="p">:</span> <span class="s1">&#39;3d2fdd7a-845b-4335-8b88-e6f5658e3e18&#39;</span><span class="p">}]</span>
</pre></div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="examples.html" class="btn btn-neutral float-right" title="More Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="setup.html" class="btn btn-neutral" title="Setup" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Arman Arkilic.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>