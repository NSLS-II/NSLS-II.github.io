


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>NSLS-II Software Documentation &mdash; NSLS-II Software Documentation  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Event-Based Architecture" href="architecture-overview.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="#" class="icon icon-home"> NSLS-II Software Documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="architecture-overview.html">Event-Based Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookbook/index.html">Cookbook (Examples)</a></li>
<li class="toctree-l1"><a class="reference internal" href="remote-access.html">Remote Access</a></li>
<li class="toctree-l1"><a class="reference internal" href="sandbox.html">Sandbox</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History of Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="conda.html">Software Deployment with Conda</a></li>
<li class="toctree-l1"><a class="reference internal" href="fresh-installation.html">Installation at a Beamline</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Recommended Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="internal_index.html">Internal Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="meetings/index.html">Meetings</a></li>
</ul>
<p class="caption"><span class="caption-text">Data Collection</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://nsls-ii.github.io/bluesky">bluesky</a></li>
<li class="toctree-l1"><a class="reference external" href="https://nsls-ii.github.io/ophyd">ophyd</a></li>
</ul>
<p class="caption"><span class="caption-text">Data Access and Management</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://nsls-ii.github.io/databroker">databroker</a></li>
<li class="toctree-l1"><a class="reference external" href="https://nsls-ii.github.io/amostra">amostra</a></li>
<li class="toctree-l1"><a class="reference external" href="https://nsls-ii.github.io/datamuxer">datamuxer</a></li>
<li class="toctree-l1"><a class="reference external" href="https://nsls-ii.github.io/suitcase">suitcase</a></li>
</ul>
<p class="caption"><span class="caption-text">Data Analysis</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="http://scikit-beam.github.io/scikit-beam">scikit-beam</a></li>
</ul>
<p class="caption"><span class="caption-text">GitHub Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/NSLS-II/">NSLS-II Repositories</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/NSLS-II/wishlist/issues">Wish List</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/NSLS-II/Bug-Reports/issues">Bug Reports</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">NSLS-II Software Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#">Docs</a> &raquo;</li>
        
      <li>NSLS-II Software Documentation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="nsls-ii-software-documentation">
<h1>NSLS-II Software Documentation<a class="headerlink" href="#nsls-ii-software-documentation" title="Permalink to this headline">¶</a></h1>
<p>The NSLS-II software toolchain is a set of cooperative software components
for scientific data acquisition, management, and analysis. It aims to address
the entire process, from experiment specification to the composition of
publication-quality plots.</p>
<div class="section" id="design-goals">
<h2>Design Goals<a class="headerlink" href="#design-goals" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Integrated data collection and analysis.</li>
<li>Rich Metadata is automatically captured and organized for rich search
and reproducibility.</li>
<li>Live, Streaming Data: Available for inline visualization and
processing.</li>
<li>Pluggable I/O: Export data (live) into any desired format or
database; standardized in-memory format for retrieval.</li>
<li>Experiment Generality: Seamlessly reuse a procedure on completely
different hardware.</li>
<li>Use same tools for prompt and offline analysis</li>
<li>Capture provenance and result of intermediate computation.</li>
<li>Use existing, open-source technologies and languages.</li>
</ul>
</div>
<div class="section" id="overview-of-software-components">
<h2>Overview of Software Components<a class="headerlink" href="#overview-of-software-components" title="Permalink to this headline">¶</a></h2>
<p>This diagram illustrates the scope of each library in the NSLS-II software
stack and the libraries’ interfaces. <em>Bluesky</em> orchestrates the execution of an
experiment, communicating with hardware only via a high-level abstraction
provided by <em>ophyd</em>. Bluesky collates measurements and metadata into documents
which are stored in a database and, concurrently, used in any live
visualization or processing. These documents can then be accessed later via the
<em>databroker</em>. Detectors with high acquisition rates may write files directly
(in any format). Records for locating and interpreting these files are also
stored in the database.</p>
<a class="reference internal image-reference" href="_images/collection-overview.svg"><div align="center" class="align-center"><img alt="_images/collection-overview.svg" src="_images/collection-overview.svg" width="100%" /></div>
</a>
<p>Bluesky is agnostic to the underlying control system and has been co-developed
with ophyd, a hardware abstraction library. Ophyd currently interfaces with
EPICS, but is designed to be generalized to support other control systems.</p>
<p>The Documents organize measurements and metadata in an <a class="reference internal" href="architecture-overview.html#architecture"><span class="std std-ref">event-based model</span></a>. The model is formally specified but minimalist. It is
flexible, able to capture the wide range of scientific domains studied at
NSLS-II. Nothing in the model is specific to NSLS-II or even to synchrotron
science.</p>
</div>
<div class="section" id="project-status-roadmap">
<h2>Project Status &amp; Roadmap<a class="headerlink" href="#project-status-roadmap" title="Permalink to this headline">¶</a></h2>
<p>The acquisition software (ophyd &amp; bluesky) have stabilized and are used in
production at twelve NSLS-II beamlines.  We have been able to handle all of the
expected use cases and several unforeseen applications, validating the
architecture of ophyd/bluesky and the document model.  Recently, most of the
development effort has been going into documentation and community-building.
(The <a class="reference external" href="https://nsls-ii.github.io/bluesky">bluesky documentation</a> is
particularly polished and comprehensive.)  In addition, the software has been
installed at several other facilities for testing and evaluation.</p>
<p>Simple prompt analysis (plots, data tables, curve fitting) is widely used
at NSLS-II. Some beamlines are taking full advantage of the event-based data
model and live access to data, and there are some early examples of feeding
prompt analysis back into the experiment control logic.</p>
<p>Going into the Spring 2017 cycle, the focus will shift to data access and
analysis. This includes streamlining the user interface to saved data
(databroker) and optimizing the data storage backends with performance and
portability in mind. Additionally, work is ongoing to capture intermediate
analysis results with associated provenance.</p>
<p>Building on top of this data retrieval software, we will write cross-beamline
multimodal analysis tools.</p>
<p>Detailed plans for each project are managed and discussed in the open on
<a class="reference external" href="https://github.com/NSLS-II/">GitHub</a>, where the user community is invited to
observe, comment, and contribute.</p>
</div>
<div class="section" id="software-packages">
<h2>Software Packages<a class="headerlink" href="#software-packages" title="Permalink to this headline">¶</a></h2>
<p>Each package has its own documentation, linked below.</p>
<ul class="simple">
<li>Specify experiment procedures and acquire data using
<a class="reference external" href="http://nsls-ii.github.io/bluesky">bluesky</a>.</li>
<li>Set up hardware to communicate with bluesky using
<a class="reference external" href="http://nsls-ii.github.io/ophyd">ophyd</a>.</li>
<li>Access saved data (and metadata) using
<a class="reference external" href="http://nsls-ii.github.io/databroker">databroker</a>.</li>
</ul>
<p>The following projects are in use but in a less mature stage of development.</p>
<ul class="simple">
<li>For high-throughput applications, make a database of samples using
<a class="reference external" href="https://nsls-ii.github.io/amostra">amostra</a>.</li>
<li>Align (“de-multiplex”) asynchronously collected data streams, based on time
stamps, using <a class="reference external" href="http://nsls-ii.github.io/datamuxer">datamuxer</a>.</li>
<li>Export data from the databroker to common formats using
<a class="reference external" href="http://nsls-ii.github.io/suitcase">suitcase</a>.</li>
<li>Write analysis code using <a class="reference external" href="scikit-beam.github.io/scikit-beam">scikit-beam</a>,
in conjunction with
<a class="reference external" href="http://www.scipy.org/">widely-used scientific Python libraries</a>.</li>
<li>Utilize beamline-specific libraries in the Github organizations maintained
by individual NSLS-II beamlines at <code class="docutils literal notranslate"><span class="pre">github.com/NSLS-II-XXX</span></code> where XXX
is the three-letter beamline acronym (e.g., HXN, ISS, CHX, etc.).</li>
</ul>
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="architecture-overview.html" class="btn btn-neutral float-right" title="Event-Based Architecture" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015 Brookhaven National Lab.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>